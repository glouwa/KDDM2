<head>
    <link href="../node_modules/billboard.js/dist/billboard.css" rel="stylesheet">
    <script src="../node_modules/billboard.js/dist/billboard.pkgd.js"></script>
    <script src="../res/ttf.js"></script>
    <script src="../res/anc.js"></script>
    <script src="../res/isa.js"></script>
    <script src="../res/sco.js"></script>
</head>
<body>
    <div id="TTFChart"></div>    
    <div id="BTFChart"></div> 
    <div id="ANCChart"></div>    
    <div id="ISAChart"></div>    
    <div id="SCOChart"></div>
    
    <script>       
        function plot(data, divid, xlabel) {
            var entries = Object.entries(data)
            entries = entries.sort((a, b)=> b[1] - a[1])
            entries = entries.filter(e=> e[1] > 15)

            var numbers = entries.map(e=> e[1])
            var labels = entries.map(e=> e[0])

            var chart = bb.generate({
                data: {
                    columns: [[xlabel].concat(numbers)],
                    type: "bar"
                },
                bar: { width: { ratio: 1 }},
                axis: {
                    x: {
                        type: "category",
                        categories: labels,
                        show: false,

                    }
                },
                bindto: divid
            })
        }
        plot(ttf, "#TTFChart", "TTF")
        plot(ttf, "#BTFChart", "BTF")
        plot(anc, "#ANCChart", "Answer Count")
        plot(isa, "#ISAChart", "Is Answered")
        plot(sco, "#SCOChart", "Question Score")
    </script>
</body>
{
    "items": [
        {
            "tags": [
                "mysql",
                "sql"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9654160,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/1483742408418098/picture?type=large",
                "display_name": "Ami Panwar AP",
                "link": "https://stackoverflow.com/users/9654160/ami-panwar-ap"
            },
            "is_answered": false,
            "view_count": 29,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152993,
            "creation_date": 1524147945,
            "last_edit_date": 1524152993,
            "question_id": 49923555,
            "body_markdown": "I want to create a table where a column can&#39;t contain the value `0` have tried many times but its not working why? \r\n\r\nThe queries i have tried:\r\n\r\n    create tale t_name(a int(11) not null check(a&lt;&gt;0));\r\n\r\nthis query is ok but the column a is still taking the value `0` why?",
            "link": "https://stackoverflow.com/questions/49923555/having-trouble-in-ignore-a-value-in-sql",
            "title": "having trouble in ignore a value in sql",
            "body": "<p>I want to create a table where a column can't contain the value <code>0</code> have tried many times but its not working why? </p>\n\n<p>The queries i have tried:</p>\n\n<pre><code>create tale t_name(a int(11) not null check(a&lt;&gt;0));\n</code></pre>\n\n<p>this query is ok but the column a is still taking the value <code>0</code> why?</p>\n"
        },
        {
            "tags": [
                "flex"
            ],
            "owner": {
                "reputation": 4382,
                "user_id": 294702,
                "user_type": "registered",
                "accept_rate": 90,
                "profile_image": "https://i.stack.imgur.com/UxXtL.jpg?s=128&g=1",
                "display_name": "MonoThreaded",
                "link": "https://stackoverflow.com/users/294702/monothreaded"
            },
            "is_answered": true,
            "view_count": 2227,
            "accepted_answer_id": 8051672,
            "answer_count": 3,
            "score": 2,
            "last_activity_date": 1524152985,
            "creation_date": 1320677719,
            "question_id": 8038179,
            "body_markdown": "I am not able to get milliseconds with DateTimeFormatter. I lost a few hair to this already:\r\n\r\n\r\n\t&lt;fx:Declarations&gt;\r\n\t\t&lt;s:DateTimeFormatter id=&quot;dtf&quot; \r\n\t\t\t\t\t\t\t dateTimePattern=&quot;{pattern.text}&quot;\r\n\t\t\t\t\t\t\t errorText=&quot;Invalid input value&quot;/&gt; \t\t\r\n\t&lt;/fx:Declarations&gt;\r\n\t&lt;s:HGroup&gt;\r\n\t\t&lt;s:TextInput id=&quot;pattern&quot; /&gt;\r\n\t\t&lt;s:Label text=&quot;{dtf.format( new Date())}&quot; /&gt;\r\n\t&lt;/s:HGroup&gt;\r\n\r\nWhen I type &quot;y-MM-dd HH:mm:ss.SSS#&quot; in {pattern} , I am not seeing anything between the dot and the pound sign. Does SSS only work for parsing?",
            "link": "https://stackoverflow.com/questions/8038179/not-able-to-format-milliseconds-with-datetimeformatter",
            "title": "Not able to format milliseconds with DateTimeFormatter",
            "body": "<p>I am not able to get milliseconds with DateTimeFormatter. I lost a few hair to this already:</p>\n\n<pre><code>&lt;fx:Declarations&gt;\n    &lt;s:DateTimeFormatter id=\"dtf\" \n                         dateTimePattern=\"{pattern.text}\"\n                         errorText=\"Invalid input value\"/&gt;      \n&lt;/fx:Declarations&gt;\n&lt;s:HGroup&gt;\n    &lt;s:TextInput id=\"pattern\" /&gt;\n    &lt;s:Label text=\"{dtf.format( new Date())}\" /&gt;\n&lt;/s:HGroup&gt;\n</code></pre>\n\n<p>When I type \"y-MM-dd HH:mm:ss.SSS#\" in {pattern} , I am not seeing anything between the dot and the pound sign. Does SSS only work for parsing?</p>\n"
        },
        {
            "tags": [
                "azure-aks"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9667941,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128",
                "display_name": "Raf",
                "link": "https://stackoverflow.com/users/9667941/raf"
            },
            "is_answered": false,
            "view_count": 32,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524152971,
            "creation_date": 1524117525,
            "last_edit_date": 1524119733,
            "question_id": 49913736,
            "body_markdown": "I am trying to bring up K8s Cluster in Azure. This is the error I am getting:\r\n\r\n&gt;az aks create --resource-group upf-infra-ResourceGroup --name upf-infra-K8sCluster-1 --node-count 1 --generate-ssh-keys\r\nDeployment failed. Correlation ID: d90bed78-075f-4a07-81c0-271dac75e0ca. PutControlPlane error",
            "link": "https://stackoverflow.com/questions/49913736/azure-container-service-creating-issue",
            "title": "azure container service creating issue",
            "body": "<p>I am trying to bring up K8s Cluster in Azure. This is the error I am getting:</p>\n\n<blockquote>\n  <p>az aks create --resource-group upf-infra-ResourceGroup --name upf-infra-K8sCluster-1 --node-count 1 --generate-ssh-keys\n  Deployment failed. Correlation ID: d90bed78-075f-4a07-81c0-271dac75e0ca. PutControlPlane error</p>\n</blockquote>\n"
        },
        {
            "tags": [
                "entity-framework",
                "code-first",
                "ef-migrations",
                "fluent-interface"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 2998537,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/03c110b83122ae7e5dbdd66e3497e67b?s=128&d=identicon&r=PG&f=1",
                "display_name": "ataber",
                "link": "https://stackoverflow.com/users/2998537/ataber"
            },
            "is_answered": true,
            "view_count": 445,
            "accepted_answer_id": 20019292,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152969,
            "creation_date": 1384575837,
            "last_edit_date": 1524152969,
            "question_id": 20014656,
            "body_markdown": "I am working on an Entity Framework Code First project and having some issues creating mappings. A little background:\r\n\r\nThe database will be used for an online survey demo. For the purposes of this question, it&#39;s useful to know that we have Question and QuestionAnswerOption entities. On the question entity we need to first know the available QuestionAnswerOptions for the currrent question. Second, we would like to know if there is a pre-requisite question and then if there is we need to know what are the acceptable QuestionAnswerOptions from the pre-req question that allow this question to be displayed or hidden. \r\n\r\nHopefully this makes sense, but I will put some mock code so you can see pretty much what we&#39;ve got so far.\r\n\r\n    public class Question\r\n    {\r\n        public virtual List&lt;QuestionAnswerOption&gt; AvailableQuestionAnswerOptions { get; set; }\r\n        public Question RequiredPrerequisiteQuestion { get; set; }\r\n        public virtual List&lt;QuestionAnswerOption&gt; AcceptablePrerequisiteQuestionAnswerOptions { get; set; }\r\n    }\r\n\r\n    public class QuestionAnswerOption\r\n    {\r\n        public int Index { get;set; }\r\n        public string Value { get;set; } // this may be &#39;Yes&#39;, &#39;No&#39;, &#39;Maybe&#39;, &#39;Don&#39;t Know&#39;, etc.\r\n        public virtual List&lt;Question&gt; Questions { get; set; }\r\n    }\r\n    \r\n    // then inside of our database context class we have the following\r\n    protected override void OnModelCreating(System.Data.Entity.DbModelBuilder modelBuilder)\r\n    {\r\n        base.OnModelCreating(modelBuilder);\r\n\r\n        modelBuilder.Conventions.Remove&lt;OneToManyCascadeDeleteConvention&gt;();\r\n        modelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();\r\n\r\n        modelBuilder.Entity&lt;Question&gt;().HasMany(x =&gt;\r\n\t\t\tx.AvailableQuestionAnswerOptions).WithMany(y =&gt; y.Questions)\r\n\t\t\t.Map(m =&gt;\r\n\t\t\t{\r\n\t\t\t\tm.MapLeftKey(&quot;Question_ID&quot;);\r\n\t\t\t\tm.MapRightKey(&quot;QuestionAnswerOption_ID&quot;);\r\n\t\t\t\tm.ToTable(&quot;AvailableQuestionAnswerOptionMap&quot;);\r\n\t\t\t});\r\n\r\n        modelBuilder.Entity&lt;Question&gt;().HasMany(x =&gt;\r\n\t\t\tx.AcceptablePrerequisiteQuestionAnswerOptions).WithMany(y =&gt; y.Questions)\r\n\t\t\t.Map(m =&gt;\r\n\t\t\t{\r\n\t\t\t\tm.MapLeftKey(&quot;Question_ID&quot;);\r\n\t\t\t\tm.MapRightKey(&quot;QuestionAnswerOption_ID&quot;);\r\n\t\t\t\tm.ToTable(&quot;AcceptableQuestionAnswerOptionMap&quot;);\r\n\t\t\t});\r\n    }\r\n\r\nWhen trying to create the migration after doing this we get the following error:\r\n\r\n Schema specified is not valid. Errors: The relationship &#39;XYZ.Database.Question_AvailableQuestionAnswerOptions&#39; was not loaded because the type &#39;XYZ.Database.QuestionAnswerOption&#39; is not available.\r\n\r\nHowever, if we comment out either of the 2 modelBuilder.Entity&lt;&gt; calls the migration runs through smoothly. Is there a way to get both of these to work at the same time? Or more importantly, is there a better way to do what we&#39;re trying to do with EF Code First?\r\n\r\nThanks",
            "link": "https://stackoverflow.com/questions/20014656/entity-framework-code-first-multiple-mappings-of-one-entity-type-inside-of-anoth",
            "title": "Entity framework Code First multiple mappings of one entity type inside of another entity type",
            "body": "<p>I am working on an Entity Framework Code First project and having some issues creating mappings. A little background:</p>\n\n<p>The database will be used for an online survey demo. For the purposes of this question, it's useful to know that we have Question and QuestionAnswerOption entities. On the question entity we need to first know the available QuestionAnswerOptions for the currrent question. Second, we would like to know if there is a pre-requisite question and then if there is we need to know what are the acceptable QuestionAnswerOptions from the pre-req question that allow this question to be displayed or hidden. </p>\n\n<p>Hopefully this makes sense, but I will put some mock code so you can see pretty much what we've got so far.</p>\n\n<pre><code>public class Question\n{\n    public virtual List&lt;QuestionAnswerOption&gt; AvailableQuestionAnswerOptions { get; set; }\n    public Question RequiredPrerequisiteQuestion { get; set; }\n    public virtual List&lt;QuestionAnswerOption&gt; AcceptablePrerequisiteQuestionAnswerOptions { get; set; }\n}\n\npublic class QuestionAnswerOption\n{\n    public int Index { get;set; }\n    public string Value { get;set; } // this may be 'Yes', 'No', 'Maybe', 'Don't Know', etc.\n    public virtual List&lt;Question&gt; Questions { get; set; }\n}\n\n// then inside of our database context class we have the following\nprotected override void OnModelCreating(System.Data.Entity.DbModelBuilder modelBuilder)\n{\n    base.OnModelCreating(modelBuilder);\n\n    modelBuilder.Conventions.Remove&lt;OneToManyCascadeDeleteConvention&gt;();\n    modelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();\n\n    modelBuilder.Entity&lt;Question&gt;().HasMany(x =&gt;\n        x.AvailableQuestionAnswerOptions).WithMany(y =&gt; y.Questions)\n        .Map(m =&gt;\n        {\n            m.MapLeftKey(\"Question_ID\");\n            m.MapRightKey(\"QuestionAnswerOption_ID\");\n            m.ToTable(\"AvailableQuestionAnswerOptionMap\");\n        });\n\n    modelBuilder.Entity&lt;Question&gt;().HasMany(x =&gt;\n        x.AcceptablePrerequisiteQuestionAnswerOptions).WithMany(y =&gt; y.Questions)\n        .Map(m =&gt;\n        {\n            m.MapLeftKey(\"Question_ID\");\n            m.MapRightKey(\"QuestionAnswerOption_ID\");\n            m.ToTable(\"AcceptableQuestionAnswerOptionMap\");\n        });\n}\n</code></pre>\n\n<p>When trying to create the migration after doing this we get the following error:</p>\n\n<p>Schema specified is not valid. Errors: The relationship 'XYZ.Database.Question_AvailableQuestionAnswerOptions' was not loaded because the type 'XYZ.Database.QuestionAnswerOption' is not available.</p>\n\n<p>However, if we comment out either of the 2 modelBuilder.Entity&lt;> calls the migration runs through smoothly. Is there a way to get both of these to work at the same time? Or more importantly, is there a better way to do what we're trying to do with EF Code First?</p>\n\n<p>Thanks</p>\n"
        },
        {
            "tags": [
                "c"
            ],
            "owner": {
                "reputation": 4,
                "user_id": 7090346,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/877e0308fdc71c731de40f5cef6b1beb?s=128&d=identicon&r=PG&f=1",
                "display_name": "D.Joe",
                "link": "https://stackoverflow.com/users/7090346/d-joe"
            },
            "is_answered": true,
            "view_count": 35,
            "closed_date": 1524152956,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152964,
            "creation_date": 1524152389,
            "question_id": 49925065,
            "body_markdown": "    short a,*pt=&amp;a;\r\n    printf(&quot;%x, %p\\n&quot;,&amp;a,pt);\r\n    scanf(&quot;%d&quot;,&amp;a);\r\n    printf(&quot;%x, %p\\n&quot;,&amp;a,pt);\r\n \r\nI wanna know what causes the pointer address to change after using the scanf. I know I should use %hd to read in short int but I just wonder what cause the pointer address to change? Also why each run would cause the pointer has different address length to short int&#39;s address? I first thought it was because initial read the size of short&#39;s address and then int&#39;s address, but the difference between two addresses are always different.\r\n\r\nWas this simply an undefined behavior?",
            "link": "https://stackoverflow.com/questions/49925065/how-does-short-pointer-address-work-in-scanf",
            "closed_reason": "duplicate",
            "title": "How does short pointer address work in scanf",
            "body": "<pre><code>short a,*pt=&amp;a;\nprintf(\"%x, %p\\n\",&amp;a,pt);\nscanf(\"%d\",&amp;a);\nprintf(\"%x, %p\\n\",&amp;a,pt);\n</code></pre>\n\n<p>I wanna know what causes the pointer address to change after using the scanf. I know I should use %hd to read in short int but I just wonder what cause the pointer address to change? Also why each run would cause the pointer has different address length to short int's address? I first thought it was because initial read the size of short's address and then int's address, but the difference between two addresses are always different.</p>\n\n<p>Was this simply an undefined behavior?</p>\n"
        },
        {
            "tags": [
                "node.js",
                "pm2"
            ],
            "owner": {
                "reputation": 21,
                "user_id": 7777172,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/285e5e0cf817577696118910a07fde0f?s=128&d=identicon&r=PG&f=1",
                "display_name": "ATHeart",
                "link": "https://stackoverflow.com/users/7777172/atheart"
            },
            "is_answered": false,
            "view_count": 193,
            "answer_count": 2,
            "score": 1,
            "last_activity_date": 1524152959,
            "creation_date": 1490920141,
            "question_id": 43130494,
            "body_markdown": "**this commend start pm2 with cluster mode.**\r\n\r\n    $ pm2 start [app] -i 0\r\n\r\n\r\n**this commend npm start with pm2 process.**\r\n\r\n    $ pm2 start npm -- start\r\n\r\nSo I want npm start of cluster mode.\r\n\r\n    $ pm2 start npm -- start -i 0\r\n\r\nBut &quot;**npm start**&quot; don&#39;t start cluster mode.\r\n\r\nHow to &quot;npm start&quot; with cluster mode on pm2 ?",
            "link": "https://stackoverflow.com/questions/43130494/how-to-npm-start-with-pm2-cluster-mode",
            "title": "how to &quot;npm start&quot; with pm2 cluster mode",
            "body": "<p><strong>this commend start pm2 with cluster mode.</strong></p>\n\n<pre><code>$ pm2 start [app] -i 0\n</code></pre>\n\n<p><strong>this commend npm start with pm2 process.</strong></p>\n\n<pre><code>$ pm2 start npm -- start\n</code></pre>\n\n<p>So I want npm start of cluster mode.</p>\n\n<pre><code>$ pm2 start npm -- start -i 0\n</code></pre>\n\n<p>But \"<strong>npm start</strong>\" don't start cluster mode.</p>\n\n<p>How to \"npm start\" with cluster mode on pm2 ?</p>\n"
        },
        {
            "tags": [
                "php",
                "composer-php",
                "phpseclib"
            ],
            "owner": {
                "reputation": 1326,
                "user_id": 1268048,
                "user_type": "registered",
                "accept_rate": 94,
                "profile_image": "https://i.stack.imgur.com/naEf9.jpg?s=128&g=1",
                "display_name": "Phil",
                "link": "https://stackoverflow.com/users/1268048/phil"
            },
            "is_answered": false,
            "view_count": 22,
            "answer_count": 0,
            "score": 1,
            "last_activity_date": 1524152958,
            "creation_date": 1524150381,
            "last_edit_date": 1524152958,
            "question_id": 49924391,
            "body_markdown": "I&#39;m trying to install phpseclib 2.0 on Windows.  I have downloaded the files located here https://github.com/phpseclib/phpseclib and placed the phpseclib folder in my root website folder.  I&#39;ve also copied the composer.json over to the root website folder too.  \r\n\r\nThe instructions say to use the command \r\n\r\n`composer require phpseclib/phpseclib ~2.0` \r\n\r\nto install, however that only results in the error &#39;composer&#39; is not recognized as an internal or external command, operable program or batch file.  \r\n\r\nI have already installed Composer to my PHP folder, which is located at \r\n\r\n&gt; &quot;C:\\Program Files (x86)\\PHP\\v5.6\\&quot;\r\n\r\n, and I can execute it from there using php composer.phar, but how do I call this from my web app folder?\r\n\r\nI&#39;ve tried the following command\r\n\r\n    &quot;C:\\Program Files (x86)\\PHP\\v5.6\\php.exe&quot; &quot;C:\\Program Files (x86)\\PHP\\v5.6\\composer.phar&quot; require phpseclib/phpseclib ~2.0\r\n\r\nbut it only results in an error of\r\n\r\n&gt; [ErrorException] file_put_contents(): Filename cannot be empty\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49924391/installing-phpseclib-on-windows",
            "title": "Installing PHPSecLib on Windows",
            "body": "<p>I'm trying to install phpseclib 2.0 on Windows.  I have downloaded the files located here <a href=\"https://github.com/phpseclib/phpseclib\" rel=\"nofollow noreferrer\">https://github.com/phpseclib/phpseclib</a> and placed the phpseclib folder in my root website folder.  I've also copied the composer.json over to the root website folder too.  </p>\n\n<p>The instructions say to use the command </p>\n\n<p><code>composer require phpseclib/phpseclib ~2.0</code> </p>\n\n<p>to install, however that only results in the error 'composer' is not recognized as an internal or external command, operable program or batch file.  </p>\n\n<p>I have already installed Composer to my PHP folder, which is located at </p>\n\n<blockquote>\n  <p>\"C:\\Program Files (x86)\\PHP\\v5.6\\\"</p>\n</blockquote>\n\n<p>, and I can execute it from there using php composer.phar, but how do I call this from my web app folder?</p>\n\n<p>I've tried the following command</p>\n\n<pre><code>\"C:\\Program Files (x86)\\PHP\\v5.6\\php.exe\" \"C:\\Program Files (x86)\\PHP\\v5.6\\composer.phar\" require phpseclib/phpseclib ~2.0\n</code></pre>\n\n<p>but it only results in an error of</p>\n\n<blockquote>\n  <p>[ErrorException] file_put_contents(): Filename cannot be empty</p>\n</blockquote>\n"
        },
        {
            "tags": [
                "c#",
                "json",
                "json.net"
            ],
            "owner": {
                "reputation": 37041,
                "user_id": 360211,
                "user_type": "registered",
                "accept_rate": 76,
                "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1",
                "display_name": "weston",
                "link": "https://stackoverflow.com/users/360211/weston"
            },
            "is_answered": true,
            "view_count": 2232,
            "accepted_answer_id": 34569851,
            "answer_count": 1,
            "score": 5,
            "last_activity_date": 1524152947,
            "creation_date": 1451757620,
            "last_edit_date": 1495542728,
            "question_id": 34568963,
            "body_markdown": "I&#39;m getting an annoying inconsistency when I&#39;m writing decimals to json using json.net. Sometimes it&#39;s to 1 dp, other times 2.\r\n\r\nObviously I&#39;m aware of solutions to output decimals to strings with a certain number of decimals such as [this](https://stackoverflow.com/a/164932/360211), but you don&#39;t have that control using json.net without writing a custom serializer I guess.\r\n\r\nI am also aware of `Math.Round` to enforce a **maximum** number of decimal places, this question relates to enforcing a minimum number of decimal places.\r\n\r\nThe first two tests show what is happening, it is keeping the original number of decimal places from the declaration or calculation.\r\n\r\nI found I can add and then subtract a small fraction which the next two tests show working, but is there a cleaner way?\r\n\r\n    [TestFixture]\r\n    public sealed class DecimalPlaces\r\n    {\r\n        public class JsonType\r\n        {\r\n            public decimal Value { get; set; }\r\n        }\r\n    \r\n        [Test]\r\n        public void TwoDp()\r\n        {\r\n            var obj = new JsonType { Value = 1.00m };\r\n            Assert.AreEqual(&quot;{\\&quot;Value\\&quot;:1.00}&quot;, JsonConvert.SerializeObject(obj));\r\n        }\r\n    \r\n        [Test]\r\n        public void OneDp()\r\n        {\r\n            var json = new JsonType { Value = 1.0m };\r\n            Assert.AreEqual(&quot;{\\&quot;Value\\&quot;:1.0}&quot;, JsonConvert.SerializeObject(obj));\r\n        }\r\n\r\n        private decimal ForceMinimumDp(decimal p, int minDecimalPlaces)\r\n        {\r\n            decimal smallFrac = 1m/((decimal)Math.Pow(10, minDecimalPlaces));\r\n            return p + smallFrac - smallFrac;\r\n        }\r\n    \r\n        [Test]\r\n        public void ForceMinimumTwoDp()\r\n        {\r\n            var obj = new JsonType { Value = ForceMinimumDp(1.0m, 2) };\r\n            Assert.AreEqual(&quot;{\\&quot;Value\\&quot;:1.00}&quot;, JsonConvert.SerializeObject(obj));\r\n        }\r\n\r\n        [Test]\r\n        public void ForceMinimumThreeDp()\r\n        {\r\n            var obj = new JsonType { Value = ForceMinimumDp(1.0m, 3) };\r\n            Assert.AreEqual(&quot;{\\&quot;Value\\&quot;:1.000}&quot;, JsonConvert.SerializeObject(obj));\r\n        }\r\n    }",
            "link": "https://stackoverflow.com/questions/34568963/how-can-i-force-a-minimum-number-of-decimal-places-in-json-net",
            "title": "How can I force a minimum number of decimal places in Json.net?",
            "body": "<p>I'm getting an annoying inconsistency when I'm writing decimals to json using json.net. Sometimes it's to 1 dp, other times 2.</p>\n\n<p>Obviously I'm aware of solutions to output decimals to strings with a certain number of decimals such as <a href=\"https://stackoverflow.com/a/164932/360211\">this</a>, but you don't have that control using json.net without writing a custom serializer I guess.</p>\n\n<p>I am also aware of <code>Math.Round</code> to enforce a <strong>maximum</strong> number of decimal places, this question relates to enforcing a minimum number of decimal places.</p>\n\n<p>The first two tests show what is happening, it is keeping the original number of decimal places from the declaration or calculation.</p>\n\n<p>I found I can add and then subtract a small fraction which the next two tests show working, but is there a cleaner way?</p>\n\n<pre><code>[TestFixture]\npublic sealed class DecimalPlaces\n{\n    public class JsonType\n    {\n        public decimal Value { get; set; }\n    }\n\n    [Test]\n    public void TwoDp()\n    {\n        var obj = new JsonType { Value = 1.00m };\n        Assert.AreEqual(\"{\\\"Value\\\":1.00}\", JsonConvert.SerializeObject(obj));\n    }\n\n    [Test]\n    public void OneDp()\n    {\n        var json = new JsonType { Value = 1.0m };\n        Assert.AreEqual(\"{\\\"Value\\\":1.0}\", JsonConvert.SerializeObject(obj));\n    }\n\n    private decimal ForceMinimumDp(decimal p, int minDecimalPlaces)\n    {\n        decimal smallFrac = 1m/((decimal)Math.Pow(10, minDecimalPlaces));\n        return p + smallFrac - smallFrac;\n    }\n\n    [Test]\n    public void ForceMinimumTwoDp()\n    {\n        var obj = new JsonType { Value = ForceMinimumDp(1.0m, 2) };\n        Assert.AreEqual(\"{\\\"Value\\\":1.00}\", JsonConvert.SerializeObject(obj));\n    }\n\n    [Test]\n    public void ForceMinimumThreeDp()\n    {\n        var obj = new JsonType { Value = ForceMinimumDp(1.0m, 3) };\n        Assert.AreEqual(\"{\\\"Value\\\":1.000}\", JsonConvert.SerializeObject(obj));\n    }\n}\n</code></pre>\n"
        },
        {
            "tags": [
                "android",
                "android-studio",
                "android-emulator",
                "vpn"
            ],
            "owner": {
                "reputation": 70,
                "user_id": 2618723,
                "user_type": "registered",
                "accept_rate": 75,
                "profile_image": "https://graph.facebook.com/100001854003468/picture?type=large",
                "display_name": "Abhilash Reddy",
                "link": "https://stackoverflow.com/users/2618723/abhilash-reddy"
            },
            "is_answered": false,
            "view_count": 15,
            "answer_count": 0,
            "score": 1,
            "last_activity_date": 1524152946,
            "creation_date": 1524152946,
            "question_id": 49925234,
            "body_markdown": "I have my Android Studio installed on a VPN and when I am trying to run my emulator inside VPN it doesnot show up. I understand emulator is itself a virtual machine and virtual machine cant run inside another virtual machine, is there a workaround for this.",
            "link": "https://stackoverflow.com/questions/49925234/is-there-a-workaround-to-run-android-emulator-inside-a-vpn",
            "title": "Is there a workaround to run Android Emulator inside a VPN?",
            "body": "<p>I have my Android Studio installed on a VPN and when I am trying to run my emulator inside VPN it doesnot show up. I understand emulator is itself a virtual machine and virtual machine cant run inside another virtual machine, is there a workaround for this.</p>\n"
        },
        {
            "tags": [
                "c#",
                "asp.net",
                ".net",
                "asp.net-mvc"
            ],
            "owner": {
                "reputation": 6,
                "user_id": 8269742,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/609e0689875a11c3edd3ee80077cb7de?s=128&d=identicon&r=PG&f=1",
                "display_name": "dorin munteanu",
                "link": "https://stackoverflow.com/users/8269742/dorin-munteanu"
            },
            "is_answered": true,
            "view_count": 100,
            "accepted_answer_id": 49925233,
            "answer_count": 4,
            "score": 0,
            "last_activity_date": 1524152944,
            "creation_date": 1523958519,
            "last_edit_date": 1523961950,
            "question_id": 49874900,
            "body_markdown": "I&#39;m having problems at adding items to a list, following is my code:\r\n\r\n    using (var poolDbContext = new PoolContext())\r\n    {\r\n    \tQuestion Q = new Question();\r\n    \tQ.Text = &quot;O triunfo do FC Porto frente ao Benfica arrumou de vez as contas do t&#237;tulo?&quot;;\r\n    \tQ.Answer.Add =&quot;Sim, o FC Porto vai ser campe&#227;o.&quot;);\r\n    \r\n    \r\n    \tQ.Answer.Add(&#39;Sim, o FC Porto vai ser campe&#227;o&#39;);\r\n    \tQ.Answer.Add(&quot;N&#227;o, o Benfica ainda tem uma palavra a dizer.&quot;);\r\n    \tQ.Answer.Add(&quot;N&#227;o, o Sporting ainda vai ser campe&#227;o.&quot;);\r\n    \tQ.Answer.Add(&quot;N&#227;o ligo a futebol.&quot;);\r\n    \tpoolDbContext.Questions.Add(Q);\r\n    \tpoolDbContext.Answers.Add(Q);\r\n    \tvar count = poolDbContext.SaveChanges();\r\n    }\r\n\r\nAnd here is my .Models.Questions:\r\n\r\n    public class Question\r\n    {\r\n    \tpublic string Text { get; set; }\r\n    \tpublic List&lt;Answer&gt; Answer { get; set; }\r\n    \r\n    }\r\n\r\nI&#39;d like it to receive on the Models.Question the questions and the 4 answers for that questions.\r\nPlease tell me if I&#39;m doing something wrong.\r\n\r\n**Edit:**\r\n\r\nHere is the `Answer`-class:\r\n\r\n    using System; \r\n    using System.Collections.Generic; \r\n    using System.Text; \r\n    \r\n    namespace PoolManager.Models \r\n    { \r\n    \tpublic class Answer \r\n    \t{ \r\n    \t\tpublic string Questions { get; set; } \r\n    \t\tpublic string Answers { get; set; } \r\n    \t\tpublic string Results { get; set; } \r\n    \t} \r\n    }",
            "link": "https://stackoverflow.com/questions/49874900/can-not-add-items-to-a-list",
            "title": "Can not add items to a list",
            "body": "<p>I'm having problems at adding items to a list, following is my code:</p>\n\n<pre><code>using (var poolDbContext = new PoolContext())\n{\n    Question Q = new Question();\n    Q.Text = \"O triunfo do FC Porto frente ao Benfica arrumou de vez as contas do título?\";\n    Q.Answer.Add =\"Sim, o FC Porto vai ser campeão.\");\n\n\n    Q.Answer.Add('Sim, o FC Porto vai ser campeão');\n    Q.Answer.Add(\"Não, o Benfica ainda tem uma palavra a dizer.\");\n    Q.Answer.Add(\"Não, o Sporting ainda vai ser campeão.\");\n    Q.Answer.Add(\"Não ligo a futebol.\");\n    poolDbContext.Questions.Add(Q);\n    poolDbContext.Answers.Add(Q);\n    var count = poolDbContext.SaveChanges();\n}\n</code></pre>\n\n<p>And here is my .Models.Questions:</p>\n\n<pre><code>public class Question\n{\n    public string Text { get; set; }\n    public List&lt;Answer&gt; Answer { get; set; }\n\n}\n</code></pre>\n\n<p>I'd like it to receive on the Models.Question the questions and the 4 answers for that questions.\nPlease tell me if I'm doing something wrong.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here is the <code>Answer</code>-class:</p>\n\n<pre><code>using System; \nusing System.Collections.Generic; \nusing System.Text; \n\nnamespace PoolManager.Models \n{ \n    public class Answer \n    { \n        public string Questions { get; set; } \n        public string Answers { get; set; } \n        public string Results { get; set; } \n    } \n}\n</code></pre>\n"
        },
        {
            "tags": [
                "mysql",
                "sql"
            ],
            "owner": {
                "reputation": 313,
                "user_id": 4831534,
                "user_type": "registered",
                "accept_rate": 70,
                "profile_image": "https://lh5.googleusercontent.com/-qFbCExYjLWE/AAAAAAAAAAI/AAAAAAAAABQ/UaqP2NK_tUA/photo.jpg?sz=128",
                "display_name": "Michael Peter",
                "link": "https://stackoverflow.com/users/4831534/michael-peter"
            },
            "is_answered": true,
            "view_count": 71859,
            "accepted_answer_id": 30290915,
            "answer_count": 4,
            "score": 42,
            "last_activity_date": 1524152943,
            "creation_date": 1431889153,
            "last_edit_date": 1512047172,
            "question_id": 30290880,
            "body_markdown": "I am trying to rename a column in MySQL community server 5.5.27 using this SQL expression:\r\n\r\n&lt;!-- language-all: lang-sql --&gt;\r\n\r\n    ALTER TABLE table_name RENAME COLUMN old_col_name TO new_col_name;\r\n\r\nI also tried\r\n\r\n    ALTER TABLE table_name RENAME old_col_name TO new_col_name;\r\n\r\nBut it says:\r\n\r\n&gt; Error: check the Manual that corresponds to your MySQL server version",
            "link": "https://stackoverflow.com/questions/30290880/rename-a-column-in-mysql",
            "title": "Rename a column in MySQL",
            "body": "<p>I am trying to rename a column in MySQL community server 5.5.27 using this SQL expression:</p>\n\n\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE table_name RENAME COLUMN old_col_name TO new_col_name;\n</code></pre>\n\n<p>I also tried</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE table_name RENAME old_col_name TO new_col_name;\n</code></pre>\n\n<p>But it says:</p>\n\n<blockquote>\n  <p>Error: check the Manual that corresponds to your MySQL server version</p>\n</blockquote>\n"
        },
        {
            "tags": [
                "prestashop-1.7"
            ],
            "owner": {
                "reputation": 36,
                "user_id": 4092923,
                "user_type": "registered",
                "accept_rate": 70,
                "profile_image": "https://lh4.googleusercontent.com/-axXPlntYVX4/AAAAAAAAAAI/AAAAAAAAAFE/-M_kIpWACoI/photo.jpg?sz=128",
                "display_name": "Jessica MC",
                "link": "https://stackoverflow.com/users/4092923/jessica-mc"
            },
            "is_answered": false,
            "view_count": 92,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152927,
            "creation_date": 1502278845,
            "question_id": 45589654,
            "body_markdown": " \r\nMy problem is this: I put the featured products in the index page, but this put the products in 2 columns and it leaves a blank space to the right and I do not like it.\r\n \r\nHow can I put more columns? I desire three columns.\r\n \r\nThe weird thing is that inside of a category, the products are put in 3 columns. The index page and the category page have the same layout and for this reason I do not understrand what happen with this.\r\n \r\nI use 1.7.1.2 version.\r\n\r\n\r\n[![Index page with blank space on the right][1]][1]\r\n\r\n\r\n\r\n\r\n[![Category pages with products in 3 columns (perfect)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6rbbQ.jpg\r\n  [2]: https://i.stack.imgur.com/P4k8l.jpg",
            "link": "https://stackoverflow.com/questions/45589654/how-to-put-3-columns-in-featured-products-module-in-prestashop",
            "title": "How to put 3 columns in &quot;Featured Products&quot; module in Prestashop",
            "body": "<p>My problem is this: I put the featured products in the index page, but this put the products in 2 columns and it leaves a blank space to the right and I do not like it.</p>\n\n<p>How can I put more columns? I desire three columns.</p>\n\n<p>The weird thing is that inside of a category, the products are put in 3 columns. The index page and the category page have the same layout and for this reason I do not understrand what happen with this.</p>\n\n<p>I use 1.7.1.2 version.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6rbbQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rbbQ.jpg\" alt=\"Index page with blank space on the right\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/P4k8l.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4k8l.jpg\" alt=\"Category pages with products in 3 columns (perfect)\"></a></p>\n"
        },
        {
            "tags": [
                "ios",
                "iphone",
                "ios11",
                "iphone-x",
                "safearealayoutguide"
            ],
            "owner": {
                "reputation": 111,
                "user_id": 950303,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/04ae80f4e771ef4939b0019124313fc9?s=128&d=identicon&r=PG",
                "display_name": "Alessandro",
                "link": "https://stackoverflow.com/users/950303/alessandro"
            },
            "is_answered": false,
            "view_count": 164,
            "answer_count": 3,
            "score": 2,
            "last_activity_date": 1524152913,
            "creation_date": 1518509495,
            "last_edit_date": 1518519136,
            "question_id": 48762179,
            "body_markdown": "I have a pretty complex app, that causes the safe areas on an iPhone X to be wrong (pushed down). \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis screenshot is from a storyboard. It&#39;s a container view aligned to the bottom anchor of the Safe Area Layout Guide. \r\nEverything looks fine there and produces the correct result in **an empty, new project**.\r\n\r\nBut as soon as I instantiate and push the view controller in the original app, the result is this: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat could cause the safe areas to be distorted? \r\n\r\nThe property `additionalSafeAreaInsets` is definitely not set anywhere in the app. I&#39;ve played around with a couple of other `UIViewController` properties, but nothing seems to change this.\r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/gpMoL.png\r\n  [2]: https://i.stack.imgur.com/EeCOa.png",
            "link": "https://stackoverflow.com/questions/48762179/safe-areas-on-iphone-x-wrong",
            "title": "Safe areas on iPhone X wrong",
            "body": "<p>I have a pretty complex app, that causes the safe areas on an iPhone X to be wrong (pushed down). </p>\n\n<p><a href=\"https://i.stack.imgur.com/gpMoL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpMoL.png\" alt=\"enter image description here\"></a></p>\n\n<p>This screenshot is from a storyboard. It's a container view aligned to the bottom anchor of the Safe Area Layout Guide. \nEverything looks fine there and produces the correct result in <strong>an empty, new project</strong>.</p>\n\n<p>But as soon as I instantiate and push the view controller in the original app, the result is this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/EeCOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EeCOa.png\" alt=\"enter image description here\"></a></p>\n\n<p>What could cause the safe areas to be distorted? </p>\n\n<p>The property <code>additionalSafeAreaInsets</code> is definitely not set anywhere in the app. I've played around with a couple of other <code>UIViewController</code> properties, but nothing seems to change this.</p>\n\n<p>Thanks!</p>\n"
        },
        {
            "tags": [
                "java",
                "android",
                "listview",
                "visibility",
                "android-viewholder"
            ],
            "owner": {
                "reputation": 317,
                "user_id": 1957873,
                "user_type": "registered",
                "accept_rate": 0,
                "profile_image": "https://www.gravatar.com/avatar/fa726f8d4469aec7b0398cedfa459be8?s=128&d=identicon&r=PG",
                "display_name": "pozzugno",
                "link": "https://stackoverflow.com/users/1957873/pozzugno"
            },
            "is_answered": false,
            "view_count": 32,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524152912,
            "creation_date": 1524150286,
            "last_edit_date": 1524152912,
            "question_id": 49924364,
            "body_markdown": "I have a ListView with rows with different layouts. So I&#39;m using the pattern of ViewHolder.\r\n\r\nIf the user clicks on a row, one sub-layout of the same row must be shown/hidden.\r\n\r\n            viewHolder.btn1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int position = (int) v.getTag();\r\n                    Log.d(TAG, &quot;Line in position &quot; + position + &quot; clicked&quot;);\r\n\r\n                    if (!checkBoxSendChoice[position]) {\r\n                        checkBoxSendChoice[position] = true;\r\n                        viewHolder.layout_choice.setVisibility(View.VISIBLE);\r\n                    } else {\r\n                        checkBoxSendChoice[position] = false;\r\n                        viewHolder.layout_choice.setVisibility(View.GONE);\r\n                    }\r\n                }\r\n            });\r\n\r\nHowever I noticed that the entire ListView is refreshed (getView is called multiple times for all rows), because of setVisibility(). If I comment out the two setVisibility() instructions, the ListView isn&#39;t refreshed anymore.\r\n\r\nIs it possible to optimize and avoid refreshing all the views in the ListView?",
            "link": "https://stackoverflow.com/questions/49924364/listview-setvisibility-forces-refreshing-all-the-rows",
            "title": "ListView: setvisibility() forces refreshing all the rows",
            "body": "<p>I have a ListView with rows with different layouts. So I'm using the pattern of ViewHolder.</p>\n\n<p>If the user clicks on a row, one sub-layout of the same row must be shown/hidden.</p>\n\n<pre><code>        viewHolder.btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int position = (int) v.getTag();\n                Log.d(TAG, \"Line in position \" + position + \" clicked\");\n\n                if (!checkBoxSendChoice[position]) {\n                    checkBoxSendChoice[position] = true;\n                    viewHolder.layout_choice.setVisibility(View.VISIBLE);\n                } else {\n                    checkBoxSendChoice[position] = false;\n                    viewHolder.layout_choice.setVisibility(View.GONE);\n                }\n            }\n        });\n</code></pre>\n\n<p>However I noticed that the entire ListView is refreshed (getView is called multiple times for all rows), because of setVisibility(). If I comment out the two setVisibility() instructions, the ListView isn't refreshed anymore.</p>\n\n<p>Is it possible to optimize and avoid refreshing all the views in the ListView?</p>\n"
        },
        {
            "tags": [
                "angular",
                "typescript",
                "error-handling"
            ],
            "owner": {
                "reputation": 40,
                "user_id": 2269968,
                "user_type": "registered",
                "accept_rate": 43,
                "profile_image": "https://www.gravatar.com/avatar/87b8ddf1908b73628b253eef473b6a07?s=128&d=identicon&r=PG",
                "display_name": "Podlipny",
                "link": "https://stackoverflow.com/users/2269968/podlipny"
            },
            "is_answered": false,
            "view_count": 21,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524152912,
            "creation_date": 1524152912,
            "question_id": 49925221,
            "body_markdown": "I have a problem with my data table. When I am loading data I want to show busy indicator. This is achieved by this.loading passed into DataTableComponent. Everything works fine (switching between pages, searching), but when I change pageSize (same method **Load**) I get **ExpressionChangedAfterItHasBeenCheckedError**\r\n\r\n[![DataTable][1]][1]\r\n\r\nI have **VendorsComponent** which contains method **Load**\r\n\r\n    load(loadParams: IDatatableLoadEvent): void {\r\n       this.loading = true;\r\n        this.vendorService.loalAll(loadParams.sortBy, loadParams.currentPage, loadParams.pageSize, loadParams.searchTerm, loadParams.sortOrder.toLowerCase())\r\n        .subscribe((res: HttpResponse&lt;IVendor[]&gt;) =&gt; {\r\n          this.filteredData = res.body;\r\n    \r\n          // we have to set x-pagination to COSR rules on API server\r\n          const xPagination = res.headers.get(&#39;x-pagination&#39;);\r\n          this.filteredTotal = JSON.parse(xPagination).totalCount;\r\n    \r\n          this.loading = false;\r\n          // Hack - because we are setting loading and until data are loaded\r\n          // we have to stop changeDetection and tell angular when to detect changes\r\n          // - this happens only when we are changing pagesize\r\n          this.cdr.detectChanges();\r\n        }, error =&gt; {\r\n          this.loading = false;\r\n        });\r\n      }\r\n\r\nHere is how loading bar is implemented in dataTable Component:\r\n[![DataTableComponent][2]][2]\r\n\r\nI&#39;ve created a simple example here [Demo][3], but It doesn&#39;t load data, so you can&#39;t try the exception. But it&#39;s enough for a better overview.\r\n\r\nI&#39;ve found one solution for this problem - to manually setting up **Change Detection** but I would like to know if this is the correct approach.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8xVbc.png\r\n  [2]: https://i.stack.imgur.com/8qJRW.png\r\n  [3]: https://stackblitz.com/edit/angular-covalent-custom-datatable",
            "link": "https://stackoverflow.com/questions/49925221/angular-expressionchangedafterithasbeencheckederror",
            "title": "Angular ExpressionChangedAfterItHasBeenCheckedError",
            "body": "<p>I have a problem with my data table. When I am loading data I want to show busy indicator. This is achieved by this.loading passed into DataTableComponent. Everything works fine (switching between pages, searching), but when I change pageSize (same method <strong>Load</strong>) I get <strong>ExpressionChangedAfterItHasBeenCheckedError</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8xVbc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8xVbc.png\" alt=\"DataTable\"></a></p>\n\n<p>I have <strong>VendorsComponent</strong> which contains method <strong>Load</strong></p>\n\n<pre><code>load(loadParams: IDatatableLoadEvent): void {\n   this.loading = true;\n    this.vendorService.loalAll(loadParams.sortBy, loadParams.currentPage, loadParams.pageSize, loadParams.searchTerm, loadParams.sortOrder.toLowerCase())\n    .subscribe((res: HttpResponse&lt;IVendor[]&gt;) =&gt; {\n      this.filteredData = res.body;\n\n      // we have to set x-pagination to COSR rules on API server\n      const xPagination = res.headers.get('x-pagination');\n      this.filteredTotal = JSON.parse(xPagination).totalCount;\n\n      this.loading = false;\n      // Hack - because we are setting loading and until data are loaded\n      // we have to stop changeDetection and tell angular when to detect changes\n      // - this happens only when we are changing pagesize\n      this.cdr.detectChanges();\n    }, error =&gt; {\n      this.loading = false;\n    });\n  }\n</code></pre>\n\n<p>Here is how loading bar is implemented in dataTable Component:\n<a href=\"https://i.stack.imgur.com/8qJRW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8qJRW.png\" alt=\"DataTableComponent\"></a></p>\n\n<p>I've created a simple example here <a href=\"https://stackblitz.com/edit/angular-covalent-custom-datatable\" rel=\"nofollow noreferrer\">Demo</a>, but It doesn't load data, so you can't try the exception. But it's enough for a better overview.</p>\n\n<p>I've found one solution for this problem - to manually setting up <strong>Change Detection</strong> but I would like to know if this is the correct approach.</p>\n"
        },
        {
            "tags": [
                "xml",
                "templates",
                "xslt"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 2463985,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/eb4fda56636892b62185a5bca2afc4b0?s=128&d=identicon&r=PG",
                "display_name": "russellmz",
                "link": "https://stackoverflow.com/users/2463985/russellmz"
            },
            "is_answered": false,
            "view_count": 25,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524152910,
            "creation_date": 1524151949,
            "last_edit_date": 1524152910,
            "question_id": 49924930,
            "body_markdown": "I am tasked to get a nice looking display of an algorithm that is in xml form but it is hard to get an overview of the entire equation. There&#39;s a &quot;Total&quot; that I want to display the algorithm of, there are FieldNameSubTotals A to Z but not all are used and are not in the same branch and are not under Total&#39;s node.\r\n\r\nThe fields can point to other fields, and there&#39;s the possibility that one field might point back to another field already existing.\r\n\r\nso the equation in the field is \r\n**Total=** \r\n    +FieldNameSubTotalA\r\n    -FieldNameSubTotalC\r\n    /100\r\n\r\nNow the FieldNameSubTotalA and C are either other stuff like Ifs or can be another Equation. I need to prevent infinite looping from one pointing to an earlier field but not sure how to set that up.\r\n\r\nI know I need to apply templates for Equation, If, and when they are just a constant Return as they find more references to another &lt;field&gt;. But I am not sure how to make a stopper to prevent infinite looping. It&#39;s fine if they are listed once and just stop at the field name if they appear a second time.  \r\n\r\nIs using xslt appropriate to expand out the xml display? i would think the below is the way to go?\r\n\r\n select Total.\r\n \r\n    for each line apply templates if this field hasn&#39;t been stored:\r\n\r\n         -Equation\r\n \r\n         -Return   \r\n\r\n         -If\r\n\r\neach of those templates checks name of field at beginning for to see if done before and stores the name of the field at end if not?\r\n\r\n\r\n\r\n    &lt;main&gt;\r\n    \t&lt;blah&gt;\r\n    \t\t&lt;blah2&gt;\r\n    \t\t\t&lt;field id=&quot;Total&quot;&gt; &lt;!--bolded TOTAL--&gt;\r\n    \t\t\t\t&lt;Equation&gt;\r\n    \t\t\t\t\t&lt;line op=&quot;add&quot; fieldref=&quot;FieldNameSubTotalA&quot;&gt;\r\n    \t\t\t\t\t&lt;line op=&quot;sub&quot; fieldref=&quot;FieldNameSubTotalC&quot;&gt;\r\n    \t\t\t\t\t&lt;line op=&quot;div&quot; fieldref=&quot;100&quot;&gt;\r\n    \t\t\t\t&lt;/Equation&gt;\r\n    \t\t\t&lt;/field&gt;\r\n    \t\t&lt;/blah2&gt;\r\n    \t\t...\r\n    \t\t&lt;otherblah&gt;\r\n    \t\t\t&lt;field id=&quot;FieldNameSubTotalA&quot;&gt;\r\n    \t\t\t\t&lt;Equation&gt;\r\n    \t\t\t\t\t&lt;line op=&quot;add&quot; fieldref=&quot;FieldNameSubTotalB&quot;&gt;\r\n    \t\t\t\t\t&lt;line op=&quot;div&quot; fieldref=&quot;100&quot;&gt;\r\n    \t\t\t\t&lt;/Equation&gt;\r\n    \t\t\t&lt;/field&gt;\r\n    \t\t&lt;/otherblah&gt;\r\n    \t\t...\r\n    \t\t&lt;foo&gt;\r\n    \t\t\t&lt;field id=&quot;FieldNameSubTotalC&quot;&gt;\r\n    \t\t\t\t&lt;if&gt;\r\n    \t\t\t\t\t&lt;operand=&quot;greater&quot; fieldref=&quot;FieldNameSubTotalQ&quot; fieldref2=&quot;5000&quot;&gt;\r\n    \t\t\t\t&lt;/if&gt;\r\n    \t\t\t\t&lt;then&gt;\r\n    \t\t\t\t\t&lt;return&gt;FieldNameSubTotalQ&lt;/return&gt;\r\n    \t\t\t\t&lt;/then&gt;\r\n    \t\t\t\t&lt;else&gt;\r\n    \t\t\t\t\t&lt;return&gt;FieldNameSubTotalB&lt;/return&gt;\r\n    \t\t\t\t&lt;/else&gt;\r\n    \t\t\t&lt;/field&gt;\r\n    \t\t&lt;/foo&gt;\r\n    \t\t....\r\n    \t\t&lt;foo2&gt;\r\n    \t\t\t&lt;field id=&quot;FieldNameSubTotalB&quot;&gt;\r\n    \t\t\t   &lt;return&gt;5000&lt;/return&gt;\r\n    \t\t    &lt;field&gt;\r\n    \t\t&lt;/foo2&gt;\r\n    \r\n    \t...&lt;!--some other node with the &quot;FieldNameSubTotalQ&quot; field--&gt;\r\n    \t&lt;/blah&gt;\r\n    &lt;/main&gt;\r\n\r\nand FieldNameSubTotalQ is another Equation type that might hold more Equations or Conditionals.\r\n\r\n\r\nignore #s they are comments, are not to be displayed, just notes to explain what i need. \r\n\r\nIn my head the steps it would go through is: start at Total, list the lines of the equation, see the first line is a FieldNameSubTotalA, apply the Equation template there and list the equation lines, keep going through As first line where it sees FieldNameSubTotalB, then to B&#39;s return value, then A&#39;s second line, etc. But currently it lists everything in the order or Total by itself.\r\n\r\n    FieldNameTotal=            #this is the blah2 &quot;Total&quot;\r\n    +FieldNameSubTotalA        #A\r\n    -FieldNameSubTotalC        #C\r\n    /100\r\n    \r\n        +FieldNameSubTotalA=    # expands on first line operation A\r\n        FieldNameSubTotalB        #B\r\n        /100\r\n    \r\n            FieldNameSubTotalB=    #B\r\n            5000\r\n    \r\n            /100\r\n    \r\n        -FieldNameSubTotalC=    #C\r\n        if FieldNameSubTotalA &gt; 5000\r\n        then FieldNameSubTotalQ            #Q\r\n        else FieldNameSubTotalB            #B\r\n    \r\n            then= whatever Q&#39;s deal is    #Q\r\n    \r\n            else= 5000              #B\r\n        \r\n        /100\r\n\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49924930/xslt-on-xml-to-display-connected-equation-without-inifinite-loop",
            "title": "xslt on xml to display connected equation without inifinite loop",
            "body": "<p>I am tasked to get a nice looking display of an algorithm that is in xml form but it is hard to get an overview of the entire equation. There's a \"Total\" that I want to display the algorithm of, there are FieldNameSubTotals A to Z but not all are used and are not in the same branch and are not under Total's node.</p>\n\n<p>The fields can point to other fields, and there's the possibility that one field might point back to another field already existing.</p>\n\n<p>so the equation in the field is \n<strong>Total=</strong> \n    +FieldNameSubTotalA\n    -FieldNameSubTotalC\n    /100</p>\n\n<p>Now the FieldNameSubTotalA and C are either other stuff like Ifs or can be another Equation. I need to prevent infinite looping from one pointing to an earlier field but not sure how to set that up.</p>\n\n<p>I know I need to apply templates for Equation, If, and when they are just a constant Return as they find more references to another . But I am not sure how to make a stopper to prevent infinite looping. It's fine if they are listed once and just stop at the field name if they appear a second time.  </p>\n\n<p>Is using xslt appropriate to expand out the xml display? i would think the below is the way to go?</p>\n\n<p>select Total.</p>\n\n<pre><code>for each line apply templates if this field hasn't been stored:\n\n     -Equation\n\n     -Return   \n\n     -If\n</code></pre>\n\n<p>each of those templates checks name of field at beginning for to see if done before and stores the name of the field at end if not?</p>\n\n<pre><code>&lt;main&gt;\n    &lt;blah&gt;\n        &lt;blah2&gt;\n            &lt;field id=\"Total\"&gt; &lt;!--bolded TOTAL--&gt;\n                &lt;Equation&gt;\n                    &lt;line op=\"add\" fieldref=\"FieldNameSubTotalA\"&gt;\n                    &lt;line op=\"sub\" fieldref=\"FieldNameSubTotalC\"&gt;\n                    &lt;line op=\"div\" fieldref=\"100\"&gt;\n                &lt;/Equation&gt;\n            &lt;/field&gt;\n        &lt;/blah2&gt;\n        ...\n        &lt;otherblah&gt;\n            &lt;field id=\"FieldNameSubTotalA\"&gt;\n                &lt;Equation&gt;\n                    &lt;line op=\"add\" fieldref=\"FieldNameSubTotalB\"&gt;\n                    &lt;line op=\"div\" fieldref=\"100\"&gt;\n                &lt;/Equation&gt;\n            &lt;/field&gt;\n        &lt;/otherblah&gt;\n        ...\n        &lt;foo&gt;\n            &lt;field id=\"FieldNameSubTotalC\"&gt;\n                &lt;if&gt;\n                    &lt;operand=\"greater\" fieldref=\"FieldNameSubTotalQ\" fieldref2=\"5000\"&gt;\n                &lt;/if&gt;\n                &lt;then&gt;\n                    &lt;return&gt;FieldNameSubTotalQ&lt;/return&gt;\n                &lt;/then&gt;\n                &lt;else&gt;\n                    &lt;return&gt;FieldNameSubTotalB&lt;/return&gt;\n                &lt;/else&gt;\n            &lt;/field&gt;\n        &lt;/foo&gt;\n        ....\n        &lt;foo2&gt;\n            &lt;field id=\"FieldNameSubTotalB\"&gt;\n               &lt;return&gt;5000&lt;/return&gt;\n            &lt;field&gt;\n        &lt;/foo2&gt;\n\n    ...&lt;!--some other node with the \"FieldNameSubTotalQ\" field--&gt;\n    &lt;/blah&gt;\n&lt;/main&gt;\n</code></pre>\n\n<p>and FieldNameSubTotalQ is another Equation type that might hold more Equations or Conditionals.</p>\n\n<p>ignore #s they are comments, are not to be displayed, just notes to explain what i need. </p>\n\n<p>In my head the steps it would go through is: start at Total, list the lines of the equation, see the first line is a FieldNameSubTotalA, apply the Equation template there and list the equation lines, keep going through As first line where it sees FieldNameSubTotalB, then to B's return value, then A's second line, etc. But currently it lists everything in the order or Total by itself.</p>\n\n<pre><code>FieldNameTotal=            #this is the blah2 \"Total\"\n+FieldNameSubTotalA        #A\n-FieldNameSubTotalC        #C\n/100\n\n    +FieldNameSubTotalA=    # expands on first line operation A\n    FieldNameSubTotalB        #B\n    /100\n\n        FieldNameSubTotalB=    #B\n        5000\n\n        /100\n\n    -FieldNameSubTotalC=    #C\n    if FieldNameSubTotalA &gt; 5000\n    then FieldNameSubTotalQ            #Q\n    else FieldNameSubTotalB            #B\n\n        then= whatever Q's deal is    #Q\n\n        else= 5000              #B\n\n    /100\n</code></pre>\n"
        },
        {
            "tags": [
                "c#",
                "asp.net",
                "asp.net-web-api"
            ],
            "owner": {
                "reputation": 5597,
                "user_id": 307072,
                "user_type": "registered",
                "accept_rate": 86,
                "profile_image": "https://i.stack.imgur.com/XFS74.jpg?s=128&g=1",
                "display_name": "Arbejdsgl&#230;de",
                "link": "https://stackoverflow.com/users/307072/arbejdsgl%c3%a6de"
            },
            "is_answered": true,
            "view_count": 72522,
            "accepted_answer_id": 22532924,
            "answer_count": 8,
            "score": 80,
            "last_activity_date": 1524152910,
            "creation_date": 1395317948,
            "last_edit_date": 1443778962,
            "question_id": 22532806,
            "body_markdown": "Hello I need get client IP that request some method in web api,\r\nI have tried to use this code from [here][1] but it always return server local IP,\r\n how to get in in correct way ?\r\n\r\n    HttpContext.Current.Request.UserHostAddress;\r\n\r\nfrom other questions:\r\n \r\n\r\n    public static class HttpRequestMessageExtensions\r\n        {\r\n            private const string HttpContext = &quot;MS_HttpContext&quot;;\r\n            private const string RemoteEndpointMessage = &quot;System.ServiceModel.Channels.RemoteEndpointMessageProperty&quot;;\r\n    \r\n            public static string GetClientIpAddress(this HttpRequestMessage request)\r\n            {\r\n                if (request.Properties.ContainsKey(HttpContext))\r\n                {\r\n                    dynamic ctx = request.Properties[HttpContext];\r\n                    if (ctx != null)\r\n                    {\r\n                        return ctx.Request.UserHostAddress;\r\n                    }\r\n                }\r\n    \r\n                if (request.Properties.ContainsKey(RemoteEndpointMessage))\r\n                {\r\n                    dynamic remoteEndpoint = request.Properties[RemoteEndpointMessage];\r\n                    if (remoteEndpoint != null)\r\n                    {\r\n                        return remoteEndpoint.Address;\r\n                    }\r\n                }\r\n    \r\n                return null;\r\n            }\r\n        }\r\n\r\n\r\n  [1]: http://www.strathweb.com/2013/05/retrieving-the-clients-ip-address-in-asp-net-web-api/",
            "link": "https://stackoverflow.com/questions/22532806/asp-net-web-api-2-1-get-client-ip-address",
            "title": "Asp Net Web API 2.1 get client IP address",
            "body": "<p>Hello I need get client IP that request some method in web api,\nI have tried to use this code from <a href=\"http://www.strathweb.com/2013/05/retrieving-the-clients-ip-address-in-asp-net-web-api/\">here</a> but it always returns server local IP,\n how to get in correct way ?</p>\n\n<pre><code>HttpContext.Current.Request.UserHostAddress;\n</code></pre>\n\n<p>from other questions:</p>\n\n<pre><code>public static class HttpRequestMessageExtensions\n    {\n        private const string HttpContext = \"MS_HttpContext\";\n        private const string RemoteEndpointMessage = \"System.ServiceModel.Channels.RemoteEndpointMessageProperty\";\n\n        public static string GetClientIpAddress(this HttpRequestMessage request)\n        {\n            if (request.Properties.ContainsKey(HttpContext))\n            {\n                dynamic ctx = request.Properties[HttpContext];\n                if (ctx != null)\n                {\n                    return ctx.Request.UserHostAddress;\n                }\n            }\n\n            if (request.Properties.ContainsKey(RemoteEndpointMessage))\n            {\n                dynamic remoteEndpoint = request.Properties[RemoteEndpointMessage];\n                if (remoteEndpoint != null)\n                {\n                    return remoteEndpoint.Address;\n                }\n            }\n\n            return null;\n        }\n    }\n</code></pre>\n"
        },
        {
            "tags": [
                "java",
                "unit-testing",
                "junit",
                "mockito"
            ],
            "owner": {
                "reputation": 56,
                "user_id": 6321762,
                "user_type": "registered",
                "profile_image": "https://lh5.googleusercontent.com/-84yMYoQDky0/AAAAAAAAAAI/AAAAAAAAAMM/YVN4vvOzYxU/photo.jpg?sz=128",
                "display_name": "Ala Messaoudi",
                "link": "https://stackoverflow.com/users/6321762/ala-messaoudi"
            },
            "is_answered": false,
            "view_count": 45,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152901,
            "creation_date": 1524145208,
            "last_edit_date": 1524151492,
            "question_id": 49922595,
            "body_markdown": "I want to check if any method is called on a mock, the mock contains many method and i don&#39;t want to write many call in that way:\r\n\r\n\r\nverify(mock).method1();\r\n\r\nverify(mock).method2();",
            "link": "https://stackoverflow.com/questions/49922595/how-to-verify-if-any-method-is-called-on-a-mock",
            "title": "How to verify if any method is called on a mock",
            "body": "<p>I want to check if any method is called on a mock, the mock contains many method and i don't want to write many call in that way:</p>\n\n<p>verify(mock).method1();</p>\n\n<p>verify(mock).method2();</p>\n"
        },
        {
            "tags": [
                "regex",
                "perl"
            ],
            "owner": {
                "reputation": 414,
                "user_id": 2600099,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/f987e5fcc1463e4ebe90870565c5c602?s=128&d=identicon&r=PG",
                "display_name": "Matija Nalis",
                "link": "https://stackoverflow.com/users/2600099/matija-nalis"
            },
            "is_answered": true,
            "view_count": 62,
            "accepted_answer_id": 49923335,
            "answer_count": 5,
            "score": 1,
            "last_activity_date": 1524152891,
            "creation_date": 1524144854,
            "question_id": 49922461,
            "body_markdown": "The issue: I&#39;m coding a library which receives user supplied regex which contains unknown number of capture groups to be run against other input, and I want to extract value of all capture groups concatenated in one string (for further processing elsewhere).\r\n\r\nIt is trivial if number of capture groups is known in advance, as I just specify them:\r\n\r\n    #!/usr/bin/perl -w\r\n    my $input = `seq -s&quot; &quot; 100 200`;\r\n    my $user_regex = \r\n     qr/100(.*)103(.*)107(.*)109(.*)111(.*)113(.*)116(.*)120(.*)133(.*)140(.*)145/;\r\n    \r\n    if ($input =~ $user_regex)  { print &quot;$1 $2 $3 $4 $5 $6 $7 $8 $9 $10\\n&quot;; }\r\n\r\ncorrectly produces (ignore the extra whitespace):\r\n\r\n     101 102   104 105 106   108   110   112   114 115   117 118 119 \r\n     121 122 123 124 125 126 127 128 129 130 131 132   \r\n     134 135 136 137 138 139   141 142 143 144\r\n\r\nHowever, if there are more than 10 capture groups I lose data if I don&#39;t modify the code. As the number of capture groups is unknown, currently I go with hundreds of manually specified matches (&quot;$1&quot; to &quot;$200&quot;) under `no warnings` pragma and hope it is enough, but it does not seem particularity clean *or* robust.\r\n\r\nIdeally, I&#39;d like something which works like `values %+` does for named capture groups, but for non-named capture groups. Is it possible in perl 5.24? Or what less kludgy approach would you recommend for retrieving content of all numbered capture groups?\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49922461/get-value-of-all-perl-regex-capture-groups",
            "title": "get value of all perl regex capture groups",
            "body": "<p>The issue: I'm coding a library which receives user supplied regex which contains unknown number of capture groups to be run against other input, and I want to extract value of all capture groups concatenated in one string (for further processing elsewhere).</p>\n\n<p>It is trivial if number of capture groups is known in advance, as I just specify them:</p>\n\n<pre><code>#!/usr/bin/perl -w\nmy $input = `seq -s\" \" 100 200`;\nmy $user_regex = \n qr/100(.*)103(.*)107(.*)109(.*)111(.*)113(.*)116(.*)120(.*)133(.*)140(.*)145/;\n\nif ($input =~ $user_regex)  { print \"$1 $2 $3 $4 $5 $6 $7 $8 $9 $10\\n\"; }\n</code></pre>\n\n<p>correctly produces (ignore the extra whitespace):</p>\n\n<pre><code> 101 102   104 105 106   108   110   112   114 115   117 118 119 \n 121 122 123 124 125 126 127 128 129 130 131 132   \n 134 135 136 137 138 139   141 142 143 144\n</code></pre>\n\n<p>However, if there are more than 10 capture groups I lose data if I don't modify the code. As the number of capture groups is unknown, currently I go with hundreds of manually specified matches (\"$1\" to \"$200\") under <code>no warnings</code> pragma and hope it is enough, but it does not seem particularity clean <em>or</em> robust.</p>\n\n<p>Ideally, I'd like something which works like <code>values %+</code> does for named capture groups, but for non-named capture groups. Is it possible in perl 5.24? Or what less kludgy approach would you recommend for retrieving content of all numbered capture groups?</p>\n"
        },
        {
            "tags": [
                "ruby-on-rails",
                "ruby"
            ],
            "owner": {
                "reputation": 48,
                "user_id": 7499006,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/26e5d39e3ed98d6107a08bdbd71e93ef?s=128&d=identicon&r=PG&f=1",
                "display_name": "zOs0",
                "link": "https://stackoverflow.com/users/7499006/zos0"
            },
            "is_answered": false,
            "view_count": 31,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524152866,
            "creation_date": 1524136995,
            "last_edit_date": 1524137145,
            "question_id": 49919864,
            "body_markdown": "Let I have a simple model called Fruit, and Fruit&#39;s instance has field fruit_name as a string.\r\n\r\n    class Fruit &lt; ApplicationRecord\r\n      enum fruit_name: {\r\n        banana: &#39;banana&#39;,\r\n        apple:  &#39;apple&#39;\r\n      }\r\n    end\r\nIs there a simple way to get access to enum list? Searching for something like this:\r\n\r\n      Fruit.allowed_attributes_for(:fruit_name)\r\n      =&gt; [&#39;banana&#39;, &#39;apple&#39;]",
            "link": "https://stackoverflow.com/questions/49919864/how-to-get-list-of-available-attributes-using-activerecord-enum-rails",
            "title": "How to get list of available attributes using ActiveRecord enum Rails",
            "body": "<p>Let I have a simple model called Fruit, and Fruit's instance has field fruit_name as a string.</p>\n\n<pre><code>class Fruit &lt; ApplicationRecord\n  enum fruit_name: {\n    banana: 'banana',\n    apple:  'apple'\n  }\nend\n</code></pre>\n\n<p>Is there a simple way to get access to enum list? Searching for something like this:</p>\n\n<pre><code>  Fruit.allowed_attributes_for(:fruit_name)\n  =&gt; ['banana', 'apple']\n</code></pre>\n"
        },
        {
            "tags": [
                "ruby",
                "rspec",
                "cucumber",
                "capybara",
                "selenium-chromedriver"
            ],
            "owner": {
                "reputation": 23,
                "user_id": 4606308,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3d01c458130e5560464b42f6a2bfc5dc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Suley Mahmoud",
                "link": "https://stackoverflow.com/users/4606308/suley-mahmoud"
            },
            "is_answered": true,
            "view_count": 31,
            "accepted_answer_id": 49924869,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152862,
            "creation_date": 1524148036,
            "question_id": 49923592,
            "body_markdown": "I am writing a UI test that goes to a list of articles and selects the load_more button until this is no longer available (because all articles have loaded). The problem is the button has been hidden at this point rather than removed and is returning this error \r\n\r\n    Selenium::WebDriver::Error::UnknownError: unknown error: Element &lt;div \r\n    class=&quot;&quot;&gt;...&lt;/div&gt; is not clickable at point (x, y). Other element \r\n    would receive the click: &lt;div class=&quot;&quot; id=&quot;&quot; data-module-name=&quot;&quot;&gt;... \r\n    &lt;/div&gt;\r\n    \r\n    (Session info: chrome=65.0.3325.181)\r\n    (Driver info: chromedriver=2.36.540469 \r\n    ruby-2.5.1/gems/selenium-webdriver \r\n    3.11.0/lib/selenium/webdriver/remote/response.rb:69:in `assert_ok&#39;\r\n\r\nI have tried a few loop types but for this, if we assume I&#39;m using\r\n   \r\n    while world.page.has_load_more?\r\n      world.page.load_more.click\r\n    break if world.page.has_load_more? == false\r\n    end\r\nThe question is how do I tell Selenium this is ok and not to error, so I can continue with the next step in my test case(cucumber). I realise that the choice of loop type may also be incorrect, so feel free to suggest changes there as well.",
            "link": "https://stackoverflow.com/questions/49923592/handling-element-is-not-clickable-at-point-x-y-other-element-would-receive-t",
            "title": "Handling Element is not clickable at point (x, y). Other element would receive the click: With Capybara, ruby, Webdriver",
            "body": "<p>I am writing a UI test that goes to a list of articles and selects the load_more button until this is no longer available (because all articles have loaded). The problem is the button has been hidden at this point rather than removed and is returning this error </p>\n\n<pre><code>Selenium::WebDriver::Error::UnknownError: unknown error: Element &lt;div \nclass=\"\"&gt;...&lt;/div&gt; is not clickable at point (x, y). Other element \nwould receive the click: &lt;div class=\"\" id=\"\" data-module-name=\"\"&gt;... \n&lt;/div&gt;\n\n(Session info: chrome=65.0.3325.181)\n(Driver info: chromedriver=2.36.540469 \nruby-2.5.1/gems/selenium-webdriver \n3.11.0/lib/selenium/webdriver/remote/response.rb:69:in `assert_ok'\n</code></pre>\n\n<p>I have tried a few loop types but for this, if we assume I'm using</p>\n\n<pre><code>while world.page.has_load_more?\n  world.page.load_more.click\nbreak if world.page.has_load_more? == false\nend\n</code></pre>\n\n<p>The question is how do I tell Selenium this is ok and not to error, so I can continue with the next step in my test case(cucumber). I realise that the choice of loop type may also be incorrect, so feel free to suggest changes there as well.</p>\n"
        },
        {
            "tags": [
                "php",
                "sql",
                "geolocation",
                "radius"
            ],
            "owner": {
                "reputation": 6,
                "user_id": 8532537,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/10213930290794070/picture?type=large",
                "display_name": "Silency",
                "link": "https://stackoverflow.com/users/8532537/silency"
            },
            "is_answered": false,
            "view_count": 36,
            "answer_count": 0,
            "score": 1,
            "last_activity_date": 1524152861,
            "creation_date": 1524131158,
            "last_edit_date": 1524152861,
            "question_id": 49917868,
            "body_markdown": "Recently I needed to look for all the people close to my position. My position was nuanced by a perimeter. For example all the people in the 5km around me.\r\n\r\nFor this: no problem, after some research and various modifications I had the function.\r\n\r\nHere is the current function that works **perfectly**:\r\n\r\n\r\n\t$lat = $latMe; // My latitude\r\n\t$lon = $lonMe; // My longitude\r\n\t$rad = $distancePeople; // My perimeter like 10km\r\n\t \r\n\t$R = 6371; // Earth rayon\r\n\t \r\n\t$maxLat = $lat + rad2deg($rad/$R);\r\n\t$minLat = $lat - rad2deg($rad/$R);\r\n\t$maxlon = $lon + rad2deg(asin($rad/$R) / cos(deg2rad($lat)));\r\n\t$minlon = $lon - rad2deg(asin($rad/$R) / cos(deg2rad($lat)));\r\n\t \r\n\t$sql = &quot;SELECT *, acos(sin(:lat)*sin(radians(lati)) + cos(:lat)*cos(radians(lati))*cos(radians(longi)-:lon)) * :R As D\r\n\t\t\tFROM ( SELECT * FROM people WHERE lati Between :minLat And :maxLat And longi Between :minlon And :maxlon ) As FirstCut\r\n\t\t\tWHERE acos(sin(:lat)*sin(radians(lati)) + cos(:lat)*cos(radians(lati))*cos(radians(longi)-:lon)) * :R &lt; :rad ORDER by date&quot;;\r\n\t \r\n\t$params = [\r\n\t\t&#39;lat&#39;    =&gt; deg2rad($lat),\r\n\t\t&#39;lon&#39;    =&gt; deg2rad($lon),\r\n\t\t&#39;minLat&#39; =&gt; $minLat,\r\n\t\t&#39;minlon&#39; =&gt; $minlon,\r\n\t\t&#39;maxLat&#39; =&gt; $maxLat,\r\n\t\t&#39;maxlon&#39; =&gt; $maxlon,\r\n\t\t&#39;rad&#39;    =&gt; $rad,\r\n\t\t&#39;R&#39;      =&gt; $R,\r\n\t];\r\n\r\nToday I need more complex and I can not find ... (**in PHP**)\r\n\r\nI need to find around me, in a given area, the people who themselves have stipulated a scope of &quot;availability&quot;.\r\n\r\nFor example I say that I can move from my position and in the 10km around and people say the same thing, so I need to search around me at 10km points available themselves within a radius of 10km .. .. Yes a little complicated to explain in writing.\r\n\r\nBasically, schematically, one will have my circle and full of circles (the other people) and it is necessary that I find the people whose circle passes in mine. (yes it is the maternal explanation)\r\n\r\nThanks in advance !\r\n\r\n \r\n[![How it have to work - In green the good section, two people selectionned][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BGczK.jpg",
            "link": "https://stackoverflow.com/questions/49917868/search-in-a-perimeter-according-to-another-perimeter",
            "title": "Search in a perimeter according to another perimeter",
            "body": "<p>Recently I needed to look for all the people close to my position. My position was nuanced by a perimeter. For example all the people in the 5km around me.</p>\n\n<p>For this: no problem, after some research and various modifications I had the function.</p>\n\n<p>Here is the current function that works <strong>perfectly</strong>:</p>\n\n<pre><code>$lat = $latMe; // My latitude\n$lon = $lonMe; // My longitude\n$rad = $distancePeople; // My perimeter like 10km\n\n$R = 6371; // Earth rayon\n\n$maxLat = $lat + rad2deg($rad/$R);\n$minLat = $lat - rad2deg($rad/$R);\n$maxlon = $lon + rad2deg(asin($rad/$R) / cos(deg2rad($lat)));\n$minlon = $lon - rad2deg(asin($rad/$R) / cos(deg2rad($lat)));\n\n$sql = \"SELECT *, acos(sin(:lat)*sin(radians(lati)) + cos(:lat)*cos(radians(lati))*cos(radians(longi)-:lon)) * :R As D\n        FROM ( SELECT * FROM people WHERE lati Between :minLat And :maxLat And longi Between :minlon And :maxlon ) As FirstCut\n        WHERE acos(sin(:lat)*sin(radians(lati)) + cos(:lat)*cos(radians(lati))*cos(radians(longi)-:lon)) * :R &lt; :rad ORDER by date\";\n\n$params = [\n    'lat'    =&gt; deg2rad($lat),\n    'lon'    =&gt; deg2rad($lon),\n    'minLat' =&gt; $minLat,\n    'minlon' =&gt; $minlon,\n    'maxLat' =&gt; $maxLat,\n    'maxlon' =&gt; $maxlon,\n    'rad'    =&gt; $rad,\n    'R'      =&gt; $R,\n];\n</code></pre>\n\n<p>Today I need more complex and I can not find ... (<strong>in PHP</strong>)</p>\n\n<p>I need to find around me, in a given area, the people who themselves have stipulated a scope of \"availability\".</p>\n\n<p>For example I say that I can move from my position and in the 10km around and people say the same thing, so I need to search around me at 10km points available themselves within a radius of 10km .. .. Yes a little complicated to explain in writing.</p>\n\n<p>Basically, schematically, one will have my circle and full of circles (the other people) and it is necessary that I find the people whose circle passes in mine. (yes it is the maternal explanation)</p>\n\n<p>Thanks in advance !</p>\n\n<p><a href=\"https://i.stack.imgur.com/BGczK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BGczK.jpg\" alt=\"How it have to work - In green the good section, two people selectionned\"></a></p>\n"
        },
        {
            "tags": [
                "php",
                "wordpress",
                "woocommerce",
                "advanced-custom-fields",
                "custom-taxonomy"
            ],
            "owner": {
                "reputation": 20,
                "user_id": 1634807,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/UrzbI.jpg?s=128&g=1",
                "display_name": "I&#39;m A Mac Geek",
                "link": "https://stackoverflow.com/users/1634807/im-a-mac-geek"
            },
            "is_answered": true,
            "view_count": 26,
            "accepted_answer_id": 49887202,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524152859,
            "creation_date": 1523996352,
            "last_edit_date": 1523998364,
            "question_id": 49886799,
            "body_markdown": "How do I modify the main loop of WooCommerce to filter based on a logged in user&#39;s ACF field? I have added a new field to the user profile using ACF, it pulls a select list from a product attribute (Vehicle Year). I want to make it so products only show up for the user based on what vehicle year they&#39;ve chosen. I can&#39;t figure out how to modify the loop so no matter what WooCommerce page the customer views it will be filtered to only show products with the attribute that matches the Vehicle Year selected in their user profile.\r\n\r\nI added the following code to the archive-products.php page to check for the logged in user. If you have a better idea, I&#39;m open.\r\n\r\n    if ( is_user_logged_in() ) {\r\n        echo &#39;Welcome, registered user!&#39;;\r\n        $user = new WP_User(get_current_user_id());\r\n    \t$uid = $user-&gt;ID;\r\n    $year = get_field(&quot;vehicle-year&quot;, &quot;user_$uid&quot;);\r\n    echo $year-&gt;name;\r\n    }\r\nThis helped me confirm I can get the ACF field based on the user logged in.\r\n\r\nI know I need something that has something like this, I&#39;m just not sure how to make it replace/attach to the main WooCommerce loop so it&#39;s always filtering the products.\r\n\r\n    &#39;tax_query&#39; =&gt; array(\r\n            &#39;relation&#39;=&gt;&#39;AND&#39;,\r\n            array(\r\n                &#39;taxonomy&#39; =&gt; &#39;pa_year-2&#39;,\r\n                &#39;field&#39; =&gt; &#39;name&#39;,\r\n                &#39;terms&#39; =&gt; &#39;1970&#39;\r\n            )\r\n        )\r\n\r\nAppreciate any help you can offer.",
            "link": "https://stackoverflow.com/questions/49886799/filter-product-loop-based-on-user-dynamic-product-attribute-value-in-woocommerce",
            "title": "Filter product loop based on user dynamic product attribute value in Woocommerce",
            "body": "<p>How do I modify the main loop of WooCommerce to filter based on a logged in user's ACF field? I have added a new field to the user profile using ACF, it pulls a select list from a product attribute (Vehicle Year). I want to make it so products only show up for the user based on what vehicle year they've chosen. I can't figure out how to modify the loop so no matter what WooCommerce page the customer views it will be filtered to only show products with the attribute that matches the Vehicle Year selected in their user profile.</p>\n\n<p>I added the following code to the archive-products.php page to check for the logged in user. If you have a better idea, I'm open.</p>\n\n<pre><code>if ( is_user_logged_in() ) {\n    echo 'Welcome, registered user!';\n    $user = new WP_User(get_current_user_id());\n    $uid = $user-&gt;ID;\n$year = get_field(\"vehicle-year\", \"user_$uid\");\necho $year-&gt;name;\n}\n</code></pre>\n\n<p>This helped me confirm I can get the ACF field based on the user logged in.</p>\n\n<p>I know I need something that has something like this, I'm just not sure how to make it replace/attach to the main WooCommerce loop so it's always filtering the products.</p>\n\n<pre><code>'tax_query' =&gt; array(\n        'relation'=&gt;'AND',\n        array(\n            'taxonomy' =&gt; 'pa_year-2',\n            'field' =&gt; 'name',\n            'terms' =&gt; '1970'\n        )\n    )\n</code></pre>\n\n<p>Appreciate any help you can offer.</p>\n"
        },
        {
            "tags": [
                "cordova",
                "ionic3",
                "cordova-plugins",
                "angularfire2",
                "firebase-hosting"
            ],
            "owner": {
                "reputation": 30,
                "user_id": 4422315,
                "user_type": "registered",
                "accept_rate": 25,
                "profile_image": "https://www.gravatar.com/avatar/56d0d720233ee1e4b542f839df1b86d6?s=128&d=identicon&r=PG&f=1",
                "display_name": "SandyL ",
                "link": "https://stackoverflow.com/users/4422315/sandyl"
            },
            "is_answered": true,
            "view_count": 22,
            "accepted_answer_id": 49925204,
            "answer_count": 1,
            "score": -1,
            "last_activity_date": 1524152858,
            "creation_date": 1524133477,
            "question_id": 49918724,
            "body_markdown": "My project needs an authentification feature so I implemented AngularFire2 to handle login with Facebook and Google login.\r\nI have read about the issue with &#39;main.js:1 cordova_not_available&#39;. It needs to be run on a simulator or a device\r\nI found a solution with **ionic cordova add platform browser**\r\n[![cordova not available][1]][1]\r\nit works just fine, although it does not seem to work when the app is deployed. I am using firebase hosting \r\n\r\nAny Ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2GR3K.png",
            "link": "https://stackoverflow.com/questions/49918724/cordova-not-available-ionic-cordova-add-platform-browser",
            "title": "cordova_not_available - ionic cordova add platform browser?",
            "body": "<p>My project needs an authentification feature so I implemented AngularFire2 to handle login with Facebook and Google login.\nI have read about the issue with 'main.js:1 cordova_not_available'. It needs to be run on a simulator or a device\nI found a solution with <strong>ionic cordova add platform browser</strong>\n<a href=\"https://i.stack.imgur.com/2GR3K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2GR3K.png\" alt=\"cordova not available\"></a>\nit works just fine, although it does not seem to work when the app is deployed. I am using firebase hosting </p>\n\n<p>Any Ideas?</p>\n"
        },
        {
            "tags": [
                "php",
                "html",
                "mysql"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9114557,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/10156616654479587/picture?type=large",
                "display_name": "Chris Blogg",
                "link": "https://stackoverflow.com/users/9114557/chris-blogg"
            },
            "is_answered": false,
            "view_count": 31,
            "answer_count": 0,
            "score": -2,
            "last_activity_date": 1524152857,
            "creation_date": 1524151914,
            "last_edit_date": 1524152857,
            "question_id": 49924914,
            "body_markdown": "i am developing an online booking system for a dog walker in the form of a website.\r\n\r\ni have set up the registration form and linked it to a database using php. \r\n\r\n\r\ni&#39;ve set one of the inputs to &quot;Number of dogs&quot; with a number between 1 and 5\r\nbut i want to have it so that if the user says &quot;1&quot; then an extra bit in the form appears for &quot;dog 1&quot; for the user to fill out the details eg name, breed, age etc. but if they press &quot;2&quot; or more then i want more sections to appear for them to fill details in for &quot;dog 1, dog 2&quot;.\r\n\r\ni need help with code that will use the number given to display a certain number of extra forms for the users to fill out\r\n\r\nI have this so far but can&#39;t work out (or find in google) how to repeat the fields\r\n\r\n\r\n\t\t&lt;form class=&quot;signup-form&quot; action=&quot;includes/signup.inc.php&quot; method=&quot;POST&quot;&gt; \r\n\t\t\t&lt;input type=&quot;text&quot; name=&quot;first&quot; placeholder=&quot;First Name&quot;&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; name=&quot;last&quot; placeholder=&quot;Last Name&quot;&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; name=&quot;email&quot; placeholder=&quot;E-mail&quot;&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; name=&quot;uid&quot; placeholder=&quot;Username&quot;&gt;\r\n\t\t\t&lt;input type=&quot;password&quot; name=&quot;pwd&quot; placeholder=&quot;Password&quot;&gt;\r\n\t\t\t&lt;p&gt;Number of Dogs&lt;/p&gt;\r\n\t\t\t&lt;input type=&quot;number&quot; name=&quot;quantity&quot; palceholder=&quot;Number of Dogs&quot; min=&quot;1&quot; max=&quot;5&quot;&gt;\r\n\t//repeat from here                                                       \r\n     &lt;input type=&quot;text&quot; name=&quot;dogsname&quot; placeholder=&quot;Dogs Name&quot;&gt;\r\n\t\t\t&lt;p&gt;Gender:&lt;/p&gt;\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;male&quot; checked&gt; Male\r\n  \t\t\t&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;female&quot;&gt; Female\r\n\t\t\t&lt;input type=&quot;text&quot; name=&quot;dogbreed&quot; placeholder=&quot;Dogs Breed&quot;&gt;\r\n\t\t\t&lt;p&gt;Dogs Date of Birth&lt;/p&gt;\r\n\t\t\t&lt;input type=&quot;date&quot; name=&quot;dogsdob&quot; placeholder=&quot;Dogs Date of Birth&quot;&gt;\r\n\t\t\t&lt;p&gt;Is he/she spayed?&lt;/p&gt;\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;spayed&quot; value=&quot;yes&quot; checked&gt;Yes\r\n\t\t\t&lt;input type=&quot;radio&quot; name=&quot;spayed&quot; value=&quot;no&quot; &gt;No\r\n//to here\r\n\t\t",
            "link": "https://stackoverflow.com/questions/49924914/html-form-using-a-number-to-add-new-form-to-fill-out",
            "title": "HTML form using a number to add new form to fill out",
            "body": "<p>i am developing an online booking system for a dog walker in the form of a website.</p>\n\n<p>i have set up the registration form and linked it to a database using php. </p>\n\n<p>i've set one of the inputs to \"Number of dogs\" with a number between 1 and 5\nbut i want to have it so that if the user says \"1\" then an extra bit in the form appears for \"dog 1\" for the user to fill out the details eg name, breed, age etc. but if they press \"2\" or more then i want more sections to appear for them to fill details in for \"dog 1, dog 2\".</p>\n\n<p>i need help with code that will use the number given to display a certain number of extra forms for the users to fill out</p>\n\n<p>I have this so far but can't work out (or find in google) how to repeat the fields</p>\n\n<pre><code>    &lt;form class=\"signup-form\" action=\"includes/signup.inc.php\" method=\"POST\"&gt; \n        &lt;input type=\"text\" name=\"first\" placeholder=\"First Name\"&gt;\n        &lt;input type=\"text\" name=\"last\" placeholder=\"Last Name\"&gt;\n        &lt;input type=\"text\" name=\"email\" placeholder=\"E-mail\"&gt;\n        &lt;input type=\"text\" name=\"uid\" placeholder=\"Username\"&gt;\n        &lt;input type=\"password\" name=\"pwd\" placeholder=\"Password\"&gt;\n        &lt;p&gt;Number of Dogs&lt;/p&gt;\n        &lt;input type=\"number\" name=\"quantity\" palceholder=\"Number of Dogs\" min=\"1\" max=\"5\"&gt;\n//repeat from here                                                       \n &lt;input type=\"text\" name=\"dogsname\" placeholder=\"Dogs Name\"&gt;\n        &lt;p&gt;Gender:&lt;/p&gt;\n        &lt;input type=\"radio\" name=\"gender\" value=\"male\" checked&gt; Male\n        &lt;input type=\"radio\" name=\"gender\" value=\"female\"&gt; Female\n        &lt;input type=\"text\" name=\"dogbreed\" placeholder=\"Dogs Breed\"&gt;\n        &lt;p&gt;Dogs Date of Birth&lt;/p&gt;\n        &lt;input type=\"date\" name=\"dogsdob\" placeholder=\"Dogs Date of Birth\"&gt;\n        &lt;p&gt;Is he/she spayed?&lt;/p&gt;\n        &lt;input type=\"radio\" name=\"spayed\" value=\"yes\" checked&gt;Yes\n        &lt;input type=\"radio\" name=\"spayed\" value=\"no\" &gt;No\n</code></pre>\n\n<p>//to here</p>\n"
        },
        {
            "tags": [
                "java",
                "scala",
                "jetty",
                "embedded-jetty"
            ],
            "owner": {
                "reputation": 1153,
                "user_id": 427079,
                "user_type": "registered",
                "accept_rate": 72,
                "profile_image": "https://www.gravatar.com/avatar/e9046179439c48bbdb6da2db29bd6666?s=128&d=identicon&r=PG",
                "display_name": "parsa",
                "link": "https://stackoverflow.com/users/427079/parsa"
            },
            "is_answered": true,
            "view_count": 2139,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524152855,
            "creation_date": 1293356058,
            "last_edit_date": 1524152855,
            "question_id": 4533357,
            "body_markdown": "I have an embedded instance of Jetty running in my app, which apparently creates another instance of JVM. How can I pass JVM arguments to this instance? I create my embedded Jetty like this:\r\n\r\n    val server = new Server\r\n    val scc = new SelectChannelConnector\r\n    scc.setPort(8080)\r\n    server.setConnectors(Array(scc))\r\n\r\n    val context = new WebAppContext()\r\n    context.setServer(server)\r\n    context.setContextPath(&quot;/&quot;)\r\n    context.setWar(&quot;src/main/webapp&quot;)\r\n\r\n    server.addHandler(context)\r\n\r\n    try {\r\n        println(&quot;&gt;&gt;&gt; STARTING EMBEDDED JETTY SERVER, PRESS ANY KEY TO STOP&quot;)\r\n        server.start()\r\n        while (System.in.available() == 0) {\r\n            Thread.sleep(5000)\r\n        }\r\n        server.stop()\r\n        server.join()\r\n    } catch {\r\n        case exc:\r\n        Exception =&gt; {\r\n            exc.printStackTrace()\r\n            System.exit(100)\r\n        }\r\n    }\r\n\r\n(Scala code but I believe it&#39;s easy to understand for Java devs as well)",
            "link": "https://stackoverflow.com/questions/4533357/embedded-jetty-setting-jvm-arguments",
            "title": "Embedded Jetty: Setting JVM arguments",
            "body": "<p>I have an embedded instance of Jetty running in my app, which apparently creates another instance of JVM. How can I pass JVM arguments to this instance? I create my embedded Jetty like this:</p>\n\n<pre><code>val server = new Server\nval scc = new SelectChannelConnector\nscc.setPort(8080)\nserver.setConnectors(Array(scc))\n\nval context = new WebAppContext()\ncontext.setServer(server)\ncontext.setContextPath(\"/\")\ncontext.setWar(\"src/main/webapp\")\n\nserver.addHandler(context)\n\ntry {\n    println(\"&gt;&gt;&gt; STARTING EMBEDDED JETTY SERVER, PRESS ANY KEY TO STOP\")\n    server.start()\n    while (System.in.available() == 0) {\n        Thread.sleep(5000)\n    }\n    server.stop()\n    server.join()\n} catch {\n    case exc:\n    Exception =&gt; {\n        exc.printStackTrace()\n        System.exit(100)\n    }\n}\n</code></pre>\n\n<p>(Scala code but I believe it's easy to understand for Java devs as well)</p>\n"
        },
        {
            "tags": [
                "frequency",
                "spotfire"
            ],
            "owner": {
                "reputation": 25,
                "user_id": 7482982,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/f73d18f6e1ddd06d6bdd644fdb063df9?s=128&d=identicon&r=PG&f=1",
                "display_name": "V. Ang",
                "link": "https://stackoverflow.com/users/7482982/v-ang"
            },
            "is_answered": false,
            "view_count": 63,
            "answer_count": 1,
            "score": 2,
            "last_activity_date": 1524152846,
            "creation_date": 1523953454,
            "question_id": 49873188,
            "body_markdown": "I have the following table in Spotfire:\r\n\r\n    ID\tRule  \r\n    1\ta  \r\n    1\tb  \r\n    1\ta  \r\n    1\tc  \r\n    2\ta  \r\n    2\ta  \r\n    3\ta  \r\n    3\ta  \r\n    3\tb  \r\n    4\tb  \r\n    4\tc  \r\n    5\tc  \r\n\r\nI need to calculate how many times each rule appears with each other rule. \r\nThe result from this table should be:  \r\n\r\n    Couple  Occurrences  \r\n    a-b     2            (Explanation: from ID 1 and ID 3)  \r\n    a-c     1            (Explanation: from ID 1)  \r\n    b-c     2            (Explanation: from ID 1 and ID 4)\r\n\r\nor something like this:\r\n\r\n       a   b   c\r\n    a  3   2   1\r\n    b  2   3   2\r\n    c  1   2   3\r\n\r\n(and I will ignore a-a, b-b and c-c).\r\n\r\nI don&#39;t know how to obtain this in Spotfire without adding too many columns (there are 21 millions of rows and 60 different rules, so I don&#39;t want to increase too much the dimensions of this file).\r\n\r\nDo you know what can I do? I imagine I will have to use a script but I don&#39;t know how to build it.\r\n\r\nThank you!\r\n\r\nValentina",
            "link": "https://stackoverflow.com/questions/49873188/spotfire-calculate-the-frequency-of-value-pairs-in-a-column",
            "title": "Spotfire: calculate the frequency of value pairs in a column",
            "body": "<p>I have the following table in Spotfire:</p>\n\n<pre><code>ID  Rule  \n1   a  \n1   b  \n1   a  \n1   c  \n2   a  \n2   a  \n3   a  \n3   a  \n3   b  \n4   b  \n4   c  \n5   c  \n</code></pre>\n\n<p>I need to calculate how many times each rule appears with each other rule. \nThe result from this table should be:  </p>\n\n<pre><code>Couple  Occurrences  \na-b     2            (Explanation: from ID 1 and ID 3)  \na-c     1            (Explanation: from ID 1)  \nb-c     2            (Explanation: from ID 1 and ID 4)\n</code></pre>\n\n<p>or something like this:</p>\n\n<pre><code>   a   b   c\na  3   2   1\nb  2   3   2\nc  1   2   3\n</code></pre>\n\n<p>(and I will ignore a-a, b-b and c-c).</p>\n\n<p>I don't know how to obtain this in Spotfire without adding too many columns (there are 21 millions of rows and 60 different rules, so I don't want to increase too much the dimensions of this file).</p>\n\n<p>Do you know what can I do? I imagine I will have to use a script but I don't know how to build it.</p>\n\n<p>Thank you!</p>\n\n<p>Valentina</p>\n"
        },
        {
            "tags": [
                "graph",
                "neo4j",
                "cypher",
                "transitive-closure"
            ],
            "owner": {
                "reputation": 13,
                "user_id": 7434288,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/f4fdf0511e8e89184c34546b839ba2f9?s=128&d=identicon&r=PG&f=1",
                "display_name": "J. Gambolputty",
                "link": "https://stackoverflow.com/users/7434288/j-gambolputty"
            },
            "is_answered": false,
            "view_count": 30,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152835,
            "creation_date": 1523958206,
            "last_edit_date": 1524150667,
            "question_id": 49874800,
            "body_markdown": "I am trying to compute the transitive closure of an undirected graph in Neo4j using the following Cypher Query (&quot;E&quot; is the label that every edge of the graph has):\r\n\r\n    MATCH (a) -[:E*]- (b) WHERE ID(a) &lt; ID(b) RETURN DISTINCT a, b\r\n\r\nI tried to execute this query on a graph with 10k nodes and around 150k edges, but even after 8 hours it did not finish. I find this surprising, because even the most naive SQL solutions are much faster and I expected that Neo4j would be much more efficient for these kind of standard graph queries. So is there something that I am missing, maybe some tuning of the Neo4j server or a better way to write the query?\r\n\r\nEdit\r\n----\r\n\r\nHere is the result of `EXPLAIN`ing the above query:\r\n\r\n    +--------------------------------------------+\r\n    | No data returned, and nothing was changed. |\r\n    +--------------------------------------------+\r\n    908 ms\r\n    \r\n    Compiler CYPHER 3.3\r\n    \r\n    Planner COST\r\n    \r\n    Runtime INTERPRETED\r\n    \r\n    +-----------------------+----------------+------------------+--------------------------------+\r\n    | Operator              | Estimated Rows | Variables        | Other                          |\r\n    +-----------------------+----------------+------------------+--------------------------------+\r\n    | +ProduceResults       |          14069 | a, b             |                                |\r\n    | |                     +----------------+------------------+--------------------------------+\r\n    | +Distinct             |          14069 | a, b             | a, b                           |\r\n    | |                     +----------------+------------------+--------------------------------+\r\n    | +Filter               |          14809 | anon[11], a, b   | ID(a) &lt; ID(b)                  |\r\n    | |                     +----------------+------------------+--------------------------------+\r\n    | +VarLengthExpand(All) |          49364 | anon[11], b -- a | (a)-[:E*]-(b)                  |\r\n    | |                     +----------------+------------------+--------------------------------+\r\n    | +AllNodesScan         |          40012 | a                |                                |\r\n    +-----------------------+----------------+------------------+--------------------------------+\r\n    \r\n    Total database accesses: ?\r\n\r\n\r\n    ",
            "link": "https://stackoverflow.com/questions/49874800/performance-of-the-transitive-closure-query-in-neo4j",
            "title": "Performance of the transitive closure query in Neo4j",
            "body": "<p>I am trying to compute the transitive closure of an undirected graph in Neo4j using the following Cypher Query (\"E\" is the label that every edge of the graph has):</p>\n\n<pre><code>MATCH (a) -[:E*]- (b) WHERE ID(a) &lt; ID(b) RETURN DISTINCT a, b\n</code></pre>\n\n<p>I tried to execute this query on a graph with 10k nodes and around 150k edges, but even after 8 hours it did not finish. I find this surprising, because even the most naive SQL solutions are much faster and I expected that Neo4j would be much more efficient for these kind of standard graph queries. So is there something that I am missing, maybe some tuning of the Neo4j server or a better way to write the query?</p>\n\n<h2>Edit</h2>\n\n<p>Here is the result of <code>EXPLAIN</code>ing the above query:</p>\n\n<pre><code>+--------------------------------------------+\n| No data returned, and nothing was changed. |\n+--------------------------------------------+\n908 ms\n\nCompiler CYPHER 3.3\n\nPlanner COST\n\nRuntime INTERPRETED\n\n+-----------------------+----------------+------------------+--------------------------------+\n| Operator              | Estimated Rows | Variables        | Other                          |\n+-----------------------+----------------+------------------+--------------------------------+\n| +ProduceResults       |          14069 | a, b             |                                |\n| |                     +----------------+------------------+--------------------------------+\n| +Distinct             |          14069 | a, b             | a, b                           |\n| |                     +----------------+------------------+--------------------------------+\n| +Filter               |          14809 | anon[11], a, b   | ID(a) &lt; ID(b)                  |\n| |                     +----------------+------------------+--------------------------------+\n| +VarLengthExpand(All) |          49364 | anon[11], b -- a | (a)-[:E*]-(b)                  |\n| |                     +----------------+------------------+--------------------------------+\n| +AllNodesScan         |          40012 | a                |                                |\n+-----------------------+----------------+------------------+--------------------------------+\n\nTotal database accesses: ?\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "xml",
                "web-scraping",
                "beautifulsoup",
                "elementtree"
            ],
            "owner": {
                "reputation": 101,
                "user_id": 8407951,
                "user_type": "registered",
                "accept_rate": 62,
                "profile_image": "https://www.gravatar.com/avatar/22ac0be4f472b5379a2175a668266f83?s=128&d=identicon&r=PG&f=1",
                "display_name": "E. Dohrty",
                "link": "https://stackoverflow.com/users/8407951/e-dohrty"
            },
            "is_answered": true,
            "view_count": 29,
            "accepted_answer_id": 49911233,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524152834,
            "creation_date": 1524084972,
            "last_edit_date": 1524125971,
            "question_id": 49908884,
            "body_markdown": "I have [this][1] xml file, and I basically want to record all of the information into a dictionary.\r\n\r\nI wrote this code:\r\n\r\n    import requests\r\n    import xml.etree.ElementTree as ET\r\n    import urllib2\r\n    import glob\r\n    import pprint\r\n    from bs4 import BeautifulSoup\r\n    \r\n    #get the XML file\r\n    #response = requests.get(&#39;https://www.drugbank.ca/drugs/DB01048.xml&#39;)\r\n    #with open(&#39;output.txt&#39;, &#39;w&#39;) as input:\r\n    #          input.write(response.content)\r\n    \r\n    \r\n    #set up lists etc\r\n    set_of_files = glob.glob(&#39;output*txt&#39;)\r\n    val = lambda x: &quot;{http://www.drugbank.ca}&quot; + str(x)\r\n    key_list = [&#39;drugbank-id&#39;,&#39;name&#39;,&#39;description&#39;,&#39;cas-number&#39;,&#39;unii&#39;,&#39;average-mass&#39;,&#39;monoisotopic-mass&#39;,&#39;state&#39;,&#39;indication&#39;,&#39;pharmacodynamics&#39;,&#39;mechanism-of-action&#39;,&#39;toxicity&#39;,&#39;metabolism&#39;,&#39;absorption&#39;,&#39;half-life&#39;,&#39;protein-binding&#39;,&#39;route-of-elimination&#39;,&#39;volume-of-distribution&#39;,&#39;fda-label&#39;,&#39;msds&#39;]\r\n    key_dict = {}\r\n    method1 = [&#39;groups&#39;,&#39;synonyms&#39;,&#39;patent&#39;]\r\n    method3_inputs = [(&#39;dosages&#39;,&#39;dosage&#39;),(&#39;salts&#39;,&#39;salt&#39;),(&#39;products&#39;,&#39;product&#39;),(&#39;mixtures&#39;,&#39;mixture&#39;),(&#39;packagers&#39;,&#39;packager&#39;),(&#39;categories&#39;,&#39;category&#39;),(&#39;atc-codes&#39;,&#39;atc-code&#39;),(&#39;pdb-entries&#39;,&#39;pdb-entry&#39;),(&#39;food-interactions&#39;,&#39;food-interaction&#39;),(&#39;drug-interactions&#39;,&#39;drug-interaction&#39;),(&#39;properties&#39;,&#39;property&#39;),(&#39;external-identifiers&#39;,&#39;external-identifier&#39;),(&#39;external-links&#39;,&#39;external-link&#39;),(&#39;reactions&#39;,&#39;reaction&#39;)]\r\n    list_to_run_thru = [&#39;description&#39;,&#39;direct-parent&#39;,&#39;kingdom&#39;,&#39;superclass&#39;,&#39;class&#39;,&#39;subclass&#39;]\r\n    alternative_parents = []\r\n    http_add = &#39;{http://www.drugbank.ca}&#39;\r\n    substituents = []\r\n    ap_sub = lambda x:&#39;{http://www.drugbank.ca}&#39;+ x\r\n    \r\n    def method2(list2_name,list3_name,list4_name):\r\n         temp_list = []\r\n         for i in subnode:\r\n              if i.tag == list2_name:\r\n                   for a in i:\r\n                        if a.tag == list3_name:\r\n                             for u in a:\r\n                                  if u.tag == list4_name:\r\n                                       temp_list.append(u.text)\r\n         return temp_list\r\n    \r\n    def method3(list1_name):\r\n         list_of_tuples = []\r\n         for i in subnode:\r\n              if i.tag == list1_name:\r\n                   temp_list = []\r\n                   for a in i:\r\n                        temp_list.append(a.text)\r\n                        list_of_tuples.append(temp_list)\r\n         return list_of_tuples\r\n    \r\n    new_method3 = []\r\n    for i in method3_inputs:\r\n         new_k = http_add + i[0]\r\n         new_v = http_add + i[1]\r\n         new_method3.append((new_k,new_v))\r\n    \r\n    for each_file in set_of_files:\r\n         tree = ET.parse(each_file)\r\n         root = tree.getroot()\r\n         for i in key_list:\r\n              for child in root.getchildren():\r\n                   if i not in key_dict:\r\n                        key_dict[i] = [child.find(val(i)).text.encode(&#39;utf-8&#39;)]\r\n                   else:\r\n                        key_dict[i].append(child.find(val(i)).text.encode(&#39;utf-8&#39;))\r\n    \r\n         for node in root:\r\n              for subnode in node:\r\n                   if subnode.tag == &#39;{http://www.drugbank.ca}general-references&#39;:\r\n                        if &#39;pubmed-id&#39; not in key_dict:\r\n                             key_dict[&#39;pubmed-id&#39;] = method2(&#39;{http://www.drugbank.ca}articles&#39;,&#39;{http://www.drugbank.ca}article&#39;,&#39;{http://www.drugbank.ca}pubmed-id&#39;)\r\n                        else:\r\n                             key_dict[&#39;pubmed-id&#39;].append(method2(&#39;{http://www.drugbank.ca}articles&#39;,&#39;{http://www.drugbank.ca}article&#39;,&#39;{http://www.drugbank.ca}pubmed-id&#39;))\r\n    \r\n                   for a,b in zip(method3_inputs,new_method3):\r\n                        if subnode.tag == b[0]:\r\n                             if a[0] not in key_dict:\r\n                                  key_dict[a[0]] = method3(b[1])\r\n                             else:\r\n                                  key_dict[method3_inputs].append(method3(b[1]))\r\n    \r\n                   if subnode.tag == &#39;{http://www.drugbank.ca}classification&#39;: \r\n                        for each_item in list_to_run_thru:\r\n                             for i in subnode:\r\n                                   if i.tag == ap_sub(each_item):\r\n                                       if i.tag == &#39;{http://www.drugbank.ca}alternative-parent&#39;:\r\n                                             alternative_parents.append(i.text)  \r\n                                       if i.tag == &#39;{http://www.drugbank.ca}substituent&#39;:\r\n                                             substituents.append(i.text)  \r\n    \r\n                   for i in method1:\r\n                        if subnode.tag == &#39;{http://www.drugbank.ca}&#39; + i:\r\n                             for n in subnode:\r\n                                  if i not in key_dict:\r\n                                       key_dict[i] = [n.text]\r\n                                  elif i in key_dict:\r\n                                       key_dict[i].append(n.text)\r\n                        \r\n                   if subnode.tag == &#39;{http://www.drugbank.ca}pathways&#39;:\r\n                        if &#39;pathways&#39;not in key_dict:\r\n                             key_dict[&#39;pathways&#39;] = method2(&#39;{http://www.drugbank.ca}pathways&#39;,&#39;{http://www.drugbank.ca}pathway&#39;,&#39;{http://www.drugbank.ca}drug&#39;)\r\n                        else:\r\n                             key_dict[&#39;pathways&#39;].append(method2(&#39;{http://www.drugbank.ca}pathways&#39;,&#39;{http://www.drugbank.ca}pathway&#39;,&#39;{http://www.drugbank.ca}drug&#39;))\r\n    \r\n    \r\n    key_dict[&#39;alternative_parents&#39;] = alternative_parents\r\n    key_dict[&#39;substituent&#39;] = substituents\r\n    \r\n    \r\n    html = requests.get(&#39;https://www.drugbank.ca/drugs/DB01048&#39;).text\r\n    soup = BeautifulSoup(html, &#39;html.parser&#39;)\r\n    div_targets = soup.find(&#39;div&#39;, class_=&#39;bond-list-container targets&#39;)\r\n    targets = div_targets.find_all(&#39;div&#39;, class_=&#39;bond card&#39;)\r\n    \r\n    for target in targets:\r\n        k = []\r\n        v = []\r\n        for property in target.find_all(&#39;dt&#39;):\r\n            k.append(property.get_text())\r\n        for property in target.find_all(&#39;dd&#39;):\r\n            v.append(property.get_text())\r\n        key_dict[target.find(&#39;strong&#39;).get_text()] = dict(zip(k, v))\r\n    \r\n    print key_dict.keys()\r\n\r\n\r\nThe code runs on the XML file described fine. But there are some issues I would like to see if anyone can improve:\r\n\r\n1. You can clearly see I had to hard-code a lot of it. For example, some of the tags are one-layer deep (e.g. drugbank-id), some are two layers deep (e.g. groups -&gt; group), some are three layers deep (e.g. products, product,name) etc.\r\n\r\nYou can see that I&#39;ve written a function for the two and three layers deep (the functions are called method3 and method2), and then I&#39;ve hardcoded in lists that belong to each function.\r\n\r\nI&#39;m wondering can anyone show me code that is better/cleaner/more efficient than this. My idea would be that I have a list of IDs (e.g. description, products) and somehow the function understands &#39;this is a 3-layer tag (e.g. products -&gt; product -&gt;name), so then I don&#39;t have to hard code in all the 3-layer tags, all the 2-layer tags etc. something like having an if statement &#39;if tags are 3-layers deep...do this function....if tags are 2-layers deep....do this&#39;.\r\n\r\n2. Disclaimer: I know this method uses both BeautifulSoup and ET to parse, as I was stuck on a section and got help [here][2]. Unfortunately I need to master one before I can move on, and I found the HTML version much more confusing than the XML, for now, so that&#39;s why the script parses the file from both a XML and HTML perspective.\r\n\r\n3. Does anyone have any general comments on how this script can be made cleaner? The idea would be to take each of the &#39;top-level&#39; tags (i.e. everything immediately below the &#39;drug type&#39; tag) and then basically pull down all that info into dictionaries/lists/whatever, and then whenever I want to search for something, I can just search the dictionary for the &#39;top level&#39; word and it has sub-data for that tag that I can read through (and the levels are organised properly, e.g. if there is only one level below the tag, just a string is fine, but if there is a lot of tags below the tag, maybe returning a dictionary/list/tuple/something more appropriate).\r\n\r\n\r\n  [1]: https://www.drugbank.ca/drugs/DB01048.xml\r\n  [2]: https://stackoverflow.com/questions/49904532/difficulty-parsing-a-section-of-xml-file-with-elementtree\r\n\r\nEdit:\r\nBased on the below help, I downloaded drugbank.xsd and ran this command:\r\n\r\n    pyxbgen -m DB01048 -u drugbank.xsd --no-validate-changes\r\n\r\nand then this script:\r\n\r\n    from __future__ import print_function\r\n    import DB01048\r\n    \r\n    xml = open(&#39;DB01048.xml&#39;).read()\r\n    d_01048 = DB01048.CreateFromDocument(xml)\r\n    \r\n    #print(d_01048.drug[0].state)\r\n    #print(d_01048.drug[0].name)\r\n    #print(d_01048.drug[0].general_references.articles.article[0].pubmed_id)\r\n\r\nand the error:\r\n\r\n    Traceback (most recent call last):\r\n      File &quot;parse_drug_db.py&quot;, line 5, in &lt;module&gt;\r\n        d_01048 = DB01048.CreateFromDocument(xml)\r\n      File &quot;/home/drugs/DB01048.py&quot;, line 65, in CreateFromDocument\r\n        saxer.parse(io.BytesIO(xmld))\r\n      File &quot;/usr/lib/python2.7/xml/sax/expatreader.py&quot;, line 110, in parse\r\n        xmlreader.IncrementalParser.parse(self, source)\r\n      File &quot;/usr/lib/python2.7/xml/sax/xmlreader.py&quot;, line 123, in parse\r\n        self.feed(buffer)\r\n      File &quot;/usr/lib/python2.7/xml/sax/expatreader.py&quot;, line 213, in feed\r\n        self._parser.Parse(data, isFinal)\r\n      File &quot;/usr/lib/python2.7/xml/sax/expatreader.py&quot;, line 365, in end_element_ns\r\n        self._cont_handler.endElementNS(pair, None)\r\n      File &quot;/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/saxer.py&quot;, line 388, in endElementNS\r\n        binding_object = this_state.endBindingElement()\r\n      File &quot;/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/saxer.py&quot;, line 245, in endBindingElement\r\n        return self.__bindingInstance._postDOMValidate()\r\n      File &quot;/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/basis.py&quot;, line 2652, in _postDOMValidate\r\n        self._validateAttributes()\r\n      File &quot;/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/basis.py&quot;, line 2246, in _validateAttributes\r\n        au.validate(self)\r\n      File &quot;/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/content.py&quot;, line 251, in validate\r\n        raise pyxb.MissingAttributeError(type(ctd_instance), self.__name, ctd_instance)\r\n    pyxb.exceptions_.MissingAttributeError: Instance of &lt;class &#39;DB01048.drugbank_type&#39;&gt; lacks required attribute exported-on",
            "link": "https://stackoverflow.com/questions/49908884/parsing-file-with-elementtree-and-beautifulsoup-is-there-a-way-to-parse-the-fil",
            "title": "Parsing file with ElementTree and BeautifulSoup: is there a way to parse the file by number of tag levels?",
            "body": "<p>I have <a href=\"https://www.drugbank.ca/drugs/DB01048.xml\" rel=\"nofollow noreferrer\">this</a> xml file, and I basically want to record all of the information into a dictionary.</p>\n\n<p>I wrote this code:</p>\n\n<pre><code>import requests\nimport xml.etree.ElementTree as ET\nimport urllib2\nimport glob\nimport pprint\nfrom bs4 import BeautifulSoup\n\n#get the XML file\n#response = requests.get('https://www.drugbank.ca/drugs/DB01048.xml')\n#with open('output.txt', 'w') as input:\n#          input.write(response.content)\n\n\n#set up lists etc\nset_of_files = glob.glob('output*txt')\nval = lambda x: \"{http://www.drugbank.ca}\" + str(x)\nkey_list = ['drugbank-id','name','description','cas-number','unii','average-mass','monoisotopic-mass','state','indication','pharmacodynamics','mechanism-of-action','toxicity','metabolism','absorption','half-life','protein-binding','route-of-elimination','volume-of-distribution','fda-label','msds']\nkey_dict = {}\nmethod1 = ['groups','synonyms','patent']\nmethod3_inputs = [('dosages','dosage'),('salts','salt'),('products','product'),('mixtures','mixture'),('packagers','packager'),('categories','category'),('atc-codes','atc-code'),('pdb-entries','pdb-entry'),('food-interactions','food-interaction'),('drug-interactions','drug-interaction'),('properties','property'),('external-identifiers','external-identifier'),('external-links','external-link'),('reactions','reaction')]\nlist_to_run_thru = ['description','direct-parent','kingdom','superclass','class','subclass']\nalternative_parents = []\nhttp_add = '{http://www.drugbank.ca}'\nsubstituents = []\nap_sub = lambda x:'{http://www.drugbank.ca}'+ x\n\ndef method2(list2_name,list3_name,list4_name):\n     temp_list = []\n     for i in subnode:\n          if i.tag == list2_name:\n               for a in i:\n                    if a.tag == list3_name:\n                         for u in a:\n                              if u.tag == list4_name:\n                                   temp_list.append(u.text)\n     return temp_list\n\ndef method3(list1_name):\n     list_of_tuples = []\n     for i in subnode:\n          if i.tag == list1_name:\n               temp_list = []\n               for a in i:\n                    temp_list.append(a.text)\n                    list_of_tuples.append(temp_list)\n     return list_of_tuples\n\nnew_method3 = []\nfor i in method3_inputs:\n     new_k = http_add + i[0]\n     new_v = http_add + i[1]\n     new_method3.append((new_k,new_v))\n\nfor each_file in set_of_files:\n     tree = ET.parse(each_file)\n     root = tree.getroot()\n     for i in key_list:\n          for child in root.getchildren():\n               if i not in key_dict:\n                    key_dict[i] = [child.find(val(i)).text.encode('utf-8')]\n               else:\n                    key_dict[i].append(child.find(val(i)).text.encode('utf-8'))\n\n     for node in root:\n          for subnode in node:\n               if subnode.tag == '{http://www.drugbank.ca}general-references':\n                    if 'pubmed-id' not in key_dict:\n                         key_dict['pubmed-id'] = method2('{http://www.drugbank.ca}articles','{http://www.drugbank.ca}article','{http://www.drugbank.ca}pubmed-id')\n                    else:\n                         key_dict['pubmed-id'].append(method2('{http://www.drugbank.ca}articles','{http://www.drugbank.ca}article','{http://www.drugbank.ca}pubmed-id'))\n\n               for a,b in zip(method3_inputs,new_method3):\n                    if subnode.tag == b[0]:\n                         if a[0] not in key_dict:\n                              key_dict[a[0]] = method3(b[1])\n                         else:\n                              key_dict[method3_inputs].append(method3(b[1]))\n\n               if subnode.tag == '{http://www.drugbank.ca}classification': \n                    for each_item in list_to_run_thru:\n                         for i in subnode:\n                               if i.tag == ap_sub(each_item):\n                                   if i.tag == '{http://www.drugbank.ca}alternative-parent':\n                                         alternative_parents.append(i.text)  \n                                   if i.tag == '{http://www.drugbank.ca}substituent':\n                                         substituents.append(i.text)  \n\n               for i in method1:\n                    if subnode.tag == '{http://www.drugbank.ca}' + i:\n                         for n in subnode:\n                              if i not in key_dict:\n                                   key_dict[i] = [n.text]\n                              elif i in key_dict:\n                                   key_dict[i].append(n.text)\n\n               if subnode.tag == '{http://www.drugbank.ca}pathways':\n                    if 'pathways'not in key_dict:\n                         key_dict['pathways'] = method2('{http://www.drugbank.ca}pathways','{http://www.drugbank.ca}pathway','{http://www.drugbank.ca}drug')\n                    else:\n                         key_dict['pathways'].append(method2('{http://www.drugbank.ca}pathways','{http://www.drugbank.ca}pathway','{http://www.drugbank.ca}drug'))\n\n\nkey_dict['alternative_parents'] = alternative_parents\nkey_dict['substituent'] = substituents\n\n\nhtml = requests.get('https://www.drugbank.ca/drugs/DB01048').text\nsoup = BeautifulSoup(html, 'html.parser')\ndiv_targets = soup.find('div', class_='bond-list-container targets')\ntargets = div_targets.find_all('div', class_='bond card')\n\nfor target in targets:\n    k = []\n    v = []\n    for property in target.find_all('dt'):\n        k.append(property.get_text())\n    for property in target.find_all('dd'):\n        v.append(property.get_text())\n    key_dict[target.find('strong').get_text()] = dict(zip(k, v))\n\nprint key_dict.keys()\n</code></pre>\n\n<p>The code runs on the XML file described fine. But there are some issues I would like to see if anyone can improve:</p>\n\n<ol>\n<li>You can clearly see I had to hard-code a lot of it. For example, some of the tags are one-layer deep (e.g. drugbank-id), some are two layers deep (e.g. groups -> group), some are three layers deep (e.g. products, product,name) etc.</li>\n</ol>\n\n<p>You can see that I've written a function for the two and three layers deep (the functions are called method3 and method2), and then I've hardcoded in lists that belong to each function.</p>\n\n<p>I'm wondering can anyone show me code that is better/cleaner/more efficient than this. My idea would be that I have a list of IDs (e.g. description, products) and somehow the function understands 'this is a 3-layer tag (e.g. products -> product ->name), so then I don't have to hard code in all the 3-layer tags, all the 2-layer tags etc. something like having an if statement 'if tags are 3-layers deep...do this function....if tags are 2-layers deep....do this'.</p>\n\n<ol start=\"2\">\n<li><p>Disclaimer: I know this method uses both BeautifulSoup and ET to parse, as I was stuck on a section and got help <a href=\"https://stackoverflow.com/questions/49904532/difficulty-parsing-a-section-of-xml-file-with-elementtree\">here</a>. Unfortunately I need to master one before I can move on, and I found the HTML version much more confusing than the XML, for now, so that's why the script parses the file from both a XML and HTML perspective.</p></li>\n<li><p>Does anyone have any general comments on how this script can be made cleaner? The idea would be to take each of the 'top-level' tags (i.e. everything immediately below the 'drug type' tag) and then basically pull down all that info into dictionaries/lists/whatever, and then whenever I want to search for something, I can just search the dictionary for the 'top level' word and it has sub-data for that tag that I can read through (and the levels are organised properly, e.g. if there is only one level below the tag, just a string is fine, but if there is a lot of tags below the tag, maybe returning a dictionary/list/tuple/something more appropriate).</p></li>\n</ol>\n\n<p>Edit:\nBased on the below help, I downloaded drugbank.xsd and ran this command:</p>\n\n<pre><code>pyxbgen -m DB01048 -u drugbank.xsd --no-validate-changes\n</code></pre>\n\n<p>and then this script:</p>\n\n<pre><code>from __future__ import print_function\nimport DB01048\n\nxml = open('DB01048.xml').read()\nd_01048 = DB01048.CreateFromDocument(xml)\n\n#print(d_01048.drug[0].state)\n#print(d_01048.drug[0].name)\n#print(d_01048.drug[0].general_references.articles.article[0].pubmed_id)\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"parse_drug_db.py\", line 5, in &lt;module&gt;\n    d_01048 = DB01048.CreateFromDocument(xml)\n  File \"/home/drugs/DB01048.py\", line 65, in CreateFromDocument\n    saxer.parse(io.BytesIO(xmld))\n  File \"/usr/lib/python2.7/xml/sax/expatreader.py\", line 110, in parse\n    xmlreader.IncrementalParser.parse(self, source)\n  File \"/usr/lib/python2.7/xml/sax/xmlreader.py\", line 123, in parse\n    self.feed(buffer)\n  File \"/usr/lib/python2.7/xml/sax/expatreader.py\", line 213, in feed\n    self._parser.Parse(data, isFinal)\n  File \"/usr/lib/python2.7/xml/sax/expatreader.py\", line 365, in end_element_ns\n    self._cont_handler.endElementNS(pair, None)\n  File \"/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/saxer.py\", line 388, in endElementNS\n    binding_object = this_state.endBindingElement()\n  File \"/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/saxer.py\", line 245, in endBindingElement\n    return self.__bindingInstance._postDOMValidate()\n  File \"/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/basis.py\", line 2652, in _postDOMValidate\n    self._validateAttributes()\n  File \"/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/basis.py\", line 2246, in _validateAttributes\n    au.validate(self)\n  File \"/home/aoidoh/bin/local/lib/python2.7/site-packages/pyxb/binding/content.py\", line 251, in validate\n    raise pyxb.MissingAttributeError(type(ctd_instance), self.__name, ctd_instance)\npyxb.exceptions_.MissingAttributeError: Instance of &lt;class 'DB01048.drugbank_type'&gt; lacks required attribute exported-on\n</code></pre>\n"
        },
        {
            "tags": [
                "php",
                "codeigniter",
                "codeigniter-3"
            ],
            "owner": {
                "reputation": 51,
                "user_id": 6014855,
                "user_type": "registered",
                "accept_rate": 0,
                "profile_image": "https://lh6.googleusercontent.com/-GhSA4Bfu3NU/AAAAAAAAAAI/AAAAAAAAAmg/Po7T3_xBcBU/photo.jpg?sz=128",
                "display_name": "Dhaval Koradiya",
                "link": "https://stackoverflow.com/users/6014855/dhaval-koradiya"
            },
            "is_answered": false,
            "view_count": 36,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524152834,
            "creation_date": 1524130440,
            "last_edit_date": 1524135870,
            "question_id": 49917612,
            "body_markdown": "I am using custom helper function under controller class  `__construct()` method. Is it correct way to use that function here?\r\n\r\n    public function __construct()\r\n    {\r\n        if(is_user_login()){ // function define in custom_helper.php\r\n            redirect(&#39;&#39;);\r\n        }\r\n        parent::__construct();\r\n    } \r\n\r\nAlso, `custom_helper.php` file is autoloaded.\r\n\r\n**NOTE**: `is_user_login()` function works with other methods, but not work with construct method.\r\n\r\nI am getting this error:\r\n\r\n    An uncaught Exception was encountered\r\n    \r\n    Type: Error\r\n    \r\n    Message: Call to undefined function is_user_login()\r\n\r\nI am curious about know the reason behind that, or if it is possible, then how to make it work?",
            "link": "https://stackoverflow.com/questions/49917612/custom-helper-function-doesnt-work-in-the-construct-method-of-codeigniter",
            "title": "Custom helper function doesn&#39;t work in the construct method of codeigniter",
            "body": "<p>I am using custom helper function under controller class  <code>__construct()</code> method. Is it correct way to use that function here?</p>\n\n<pre><code>public function __construct()\n{\n    if(is_user_login()){ // function define in custom_helper.php\n        redirect('');\n    }\n    parent::__construct();\n} \n</code></pre>\n\n<p>Also, <code>custom_helper.php</code> file is autoloaded.</p>\n\n<p><strong>NOTE</strong>: <code>is_user_login()</code> function works with other methods, but not work with construct method.</p>\n\n<p>I am getting this error:</p>\n\n<pre><code>An uncaught Exception was encountered\n\nType: Error\n\nMessage: Call to undefined function is_user_login()\n</code></pre>\n\n<p>I am curious about know the reason behind that, or if it is possible, then how to make it work?</p>\n"
        }
    ],
    "has_more": true,
    "quota_max": 300,
    "quota_remaining": 39
}
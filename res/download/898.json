{
    "items": [
        {
            "tags": [
                "c",
                "combinations",
                "equation"
            ],
            "owner": {
                "reputation": 8,
                "user_id": 9669193,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/9525ad514dc61e208fdb9ad9d1817c38?s=128&d=identicon&r=PG&f=1",
                "display_name": "Dum Dum",
                "link": "https://stackoverflow.com/users/9669193/dum-dum"
            },
            "is_answered": true,
            "view_count": 42,
            "closed_date": 1524144580,
            "accepted_answer_id": 49921489,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524141916,
            "creation_date": 1524134092,
            "last_edit_date": 1524135983,
            "question_id": 49918925,
            "body_markdown": "I have the following equation :\r\n`8 ? 7 ? 6 ? 5 ? 4 ? 3 ? 2 ? 1 = 36` and I need to make a C program that finds which operators ( from `+, -, *, /`) go instead of `?` in order to make the equation true.\r\n\r\n\r\nMy initial thought is that I have `4*7=28` different combinations. So I started making arrays adding first all `+` then reduce the number of `+` by 1 and add another symbol and see if the equation is true. But I&#39;m confused about the direction I took.\r\n\r\nAlso I haven&#39;t found anything similar in my many google searches, so this is my last resort.\r\n\r\nThanks!",
            "link": "https://stackoverflow.com/questions/49918925/how-to-make-c-find-all-different-symbol-combinations-to-have-a-certain",
            "closed_reason": "too broad",
            "title": "How to make C find all different symbol (+,-,*,/) combinations to have a certain output",
            "body": "<p>I have the following equation :\n<code>8 ? 7 ? 6 ? 5 ? 4 ? 3 ? 2 ? 1 = 36</code> and I need to make a C program that finds which operators ( from <code>+, -, *, /</code>) go instead of <code>?</code> in order to make the equation true.</p>\n\n<p>My initial thought is that I have <code>4*7=28</code> different combinations. So I started making arrays adding first all <code>+</code> then reduce the number of <code>+</code> by 1 and add another symbol and see if the equation is true. But I'm confused about the direction I took.</p>\n\n<p>Also I haven't found anything similar in my many google searches, so this is my last resort.</p>\n\n<p>Thanks!</p>\n"
        },
        {
            "tags": [
                "angular",
                "forms",
                "typescript",
                "angular-reactive-forms"
            ],
            "owner": {
                "reputation": 65,
                "user_id": 9574263,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128",
                "display_name": "OnnaB",
                "link": "https://stackoverflow.com/users/9574263/onnab"
            },
            "is_answered": true,
            "view_count": 29,
            "accepted_answer_id": 49918702,
            "answer_count": 1,
            "score": -2,
            "last_activity_date": 1524141900,
            "creation_date": 1524131195,
            "last_edit_date": 1524138129,
            "question_id": 49917883,
            "body_markdown": "please I have 2 problems with my code, [DEMO][1]\r\n\r\n1. When I add some product in form sale, my input `description` change for all `products`.\r\n2. When I change my input product, in sale doesn&#39;t change it.\r\n\r\nThose problem please look in my demo code.\r\n\r\nI tried this code:\r\n\r\nMy product ts\r\n\r\n      this.myform = this.fb.group({\r\n      &#39;id&#39;: new FormControl(&#39;&#39;, Validators.required),\r\n      &#39;name&#39;: new FormControl(&#39;&#39;, Validators.required),\r\n      &#39;description&#39;: new FormControl(&#39;&#39;, Validators.required),\r\n      &#39;price&#39;:new FormControl(&#39;&#39;, Validators.required),\r\n      &#39;quantity&#39;: new FormControl(&#39;&#39;, Validators.required)\r\n    \r\n    });\r\n\r\nMy product html\r\n\r\n    &lt;form [formGroup]=&quot;myform&quot; (ngSubmit)=&quot;onAddProduct()&quot;&gt;\r\n      &lt;h4 style=&quot;text-align:center&quot;&gt;add product&lt;/h4&gt;\r\n     \r\n       &lt;div class=&quot;input-field col s12&quot;&gt; id\r\n          &lt;input formControlName=&quot;id&quot; id=&quot;id&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n       &lt;/div&gt;\r\n        \r\n       &lt;div class=&quot;input-field col s12&quot;&gt; name\r\n          &lt;input formControlName=&quot;name&quot; id=&quot;name&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n       &lt;/div&gt;\r\n        \r\n       &lt;div class=&quot;input-field col s12&quot;&gt; description\r\n          &lt;input formControlName=&quot;description&quot; id=&quot;description&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n       &lt;/div&gt;\r\n        \r\n       &lt;div class=&quot;input-field col s12&quot;&gt; price\r\n          &lt;input formControlName=&quot;price&quot; id=&quot;price&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;input-field col s12&quot;&gt; quantity\r\n          &lt;input formControlName=&quot;quantity&quot; id=&quot;quantity&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n       &lt;/div&gt;\r\n      &lt;br&gt;\r\n      &lt;div id=&quot;add_contrat_button_container&quot; class=&quot;row&quot;&gt;\r\n        &lt;button id=&quot;add_contrat_button&quot; type=&quot;submit&quot; class=&quot;button button1&quot;&gt;\r\n          Shto\r\n        &lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nMy sale ts\r\n\r\n    this.addsale = this.fb.group({\r\n      &#39;invoice_number&#39;: new FormControl(&#39;&#39;, [Validators.required, Validators.nullValidator]),\r\n      &#39;invoice_date&#39;: new FormControl(&#39;&#39;, Validators.required),\r\n      &#39;description&#39;: new FormControl(&#39;&#39;, Validators.required),\r\n      &#39;products&#39;: this.fb.array([\r\n    \r\n      ])\r\n    });\r\n\r\nMy sale html\r\n\r\n      &lt;form [formGroup]=&quot;addsale&quot; (ngSubmit)=&quot;onaddsale()&quot; class=&quot;col s12&quot;&gt;\r\n     &lt;h4 style=&quot;text-align:center&quot;&gt;add sale&lt;/h4&gt;\r\n      &lt;div class=&quot;contant&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n          &lt;div class=&quot;input-field col s4&quot;&gt;\r\n           invoice_number:\r\n            &lt;input formControlName=&quot;invoice_number&quot; id=&quot;invoice_number&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;input-field col s4&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n             invoice_date:\r\n              &lt;input formControlName=&quot;invoice_date&quot; id=&quot;invoice_date&quot; type=&quot;date&quot; &gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;input-field col s4&quot;&gt;\r\n           description:\r\n            &lt;input formControlName=&quot;description&quot; id=&quot;description&quot; type=&quot;text&quot; class=&quot;validate&quot;&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;br&gt;\r\n       &lt;table&gt;\r\n        &lt;thead&gt;\r\n          &lt;tr style=&quot;color:black;&quot;&gt;\r\n            &lt;th&gt;id&lt;/th&gt;\r\n            &lt;th&gt;name&lt;/th&gt;\r\n            &lt;th&gt;description&lt;/th&gt;\r\n            &lt;th&gt;price&lt;/th&gt;\r\n            &lt;th&gt;quantity&lt;/th&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n          &lt;tr class=&quot;group&quot; style=&quot;cursor: pointer&quot; *ngFor=&quot;let item of products&quot;&gt;\r\n          &lt;td&gt;{{item.id}}&lt;/td&gt;\r\n          &lt;td&gt;{{item.name}}&lt;/td&gt;        \r\n          &lt;td&gt;&lt;input formControlName=&quot;description&quot; class=&quot;validate&quot; [value]=&quot;item.description&quot; [ngModel]=&quot;item.description&quot; type=&quot;text&quot;&gt;\r\n          &lt;/td&gt;\r\n          &lt;td&gt;{{item.price}}&lt;/td&gt; \r\n          &lt;td&gt;{{item.quantity}}&lt;/td&gt; \r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n      &lt;br&gt;\r\n      &lt;br&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;\r\n          Register\r\n        &lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\nPlease how to fix these problems, so in finally I want\r\n\r\n 1. when I add some products, I want the description to be the one that decides.\r\n 2. When I change the description of the salt product, I want to send the last description I have set.\r\n\r\nimage[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackblitz.com/edit/angular-o57nl7?file=app/hello.component.ts\r\n  [2]: https://i.stack.imgur.com/efirj.png",
            "link": "https://stackoverflow.com/questions/49917883/input-value-change-and-in-submit-post-old-value-example-demo",
            "title": "input value change and in submit post old value. Example demo",
            "body": "<p>please I have 2 problems with my code, <a href=\"https://stackblitz.com/edit/angular-o57nl7?file=app/hello.component.ts\" rel=\"nofollow noreferrer\">DEMO</a></p>\n\n<ol>\n<li>When I add some product in form sale, my input <code>description</code> change for all <code>products</code>.</li>\n<li>When I change my input product, in sale doesn't change it.</li>\n</ol>\n\n<p>Those problem please look in my demo code.</p>\n\n<p>I tried this code:</p>\n\n<p>My product ts</p>\n\n<pre><code>  this.myform = this.fb.group({\n  'id': new FormControl('', Validators.required),\n  'name': new FormControl('', Validators.required),\n  'description': new FormControl('', Validators.required),\n  'price':new FormControl('', Validators.required),\n  'quantity': new FormControl('', Validators.required)\n\n});\n</code></pre>\n\n<p>My product html</p>\n\n<pre><code>&lt;form [formGroup]=\"myform\" (ngSubmit)=\"onAddProduct()\"&gt;\n  &lt;h4 style=\"text-align:center\"&gt;add product&lt;/h4&gt;\n\n   &lt;div class=\"input-field col s12\"&gt; id\n      &lt;input formControlName=\"id\" id=\"id\" type=\"text\" class=\"validate\"&gt;\n   &lt;/div&gt;\n\n   &lt;div class=\"input-field col s12\"&gt; name\n      &lt;input formControlName=\"name\" id=\"name\" type=\"text\" class=\"validate\"&gt;\n   &lt;/div&gt;\n\n   &lt;div class=\"input-field col s12\"&gt; description\n      &lt;input formControlName=\"description\" id=\"description\" type=\"text\" class=\"validate\"&gt;\n   &lt;/div&gt;\n\n   &lt;div class=\"input-field col s12\"&gt; price\n      &lt;input formControlName=\"price\" id=\"price\" type=\"text\" class=\"validate\"&gt;\n   &lt;/div&gt;\n   &lt;div class=\"input-field col s12\"&gt; quantity\n      &lt;input formControlName=\"quantity\" id=\"quantity\" type=\"text\" class=\"validate\"&gt;\n   &lt;/div&gt;\n  &lt;br&gt;\n  &lt;div id=\"add_contrat_button_container\" class=\"row\"&gt;\n    &lt;button id=\"add_contrat_button\" type=\"submit\" class=\"button button1\"&gt;\n      Shto\n    &lt;/button&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My sale ts</p>\n\n<pre><code>this.addsale = this.fb.group({\n  'invoice_number': new FormControl('', [Validators.required, Validators.nullValidator]),\n  'invoice_date': new FormControl('', Validators.required),\n  'description': new FormControl('', Validators.required),\n  'products': this.fb.array([\n\n  ])\n});\n</code></pre>\n\n<p>My sale html</p>\n\n<pre><code>  &lt;form [formGroup]=\"addsale\" (ngSubmit)=\"onaddsale()\" class=\"col s12\"&gt;\n &lt;h4 style=\"text-align:center\"&gt;add sale&lt;/h4&gt;\n  &lt;div class=\"contant\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n       invoice_number:\n        &lt;input formControlName=\"invoice_number\" id=\"invoice_number\" type=\"text\" class=\"validate\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n        &lt;div class=\"row\"&gt;\n         invoice_date:\n          &lt;input formControlName=\"invoice_date\" id=\"invoice_date\" type=\"date\" &gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n       description:\n        &lt;input formControlName=\"description\" id=\"description\" type=\"text\" class=\"validate\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;br&gt;\n   &lt;table&gt;\n    &lt;thead&gt;\n      &lt;tr style=\"color:black;\"&gt;\n        &lt;th&gt;id&lt;/th&gt;\n        &lt;th&gt;name&lt;/th&gt;\n        &lt;th&gt;description&lt;/th&gt;\n        &lt;th&gt;price&lt;/th&gt;\n        &lt;th&gt;quantity&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      &lt;tr class=\"group\" style=\"cursor: pointer\" *ngFor=\"let item of products\"&gt;\n      &lt;td&gt;{{item.id}}&lt;/td&gt;\n      &lt;td&gt;{{item.name}}&lt;/td&gt;        \n      &lt;td&gt;&lt;input formControlName=\"description\" class=\"validate\" [value]=\"item.description\" [ngModel]=\"item.description\" type=\"text\"&gt;\n      &lt;/td&gt;\n      &lt;td&gt;{{item.price}}&lt;/td&gt; \n      &lt;td&gt;{{item.quantity}}&lt;/td&gt; \n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;br&gt;\n  &lt;br&gt;\n    &lt;button type=\"submit\"&gt;\n      Register\n    &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Please how to fix these problems, so in finally I want</p>\n\n<ol>\n<li>when I add some products, I want the description to be the one that decides.</li>\n<li>When I change the description of the salt product, I want to send the last description I have set.</li>\n</ol>\n\n<p>image<a href=\"https://i.stack.imgur.com/efirj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efirj.png\" alt=\"enter image description here\"></a></p>\n"
        },
        {
            "tags": [
                "css",
                "woocommerce",
                "whitespace"
            ],
            "owner": {
                "reputation": 8,
                "user_id": 8399067,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/464fe07db4b152a948b378bab17feab2?s=128&d=identicon&r=PG&f=1",
                "display_name": "Dragonknigh",
                "link": "https://stackoverflow.com/users/8399067/dragonknigh"
            },
            "is_answered": true,
            "view_count": 39,
            "accepted_answer_id": 49921304,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524141900,
            "creation_date": 1524141009,
            "question_id": 49921184,
            "body_markdown": "I added “add to cart” button image over which I have put a link to checkout, image is located on top of my product description but spacing between image and text is too great... This is the code I used to remove bottom margin (I used inspect element and unchecked bottom margin and it looked perfect)\r\n\r\n  \r\n    &lt;img class=&quot;alignnone size-full wp-image-623&quot; src=&quot;(your image url)&quot; alt=&quot;&quot; width=&quot;383&quot; height=&quot;70&quot; /&gt;\r\n    &lt;ul&gt;\r\n        &lt;li&gt;FREE WORLDWIDE SHIPPING&lt;/li&gt;\r\n        &lt;li&gt;Delivery time: 9 to 18 days&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    \r\n    &lt;style&gt;\r\n    img {\r\n      margin: 0;\r\n      margin-bottom: 0 !important;\r\n    }\r\n    li,\r\n    ul {\r\n      margin: 0;\r\n      margin-bottom: 0 !important;\r\n      line-height: 8px !important;\r\n    }\r\n    &lt;/style&gt;\r\nBottom margin is definitely a source of problem. I&#39;m using SiteOrigin CSS plugin to edit my css but code above is not working as expected, [you can see how it looks with code above and when I uncheck bottom margin][1] with inspect element (text is deformed as well even when I delete text part of the code).\r\n\r\nAnd [here you can see how the code looks before and after][2] it&#39;s saved in SiteOrigin CSS (got some errors as well).\r\n\r\n\r\n  [1]: https://i.imgur.com/HxzMaiU.png\r\n  [2]: https://i.stack.imgur.com/8gN5E.png",
            "link": "https://stackoverflow.com/questions/49921184/remove-bottom-margin-on-image-in-product-description-with-css",
            "title": "Remove bottom margin on image in product description with css?",
            "body": "<p>I added “add to cart” button image over which I have put a link to checkout, image is located on top of my product description but spacing between image and text is too great... This is the code I used to remove bottom margin (I used inspect element and unchecked bottom margin and it looked perfect)</p>\n\n<pre><code>&lt;img class=\"alignnone size-full wp-image-623\" src=\"(your image url)\" alt=\"\" width=\"383\" height=\"70\" /&gt;\n&lt;ul&gt;\n    &lt;li&gt;FREE WORLDWIDE SHIPPING&lt;/li&gt;\n    &lt;li&gt;Delivery time: 9 to 18 days&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;style&gt;\nimg {\n  margin: 0;\n  margin-bottom: 0 !important;\n}\nli,\nul {\n  margin: 0;\n  margin-bottom: 0 !important;\n  line-height: 8px !important;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>Bottom margin is definitely a source of problem. I'm using SiteOrigin CSS plugin to edit my css but code above is not working as expected, <a href=\"https://i.imgur.com/HxzMaiU.png\" rel=\"nofollow noreferrer\">you can see how it looks with code above and when I uncheck bottom margin</a> with inspect element (text is deformed as well even when I delete text part of the code).</p>\n\n<p>And <a href=\"https://i.stack.imgur.com/8gN5E.png\" rel=\"nofollow noreferrer\">here you can see how the code looks before and after</a> it's saved in SiteOrigin CSS (got some errors as well).</p>\n"
        },
        {
            "tags": [
                "machine-learning",
                "neural-network",
                "deep-learning",
                "keras",
                "conv-neural-network"
            ],
            "owner": {
                "reputation": 24,
                "user_id": 7658879,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/7bac0ab3a4d2fb7a1872102f22537f9b?s=128&d=identicon&r=PG&f=1",
                "display_name": "S.Haviv",
                "link": "https://stackoverflow.com/users/7658879/s-haviv"
            },
            "is_answered": true,
            "view_count": 56,
            "accepted_answer_id": 48230003,
            "answer_count": 1,
            "score": 2,
            "last_activity_date": 1524141899,
            "creation_date": 1515772173,
            "last_edit_date": 1524141899,
            "question_id": 48229635,
            "body_markdown": "I&#39;m using Keras to train a model on CIFAR-10 to recognize some of the classes, however, I want some of the classes and not all of them, so I wrote the following code: \r\n\r\n&lt;!-- language-all: lang-python --&gt;\r\n\r\n    selected_classes = [2, 3, 5, 6, 7]\r\n    print(&#39;train\\n&#39;, x_train.shape, y_train.shape)\r\n    x = [ex for ex, ey in zip(x_train, y_train) if ey in selected_classes]\r\n    y = [ey for ex, ey in zip(x_train, y_train) if ey in selected_classes]\r\n    x_train = np.stack(x)\r\n    y_train = np.stack(y).reshape(-1,1)\r\n    print(x_train.shape, y_train.shape)\r\n\r\n    print(&#39;test\\n&#39;, x_test.shape, y_test.shape)\r\n    x = [ex for ex, ey in zip(x_test, y_test) if ey in selected_classes]\r\n    y = [ey for ex, ey in zip(x_test, y_test) if ey in selected_classes]\r\n    x_test = np.stack(x)\r\n    y_test = np.stack(y).reshape(-1,1)\r\n    print(x_test.shape, y_test.shape)\r\n    num_classes = len(selected_classes)\r\n\r\nAnd I keep getting the following error : \r\n\r\n    IndexError                                Traceback (most recent call last)\r\n    &lt;ipython-input-8-d53a2cf8bdf8&gt; in &lt;module&gt;()\r\n      \r\n     # Convert class vectors to binary class matrices.\r\n     y_train = keras.utils.to_categorical(y_train, num_classes)\r\n     y_test = keras.utils.to_categorical(y_test, num_classes)\r\n\r\n     ~\\Anaconda3\\lib\\site-packages\\keras\\utils\\np_utils.py in to_categorical(y, \r\n     num_classes)\r\n          n = y.shape[0]\r\n          categorical = np.zeros((n, num_classes))\r\n          categorical[np.arange(n), y] = 1\r\n          output_shape = input_shape + (num_classes,)\r\n          categorical = np.reshape(categorical, output_shape)\r\n\r\n     IndexError: index 6 is out of bounds for axis 1 with size 5\r\n\r\n\r\nI searched the keras source code and found that :\r\ny\t Class vector to be converted into a matrix (integers from 0 to num_classes).4\r\n\r\nAnd when I define the num_classes to 8 or so it does work, however, I&#39;ve got only 5 classes... ",
            "link": "https://stackoverflow.com/questions/48229635/cifar-10-dataset-using-keras",
            "title": "CIFAR-10 Dataset using Keras",
            "body": "<p>I'm using Keras to train a model on CIFAR-10 to recognize some of the classes, however, I want some of the classes and not all of them, so I wrote the following code: </p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>selected_classes = [2, 3, 5, 6, 7]\nprint('train\\n', x_train.shape, y_train.shape)\nx = [ex for ex, ey in zip(x_train, y_train) if ey in selected_classes]\ny = [ey for ex, ey in zip(x_train, y_train) if ey in selected_classes]\nx_train = np.stack(x)\ny_train = np.stack(y).reshape(-1,1)\nprint(x_train.shape, y_train.shape)\n\nprint('test\\n', x_test.shape, y_test.shape)\nx = [ex for ex, ey in zip(x_test, y_test) if ey in selected_classes]\ny = [ey for ex, ey in zip(x_test, y_test) if ey in selected_classes]\nx_test = np.stack(x)\ny_test = np.stack(y).reshape(-1,1)\nprint(x_test.shape, y_test.shape)\nnum_classes = len(selected_classes)\n</code></pre>\n\n<p>And I keep getting the following error : </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>IndexError                                Traceback (most recent call last)\n&lt;ipython-input-8-d53a2cf8bdf8&gt; in &lt;module&gt;()\n\n # Convert class vectors to binary class matrices.\n y_train = keras.utils.to_categorical(y_train, num_classes)\n y_test = keras.utils.to_categorical(y_test, num_classes)\n\n ~\\Anaconda3\\lib\\site-packages\\keras\\utils\\np_utils.py in to_categorical(y, \n num_classes)\n      n = y.shape[0]\n      categorical = np.zeros((n, num_classes))\n      categorical[np.arange(n), y] = 1\n      output_shape = input_shape + (num_classes,)\n      categorical = np.reshape(categorical, output_shape)\n\n IndexError: index 6 is out of bounds for axis 1 with size 5\n</code></pre>\n\n<p>I searched the keras source code and found that :\ny    Class vector to be converted into a matrix (integers from 0 to num_classes).4</p>\n\n<p>And when I define the num_classes to 8 or so it does work, however, I've got only 5 classes... </p>\n"
        },
        {
            "tags": [
                "casting",
                "floating-point",
                "mariadb"
            ],
            "owner": {
                "reputation": 9817,
                "user_id": 1032531,
                "user_type": "registered",
                "accept_rate": 78,
                "profile_image": "https://www.gravatar.com/avatar/938ce772de83dc07272b66f4b12a5453?s=128&d=identicon&r=PG",
                "display_name": "user1032531",
                "link": "https://stackoverflow.com/users/1032531/user1032531"
            },
            "is_answered": false,
            "view_count": 17,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524141892,
            "creation_date": 1524141666,
            "last_edit_date": 1524141892,
            "question_id": 49921398,
            "body_markdown": "The following query was not returning my expected/desired results for `slope` and `intercept`.  I finally realized that `slope` and `intercept` are typecasted as integers in my anchor query, and remain integers through the recursion.\r\n\r\n    WITH RECURSIVE t AS (\r\n    \tSELECT id parentId, idPublic parentIdPublic, name parentName, slope parentSlope, intercept parentIntercept,\r\n        id, idPublic, name, type, 1 slope, 0 intercept, value\r\n    \tFROM measurements\r\n    \tWHERE id IN (414,415,416,417,491)\r\n    \tUNION ALL\r\n    \tSELECT t.parentId, t.parentIdPublic, t.parentName, t.parentSlope, t.parentIntercept, m.id, m.idPublic, m.name, m.type, t.slope*pchm.sign*m.slope slope, t.intercept+t.slope*pchm.sign*m.intercept intercept, m.value\r\n    \tFROM t\r\n    \tINNER JOIN subpoints sp ON sp.measurementId=t.id\r\n    \tINNER JOIN measurements m ON m.id=sp.measurementId\r\n    )\r\n    SELECT slope, intercept FROM t;\r\n\r\n`slope` and `intercept` needs to be able to store widely different values and exact accuracy is not important, so I feel a `FLOAT` is best.  My schema for `slope` and `intercept` is as shown:\r\n\r\n    `slope` FLOAT NOT NULL DEFAULT 1,\r\n    `intercept` FLOAT NOT NULL DEFAULT 0,\r\n\r\nAs a hack solution, I changed my anchor query to:\r\n\r\n    SELECT id parentId, ..., 1.0 slope, 0.0 intercept, value\r\n\r\nI think the right solution is to typecase these two values to a `FLOAT`, but the documentation does not seem to allow.  I could do `DECIMAL`, however, I have the issue with `slope` and `intercept` potentially being a wide range of values.\r\n\r\nAm I able to cast `slope` and `intercept` to `FLOAT`?  If not, what is the best solution?",
            "link": "https://stackoverflow.com/questions/49921398/typecast-to-a-float",
            "title": "Typecast to a FLOAT",
            "body": "<p>The following query was not returning my expected/desired results for <code>slope</code> and <code>intercept</code>.  I finally realized that <code>slope</code> and <code>intercept</code> are typecasted as integers in my anchor query, and remain integers through the recursion.</p>\n\n<pre><code>WITH RECURSIVE t AS (\n    SELECT id parentId, idPublic parentIdPublic, name parentName, slope parentSlope, intercept parentIntercept,\n    id, idPublic, name, type, 1 slope, 0 intercept, value\n    FROM measurements\n    WHERE id IN (414,415,416,417,491)\n    UNION ALL\n    SELECT t.parentId, t.parentIdPublic, t.parentName, t.parentSlope, t.parentIntercept, m.id, m.idPublic, m.name, m.type, t.slope*pchm.sign*m.slope slope, t.intercept+t.slope*pchm.sign*m.intercept intercept, m.value\n    FROM t\n    INNER JOIN subpoints sp ON sp.measurementId=t.id\n    INNER JOIN measurements m ON m.id=sp.measurementId\n)\nSELECT slope, intercept FROM t;\n</code></pre>\n\n<p><code>slope</code> and <code>intercept</code> needs to be able to store widely different values and exact accuracy is not important, so I feel a <code>FLOAT</code> is best.  My schema for <code>slope</code> and <code>intercept</code> is as shown:</p>\n\n<pre><code>`slope` FLOAT NOT NULL DEFAULT 1,\n`intercept` FLOAT NOT NULL DEFAULT 0,\n</code></pre>\n\n<p>As a hack solution, I changed my anchor query to:</p>\n\n<pre><code>SELECT id parentId, ..., 1.0 slope, 0.0 intercept, value\n</code></pre>\n\n<p>I think the right solution is to typecase these two values to a <code>FLOAT</code>, but the documentation does not seem to allow.  I could do <code>DECIMAL</code>, however, I have the issue with <code>slope</code> and <code>intercept</code> potentially being a wide range of values.</p>\n\n<p>Am I able to cast <code>slope</code> and <code>intercept</code> to <code>FLOAT</code>?  If not, what is the best solution?</p>\n"
        },
        {
            "tags": [
                "javascript",
                "html"
            ],
            "owner": {
                "reputation": 15,
                "user_id": 8739834,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/89800b3fcaa450efcb253b1a82f2fc04?s=128&d=identicon&r=PG&f=1",
                "display_name": "Sam",
                "link": "https://stackoverflow.com/users/8739834/sam"
            },
            "is_answered": true,
            "view_count": 48,
            "accepted_answer_id": 49921091,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524141887,
            "creation_date": 1524139252,
            "question_id": 49920606,
            "body_markdown": "I am trying to make the text turn bold when it is clicked and when it is clicked again it will return to normal. Function addBord(e) is what I got so far but I am not sure if I am on the right track or what I should do next. Can anyone give me an idea on what to do next?    \r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN“ &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;\r\n      &lt;title&gt;Address Book&lt;/title&gt;\r\n      \r\n      &lt;script type=&quot;text/javascript&quot;&gt;\r\n        function addressBookItem (fname, lname, email) {\r\n            this.fname= fname;\r\n            this.lname = lname; \r\n            this.email = email;\r\n        }\r\n    \t\r\n    \taddressBookItem.prototype.write = function() {\r\n            // var adrbook = &quot;&lt;p class=&#39;ab&#39; First Name: &quot; + this.fname + &quot;&amp;ltbr /&amp;gt&quot;;\r\n            var adrbook = &quot;&lt;tr&gt;&lt;td&gt;&quot;+ this.fname + &quot;&lt;/td&gt;&quot;;\r\n            adrbook += &quot;&lt;td&gt;&quot; + this.lname + &quot;&lt;/td&gt;&quot;;\r\n            adrbook += &quot;&lt;td&gt;&quot; + this.email + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n    \r\n            document.write(adrbook);\r\n        }\r\n    \r\n      function appendRow() {\r\n        var theTable = document.getElementById(&quot;addressBookTbl&quot;);\r\n        // create a newRow\r\n        var newRow = document.createElement(&quot;tr&quot;);\r\n        var c1 = document.createElement(&quot;td&quot;);\r\n        var c2 = document.createElement(&quot;td&quot;);\r\n        var c3 = document.createElement(&quot;td&quot;);\r\n        var v1 = document.createTextNode(prompt(&quot;Please enter first name&quot;));\r\n        var v2 = document.createTextNode(prompt(&quot;Please enter last name&quot;));\r\n        var v3 = document.createTextNode(prompt(&quot;Please enter email&quot;));\r\n        c1.appendChild(v1);\r\n        c2.appendChild(v2);\r\n        c3.appendChild(v3);\r\n        // newRow &lt;- c1;\r\n        newRow.appendChild(c1);\r\n        newRow.appendChild(c2);\r\n        newRow.appendChild(c3);\r\n        theTable.appendChild(newRow);\r\n        newRow.style.color=&quot;green&quot;;\r\n      }\r\n      newRow.addEventListener(&#39;click&#39;, addBord, false);\r\n      function addBord(e) { \r\n        var target = e.target || event.srcElement;\r\n        if(target.style.fontWeight==&quot;bold&quot;)\r\n          target.style.fontWeight=&quot;normal&quot;;\r\n        else\r\n          target.style.fontWeight=&quot;bold&quot;;\r\n      }\r\n    &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            var aB1 = new addressBookItem(&#39;Roger&#39;, &#39;Williams&#39;, &#39;rwilliams@gmail.com&#39;);\r\n            var aB2 = new addressBookItem (&#39;Rose&#39;, &#39;Schultz&#39;, &#39;rose_s@earthlink.net&#39;);\r\n            document.write(&quot;&lt;table id=\\&quot;addressBookTbl\\&quot; border=\\&quot;2\\&quot;&gt;&lt;tr&gt;&lt;th&gt;First Name&lt;/th&gt;&lt;th&gt;Last Name&lt;/th&gt;&lt;th&gt;EmailAddress&lt;/th&gt;&lt;/tr&gt;&quot;);\r\n            aB1.write();\r\n            aB2.write();\r\n            document.write(&quot;&lt;/table&gt;&quot;);\r\n        &lt;/script&gt;\r\n        &lt;form&gt;\r\n          &lt;br /&gt;\r\n          &lt;input type=&quot;button&quot; value=&quot;append new row&quot; onclick=&quot;appendRow()&quot;/&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49920606/bold-font-when-clicked",
            "title": "Bold font when clicked",
            "body": "<p>I am trying to make the text turn bold when it is clicked and when it is clicked again it will return to normal. Function addBord(e) is what I got so far but I am not sure if I am on the right track or what I should do next. Can anyone give me an idea on what to do next?    </p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN“ \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n  &lt;title&gt;Address Book&lt;/title&gt;\n\n  &lt;script type=\"text/javascript\"&gt;\n    function addressBookItem (fname, lname, email) {\n        this.fname= fname;\n        this.lname = lname; \n        this.email = email;\n    }\n\n    addressBookItem.prototype.write = function() {\n        // var adrbook = \"&lt;p class='ab' First Name: \" + this.fname + \"&amp;ltbr /&amp;gt\";\n        var adrbook = \"&lt;tr&gt;&lt;td&gt;\"+ this.fname + \"&lt;/td&gt;\";\n        adrbook += \"&lt;td&gt;\" + this.lname + \"&lt;/td&gt;\";\n        adrbook += \"&lt;td&gt;\" + this.email + \"&lt;/td&gt;&lt;/tr&gt;\";\n\n        document.write(adrbook);\n    }\n\n  function appendRow() {\n    var theTable = document.getElementById(\"addressBookTbl\");\n    // create a newRow\n    var newRow = document.createElement(\"tr\");\n    var c1 = document.createElement(\"td\");\n    var c2 = document.createElement(\"td\");\n    var c3 = document.createElement(\"td\");\n    var v1 = document.createTextNode(prompt(\"Please enter first name\"));\n    var v2 = document.createTextNode(prompt(\"Please enter last name\"));\n    var v3 = document.createTextNode(prompt(\"Please enter email\"));\n    c1.appendChild(v1);\n    c2.appendChild(v2);\n    c3.appendChild(v3);\n    // newRow &lt;- c1;\n    newRow.appendChild(c1);\n    newRow.appendChild(c2);\n    newRow.appendChild(c3);\n    theTable.appendChild(newRow);\n    newRow.style.color=\"green\";\n  }\n  newRow.addEventListener('click', addBord, false);\n  function addBord(e) { \n    var target = e.target || event.srcElement;\n    if(target.style.fontWeight==\"bold\")\n      target.style.fontWeight=\"normal\";\n    else\n      target.style.fontWeight=\"bold\";\n  }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        var aB1 = new addressBookItem('Roger', 'Williams', 'rwilliams@gmail.com');\n        var aB2 = new addressBookItem ('Rose', 'Schultz', 'rose_s@earthlink.net');\n        document.write(\"&lt;table id=\\\"addressBookTbl\\\" border=\\\"2\\\"&gt;&lt;tr&gt;&lt;th&gt;First Name&lt;/th&gt;&lt;th&gt;Last Name&lt;/th&gt;&lt;th&gt;EmailAddress&lt;/th&gt;&lt;/tr&gt;\");\n        aB1.write();\n        aB2.write();\n        document.write(\"&lt;/table&gt;\");\n    &lt;/script&gt;\n    &lt;form&gt;\n      &lt;br /&gt;\n      &lt;input type=\"button\" value=\"append new row\" onclick=\"appendRow()\"/&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"
        },
        {
            "tags": [
                "java",
                "classpath",
                "classnotfoundexception",
                "java-web-start"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9130025,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/de5f21ffbc7d17de900657c69ed43623?s=128&d=identicon&r=PG&f=1",
                "display_name": "vitaxa",
                "link": "https://stackoverflow.com/users/9130025/vitaxa"
            },
            "is_answered": false,
            "view_count": 56,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524141879,
            "creation_date": 1522246774,
            "last_edit_date": 1524141879,
            "question_id": 49537004,
            "body_markdown": "I have the app, which i launch with &quot;Java Web Start&quot;. This app is used for launching other java apps. The issue is that with the command &quot;java -cp class_path class_name&quot; java app cannot be launched, an exception &quot;Could not find or load main class class_name&quot; appears.\r\n\r\nHowever, Class.forName(class_name) doesn&#39;t throw exception: &quot;ClassNotFoundException&quot; and i can run static method from another jar(but it&#39;s in current JVM).\r\n\r\nWithout using &quot;Java Web Start&quot; everything is alright.\r\n\r\nWhen I launch the common app, I use the command: java -cp *; com.vitaxa.voidbox.MainApp. In this way I form the classpath, collecting everything from the current directory.\r\n\r\nThen I can launch other apps, using the command: java -cp current_classpath class_name. So everything works well, but without using Java WebStart.\r\n\r\nThere is the difference. For getting the classPath I use the next method:\r\n\r\n    private static String getClasspath() {\r\n            final StringBuilder sb = new StringBuilder();\r\n            ClassLoader classLoader = TaskRunner.class.getClassLoader();\r\n            if (classLoader == null) {\r\n                classLoader = ClassLoader.getSystemClassLoader();\r\n            }\r\n            final URL[] urls = ((URLClassLoader) classLoader).getURLs();\r\n            for (URL url : urls) {\r\n                sb.append(url.getFile()).append(&quot;;&quot;);\r\n    \r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\nIn case of running with an ordinary app, the classpath is: /D:/WorkDir/Applications/FirstApp.jar;/D:/WorkDir/Applications/SecondApp.jar;/D:/WorkDir/Applications/ThirdApp.jar;\r\n\r\nand running with using Java WebStart the classpath is: /Applications/FirstApp.jar;/Applications/SecondApp.jar;/Applications/ThirdApp.jar.\r\n\r\nP.S. I tried using System.getProperty(&quot;java.class.path&quot;), it hadn&#39;t helped.\r\n",
            "link": "https://stackoverflow.com/questions/49537004/java-web-start-command-is-not-working-java-cp-class-path-class-name",
            "title": "Java Web Start command is not working (java -cp class_path class_name)",
            "body": "<p>I have the app, which i launch with \"Java Web Start\". This app is used for launching other java apps. The issue is that with the command \"java -cp class_path class_name\" java app cannot be launched, an exception \"Could not find or load main class class_name\" appears.</p>\n\n<p>However, Class.forName(class_name) doesn't throw exception: \"ClassNotFoundException\" and i can run static method from another jar(but it's in current JVM).</p>\n\n<p>Without using \"Java Web Start\" everything is alright.</p>\n\n<p>When I launch the common app, I use the command: java -cp *; com.vitaxa.voidbox.MainApp. In this way I form the classpath, collecting everything from the current directory.</p>\n\n<p>Then I can launch other apps, using the command: java -cp current_classpath class_name. So everything works well, but without using Java WebStart.</p>\n\n<p>There is the difference. For getting the classPath I use the next method:</p>\n\n<pre><code>private static String getClasspath() {\n        final StringBuilder sb = new StringBuilder();\n        ClassLoader classLoader = TaskRunner.class.getClassLoader();\n        if (classLoader == null) {\n            classLoader = ClassLoader.getSystemClassLoader();\n        }\n        final URL[] urls = ((URLClassLoader) classLoader).getURLs();\n        for (URL url : urls) {\n            sb.append(url.getFile()).append(\";\");\n\n        }\n        return sb.toString();\n    }\n</code></pre>\n\n<p>In case of running with an ordinary app, the classpath is: /D:/WorkDir/Applications/FirstApp.jar;/D:/WorkDir/Applications/SecondApp.jar;/D:/WorkDir/Applications/ThirdApp.jar;</p>\n\n<p>and running with using Java WebStart the classpath is: /Applications/FirstApp.jar;/Applications/SecondApp.jar;/Applications/ThirdApp.jar.</p>\n\n<p>P.S. I tried using System.getProperty(\"java.class.path\"), it hadn't helped.</p>\n"
        },
        {
            "tags": [
                "ios",
                "swift",
                "firebase"
            ],
            "owner": {
                "reputation": 3,
                "user_id": 8797533,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/348180e886470da4bbad1656f769565c?s=128&d=identicon&r=PG&f=1",
                "display_name": "Ngp",
                "link": "https://stackoverflow.com/users/8797533/ngp"
            },
            "is_answered": false,
            "view_count": 41,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524141874,
            "creation_date": 1524131934,
            "last_edit_date": 1524141649,
            "question_id": 49918153,
            "body_markdown": "I am using firebase notifications to my project, my firebase project is handling android and iOS projects, what I am getting notifications are same to android and iOS.  I was added Android app to project, I want add IOS app to same project but am not able add my IOS app to project, \r\n\r\nthis is the screenshot before one\r\n\r\n[image][1]\r\n\r\n\r\n\r\nnow I am trying to add another app to project but am not able to add the project, I want add IOS app to the same project. How to add multiple apps to single project?\r\n\r\n[ image][2]\r\n\r\n[image][3]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VFX2L.png\r\n  [2]: https://i.stack.imgur.com/F9nYP.png\r\n  [3]: https://i.stack.imgur.com/HahJK.png",
            "link": "https://stackoverflow.com/questions/49918153/add-multiple-apps-to-single-project-in-firebase",
            "title": "Add multiple apps to single project in Firebase",
            "body": "<p>I am using firebase notifications to my project, my firebase project is handling android and iOS projects, what I am getting notifications are same to android and iOS.  I was added Android app to project, I want add IOS app to same project but am not able add my IOS app to project, </p>\n\n<p>this is the screenshot before one</p>\n\n<p><img src=\"https://i.stack.imgur.com/VFX2L.png\" alt=\"image\"></p>\n\n<p>now I am trying to add another app to project but am not able to add the project, I want add IOS app to the same project. How to add multiple apps to single project?</p>\n\n<p><img src=\"https://i.stack.imgur.com/F9nYP.png\" alt=\" image\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/HahJKm.png\" alt=\"image\"></p>\n"
        },
        {
            "tags": [
                "angular",
                "amazon-web-services",
                "amazon-s3"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 8559678,
                "user_type": "registered",
                "profile_image": "https://lh5.googleusercontent.com/-p2D4m7LaWpc/AAAAAAAAAAI/AAAAAAAAAFc/B-7Q1uOlA4I/photo.jpg?sz=128",
                "display_name": "sachin patidar",
                "link": "https://stackoverflow.com/users/8559678/sachin-patidar"
            },
            "is_answered": false,
            "view_count": 14,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524141869,
            "creation_date": 1524056417,
            "last_edit_date": 1524141869,
            "question_id": 49900405,
            "body_markdown": "I am trying to upload image to  AWS S3 from Floara editor,and using angular io and nodejs frameworks.\r\n\r\n\r\nFroala function to generate hash/signature\r\n\r\n    var configs = {\r\n\t\t\tbucket: &#39;web.document.images&#39;,\r\n\t\t\tregion: &#39;ap-south-1&#39;,\t \r\n\t\t\tkeyStart: &#39;image&#39;,\r\n\t\t\tacl: &#39;public-read&#39;,\r\n\t\t\taccessKey: &quot;MyAWSaccessKey&quot;,\r\n\t\t\tsecretKey: &quot;AWSsecretkey&quot;,\r\n\t\t  }\r\n\tvar s3Hash = FroalaEditor.S3.getHash(configs);  \r\n\tres.send(s3Hash);\r\n\r\n\r\nCORS configuration S3\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;CORSConfiguration xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&gt;\r\n        &lt;CORSRule&gt;\r\n            &lt;AllowedOrigin&gt;http://localhost:3000&lt;/AllowedOrigin&gt;\r\n            &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;\r\n            &lt;AllowedMethod&gt;POST&lt;/AllowedMethod&gt;\r\n            &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;\r\n            &lt;MaxAgeSeconds&gt;3000&lt;/MaxAgeSeconds&gt;\r\n            &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;\r\n        &lt;/CORSRule&gt;\r\n    &lt;/CORSConfiguration&gt;\r\n\r\nbelow is the error i am getting.\r\nin console\r\n\r\n    POST https://s3-ap-south-1.amazonaws.com/web.document.images 400 (Bad Request)\r\n\r\nand from Network tab i am able to preview as\r\n\r\n    &lt;Error&gt;\r\n    &lt;Code&gt;\r\n    InvalidArgument\r\n    &lt;/Code&gt;\r\n    &lt;Message&gt;\r\n    Malformed Unicode code sequence in the field.\r\n    &lt;/Message&gt;\r\n    &lt;ArgumentName&gt;\r\n    formField\r\n    &lt;/ArgumentName&gt;\r\n    &lt;RequestId&gt;\r\n    B0525397B7A4F4BC\r\n    &lt;/RequestId&gt;\r\n    &lt;HostId&gt;   XixTwvJmFCNPaKNpkdquQ5/wAzacTC8LPpApEb7XAySQ4pL3AFM2V6XeacGpAZcAP5gepD3myMo=\r\n    &lt;/HostId&gt;\r\n    &lt;/Error&gt;\r\n\r\nAny help is appreciated.\r\n\r\nThanks.\r\n",
            "link": "https://stackoverflow.com/questions/49900405/malformed-unicode-code-sequence-in-the-field-while-uploading-image-to-s3",
            "title": "Malformed Unicode code sequence in the field while uploading image to S3",
            "body": "<p>I am trying to upload image to  AWS S3 from Floara editor,and using angular io and nodejs frameworks.</p>\n\n<p>Froala function to generate hash/signature</p>\n\n<pre><code>var configs = {\n        bucket: 'web.document.images',\n        region: 'ap-south-1',    \n        keyStart: 'image',\n        acl: 'public-read',\n        accessKey: \"MyAWSaccessKey\",\n        secretKey: \"AWSsecretkey\",\n      }\nvar s3Hash = FroalaEditor.S3.getHash(configs);  \nres.send(s3Hash);\n</code></pre>\n\n<p>CORS configuration S3</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;CORSConfiguration xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"&gt;\n    &lt;CORSRule&gt;\n        &lt;AllowedOrigin&gt;http://localhost:3000&lt;/AllowedOrigin&gt;\n        &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;\n        &lt;AllowedMethod&gt;POST&lt;/AllowedMethod&gt;\n        &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;\n        &lt;MaxAgeSeconds&gt;3000&lt;/MaxAgeSeconds&gt;\n        &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;\n    &lt;/CORSRule&gt;\n&lt;/CORSConfiguration&gt;\n</code></pre>\n\n<p>below is the error i am getting.\nin console</p>\n\n<pre><code>POST https://s3-ap-south-1.amazonaws.com/web.document.images 400 (Bad Request)\n</code></pre>\n\n<p>and from Network tab i am able to preview as</p>\n\n<pre><code>&lt;Error&gt;\n&lt;Code&gt;\nInvalidArgument\n&lt;/Code&gt;\n&lt;Message&gt;\nMalformed Unicode code sequence in the field.\n&lt;/Message&gt;\n&lt;ArgumentName&gt;\nformField\n&lt;/ArgumentName&gt;\n&lt;RequestId&gt;\nB0525397B7A4F4BC\n&lt;/RequestId&gt;\n&lt;HostId&gt;   XixTwvJmFCNPaKNpkdquQ5/wAzacTC8LPpApEb7XAySQ4pL3AFM2V6XeacGpAZcAP5gepD3myMo=\n&lt;/HostId&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>Any help is appreciated.</p>\n\n<p>Thanks.</p>\n"
        },
        {
            "tags": [
                "php",
                "regex",
                "preg-replace"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9669641,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/78c9eb9a48ad2d66ffd5484a54c294c6?s=128&d=identicon&r=PG&f=1",
                "display_name": "misternone",
                "link": "https://stackoverflow.com/users/9669641/misternone"
            },
            "is_answered": false,
            "view_count": 35,
            "closed_date": 1524142649,
            "answer_count": 1,
            "score": -2,
            "last_activity_date": 1524141868,
            "creation_date": 1524139365,
            "last_edit_date": 1524141868,
            "question_id": 49920638,
            "body_markdown": "I am using `preg_replace` to remove all `&lt;div&gt;` tags that contain `&lt;p&gt;` tags with specific content. Example:\r\n\r\n`&lt;div&gt;&lt;p&gt;Android&lt;/p&gt;&lt;/div&gt;` should be removed  \r\n`&lt;div&gt;&lt;br&gt;&lt;p&gt;Android&lt;/p&gt;&lt;/div&gt;` should be removed  \r\n`&lt;div&gt;&lt;p&gt;Android and some other text or tags here &lt;/p&gt;&lt;/div&gt;` should **NOT** be removed  \r\n`&lt;div&gt;&lt;b&gt;some text&lt;/b&gt;&lt;p&gt;Android&lt;/p&gt;&lt;/div&gt;` should be removed\r\n\r\nSo my condition to remove tags is:  \r\n- remove all divs that contain tags `&lt;p&gt;Android&lt;/p&gt;`",
            "link": "https://stackoverflow.com/questions/49920638/how-to-match-html-tags-by-content-with-regex",
            "closed_reason": "too broad",
            "title": "How to match html tags by content with Regex?",
            "body": "<p>I am using <code>preg_replace</code> to remove all <code>&lt;div&gt;</code> tags that contain <code>&lt;p&gt;</code> tags with specific content. Example:</p>\n\n<p><code>&lt;div&gt;&lt;p&gt;Android&lt;/p&gt;&lt;/div&gt;</code> should be removed<br>\n<code>&lt;div&gt;&lt;br&gt;&lt;p&gt;Android&lt;/p&gt;&lt;/div&gt;</code> should be removed<br>\n<code>&lt;div&gt;&lt;p&gt;Android and some other text or tags here &lt;/p&gt;&lt;/div&gt;</code> should <strong>NOT</strong> be removed<br>\n<code>&lt;div&gt;&lt;b&gt;some text&lt;/b&gt;&lt;p&gt;Android&lt;/p&gt;&lt;/div&gt;</code> should be removed</p>\n\n<p>So my condition to remove tags is:<br>\n- remove all divs that contain tags <code>&lt;p&gt;Android&lt;/p&gt;</code></p>\n"
        },
        {
            "tags": [
                "c#",
                "visual-studio",
                "listview"
            ],
            "owner": {
                "reputation": 9,
                "user_id": 8169442,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/7c3475dc67542b956744c0cf93b00149?s=128&d=identicon&r=PG&f=1",
                "display_name": "Justine",
                "link": "https://stackoverflow.com/users/8169442/justine"
            },
            "is_answered": false,
            "view_count": 27,
            "answer_count": 3,
            "score": 0,
            "last_activity_date": 1524141858,
            "creation_date": 1524136410,
            "question_id": 49919688,
            "body_markdown": "Im having a problem in my listview because whenever I get value in other form it is not adding on the list but when I put breakpoint it have a value but still not adding on my listview.\r\n\r\nhere is my function in form1 getting values from datagridview\r\n\r\n    public void dataGridView1_DoubleClick(object sender, EventArgs e)\r\n        {\r\n            qtyOfOrders orders = new qtyOfOrders();\r\n            if (dataGridView1.SelectedRows.Count &gt; 0)\r\n            {\r\n                String mealname = dataGridView1.SelectedRows[0].Cells[1].Value + String.Empty;\r\n                String price1 = dataGridView1.SelectedRows[0].Cells[2].Value + String.Empty;\r\n                pts.meal = mealname;\r\n                pts.qtyprice = Int32.Parse(price1);\r\n                orders.Show();\r\n            }\r\n        }\r\n\r\n    \r\nhere is my function from form2 and will save data in listview in form1\r\n\r\n    private void OK_Click(object sender, EventArgs e)\r\n        {\r\n            cashier c = new cashier();\r\n            pricetempstorage pts = new pricetempstorage(); //class\r\n                int qty = Int32.Parse(QTYNumber.Text);\r\n                int totalPrice = qty * pts.qtyprice;\r\n            pts.qtynumber = qty;\r\n            pts.TotalPrice = totalPrice;\r\n            c.listView1.Items.Add(pts.meal);\r\n            c.qtyOrder.ListView.Items[0].SubItems.Add(pts.qtynumber.ToString());\r\n           c.price111.ListView.Items[0].SubItems.Add(pts.TotalPrice.ToString());\r\n            this.Hide();\r\n        }\r\n\r\nthis is my class\r\n\r\n    namespace jollibee4\r\n    {\r\n    class pricetempstorage\r\n    {\r\n        static int qtyNumber;\r\n        static int qtyPrice;\r\n        static  int ListViewCount;\r\n        static String Meal;\r\n        static int totalprice;\r\n        public int TotalPrice\r\n        {\r\n            get\r\n            {\r\n                return totalprice;\r\n            }\r\n            set\r\n            {\r\n                totalprice = qtyNumber * qtyPrice;\r\n            }\r\n        }\r\n        public int qtynumber\r\n        {\r\n            get\r\n            {\r\n                return qtyNumber;\r\n            }\r\n            set\r\n            {\r\n                qtyNumber = value;\r\n            }\r\n        }\r\n        public int qtyprice\r\n        {\r\n            get\r\n            {\r\n                return qtyPrice;\r\n            }\r\n            set\r\n            {\r\n                qtyPrice = value;\r\n            }\r\n        }\r\n        public int listviewCount\r\n        {\r\n            get\r\n            {\r\n                return ListViewCount;\r\n            }\r\n            set\r\n            {\r\n                ListViewCount = value;\r\n            }\r\n        }\r\n        public String meal\r\n        {\r\n            get\r\n            {\r\n                return Meal;\r\n            }\r\n            set\r\n            {\r\n                Meal = value;\r\n            }\r\n        }\r\n    }\r\n    }",
            "link": "https://stackoverflow.com/questions/49919688/how-to-save-value-in-listview-from-other-form",
            "title": "how to save value in listview from other form",
            "body": "<p>Im having a problem in my listview because whenever I get value in other form it is not adding on the list but when I put breakpoint it have a value but still not adding on my listview.</p>\n\n<p>here is my function in form1 getting values from datagridview</p>\n\n<pre><code>public void dataGridView1_DoubleClick(object sender, EventArgs e)\n    {\n        qtyOfOrders orders = new qtyOfOrders();\n        if (dataGridView1.SelectedRows.Count &gt; 0)\n        {\n            String mealname = dataGridView1.SelectedRows[0].Cells[1].Value + String.Empty;\n            String price1 = dataGridView1.SelectedRows[0].Cells[2].Value + String.Empty;\n            pts.meal = mealname;\n            pts.qtyprice = Int32.Parse(price1);\n            orders.Show();\n        }\n    }\n</code></pre>\n\n<p>here is my function from form2 and will save data in listview in form1</p>\n\n<pre><code>private void OK_Click(object sender, EventArgs e)\n    {\n        cashier c = new cashier();\n        pricetempstorage pts = new pricetempstorage(); //class\n            int qty = Int32.Parse(QTYNumber.Text);\n            int totalPrice = qty * pts.qtyprice;\n        pts.qtynumber = qty;\n        pts.TotalPrice = totalPrice;\n        c.listView1.Items.Add(pts.meal);\n        c.qtyOrder.ListView.Items[0].SubItems.Add(pts.qtynumber.ToString());\n       c.price111.ListView.Items[0].SubItems.Add(pts.TotalPrice.ToString());\n        this.Hide();\n    }\n</code></pre>\n\n<p>this is my class</p>\n\n<pre><code>namespace jollibee4\n{\nclass pricetempstorage\n{\n    static int qtyNumber;\n    static int qtyPrice;\n    static  int ListViewCount;\n    static String Meal;\n    static int totalprice;\n    public int TotalPrice\n    {\n        get\n        {\n            return totalprice;\n        }\n        set\n        {\n            totalprice = qtyNumber * qtyPrice;\n        }\n    }\n    public int qtynumber\n    {\n        get\n        {\n            return qtyNumber;\n        }\n        set\n        {\n            qtyNumber = value;\n        }\n    }\n    public int qtyprice\n    {\n        get\n        {\n            return qtyPrice;\n        }\n        set\n        {\n            qtyPrice = value;\n        }\n    }\n    public int listviewCount\n    {\n        get\n        {\n            return ListViewCount;\n        }\n        set\n        {\n            ListViewCount = value;\n        }\n    }\n    public String meal\n    {\n        get\n        {\n            return Meal;\n        }\n        set\n        {\n            Meal = value;\n        }\n    }\n}\n}\n</code></pre>\n"
        },
        {
            "tags": [
                "swift",
                "alamofire",
                "image-uploading"
            ],
            "owner": {
                "reputation": 118,
                "user_id": 6057638,
                "user_type": "registered",
                "accept_rate": 24,
                "profile_image": "https://www.gravatar.com/avatar/9fc39424fa937af5beec9d32648a4c5f?s=128&d=identicon&r=PG&f=1",
                "display_name": "Youssef .Z",
                "link": "https://stackoverflow.com/users/6057638/youssef-z"
            },
            "is_answered": true,
            "view_count": 5328,
            "accepted_answer_id": 40859409,
            "answer_count": 2,
            "score": 2,
            "last_activity_date": 1524141856,
            "creation_date": 1480376318,
            "last_edit_date": 1480401908,
            "question_id": 40855405,
            "body_markdown": "i want to upload photo into server with almofire i&#39;m using this code right now but i&#39;m getting timeout\r\n\r\n    let imageData = UIImageJPEGRepresentation(croppedImage, 1)\r\n    \r\n    let urlRequest = self.urlRequestWithComponents(url, imageData: imageData!)\r\n    self.alamofire.upload(urlRequest.1, to: urlRequest.0 as! URLConvertible).responseJSON { response in\r\n        guard response.result.isSuccess else {\r\n            self.showError()\r\n            return\r\n        }\r\n        \r\n        guard let data = response.result.value else {\r\n            self.showError()\r\n            return\r\n        }\r\n        \r\n        let json = JSON(data)\r\n    }\r\n\r\n    func urlRequestWithComponents(_ urlString:String, imageData:Data) -&gt; (URLRequestConvertible, Data) {\r\n        var urlRequest = URLRequest(url: URL(string: urlString)!)\r\n        urlRequest.httpMethod = HTTPMethod.post.rawValue\r\n        let boundary = generateBoundaryString()\r\n        let contentType = &quot;multipart/form-data;boundary=&quot; + boundary\r\n        urlRequest.setValue(contentType, forHTTPHeaderField: &quot;Content-Type&quot;)\r\n        \r\n        let uploadData = NSMutableData()\r\n        \r\n        uploadData.append(&quot;\\r\\n--\\(boundary)\\r\\n&quot;.data(using: String.Encoding.utf8)!)\r\n        uploadData.append(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;file.png\\&quot;\\r\\n&quot;.data(using: String.Encoding.utf8)!)\r\n        uploadData.append(&quot;Content-Type: image/png\\r\\n\\r\\n&quot;.data(using: String.Encoding.utf8)!)\r\n        uploadData.append(imageData)\r\n        uploadData.append(&quot;\\r\\n--\\(boundary)--\\r\\n&quot;.data(using: String.Encoding.utf8)!)\r\n        \r\n        return try! (Alamofire.URLEncoding.default.encode(urlRequest, with: nil), uploadData as Data)\r\n    }\r\n\r\nIs there any solution about this issue ?",
            "link": "https://stackoverflow.com/questions/40855405/uploading-image-with-almofire-4-swift-3",
            "title": "Uploading image with Almofire 4 swift 3",
            "body": "<p>i want to upload photo into server with almofire i'm using this code right now but i'm getting timeout</p>\n\n<pre><code>let imageData = UIImageJPEGRepresentation(croppedImage, 1)\n\nlet urlRequest = self.urlRequestWithComponents(url, imageData: imageData!)\nself.alamofire.upload(urlRequest.1, to: urlRequest.0 as! URLConvertible).responseJSON { response in\n    guard response.result.isSuccess else {\n        self.showError()\n        return\n    }\n\n    guard let data = response.result.value else {\n        self.showError()\n        return\n    }\n\n    let json = JSON(data)\n}\n\nfunc urlRequestWithComponents(_ urlString:String, imageData:Data) -&gt; (URLRequestConvertible, Data) {\n    var urlRequest = URLRequest(url: URL(string: urlString)!)\n    urlRequest.httpMethod = HTTPMethod.post.rawValue\n    let boundary = generateBoundaryString()\n    let contentType = \"multipart/form-data;boundary=\" + boundary\n    urlRequest.setValue(contentType, forHTTPHeaderField: \"Content-Type\")\n\n    let uploadData = NSMutableData()\n\n    uploadData.append(\"\\r\\n--\\(boundary)\\r\\n\".data(using: String.Encoding.utf8)!)\n    uploadData.append(\"Content-Disposition: form-data; name=\\\"file\\\"; filename=\\\"file.png\\\"\\r\\n\".data(using: String.Encoding.utf8)!)\n    uploadData.append(\"Content-Type: image/png\\r\\n\\r\\n\".data(using: String.Encoding.utf8)!)\n    uploadData.append(imageData)\n    uploadData.append(\"\\r\\n--\\(boundary)--\\r\\n\".data(using: String.Encoding.utf8)!)\n\n    return try! (Alamofire.URLEncoding.default.encode(urlRequest, with: nil), uploadData as Data)\n}\n</code></pre>\n\n<p>Is there any solution about this issue ?</p>\n"
        },
        {
            "tags": [
                "android",
                "google-maps"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9668344,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/Sgr6k.jpg?s=128&g=1",
                "display_name": "Ahsan Sherazi",
                "link": "https://stackoverflow.com/users/9668344/ahsan-sherazi"
            },
            "is_answered": false,
            "view_count": 20,
            "answer_count": 2,
            "score": -1,
            "last_activity_date": 1524141854,
            "creation_date": 1524135721,
            "last_edit_date": 1524138571,
            "question_id": 49919473,
            "body_markdown": "In my code doctors are shown on google map , and each doctor have some ettributes\r\nUser search by any attributes or couple of attribute, \r\nIf user enter address &quot;USA&quot; and specialization is &quot;Heart&quot; then only those doctors will be shown whose address and specialization is given below\r\n\r\nSo there are many combination that user can enter\r\nand\r\nI can not understand how to implement these filters,\r\n\r\n\r\n  ![](https://i.stack.imgur.com/pNutP.png)\r\n\r\nMy code is\r\n\r\n      private void showdoctorresult() {\r\n        final String selectedspec = dr_spec_spiner.getSelectedItem().toString();\r\n        final String selecedgender = gender_spiner.getSelectedItem().toString();\r\n        final String enteredaddress = mapsearchaddress.getText().toString();\r\n        final String enteredfee = mapsearchfee.getText().toString();\r\n        final String enteredtime = mapsearchtime.getText().toString();\r\n\r\n        DatabaseReference doctordRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(&quot;Doctor&quot;);\r\n        mMap.clear();\r\n        doctordRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n\r\n                for (DataSnapshot child : dataSnapshot.getChildren()) {\r\n                    // SaveDonorData doctordata = dataSnapshot.getValue(SaveDonorData.class);\r\n                    String latitude = child.child(&quot;latitude&quot;).getValue().toString();\r\n                    String longitude = child.child(&quot;longitude&quot;).getValue().toString();\r\n                    String donarname = child.child(&quot;user_name&quot;).getValue().toString();\r\n                    String drspec = child.child(&quot;specialization&quot;).getValue().toString();\r\n                    String draddress = child.child(&quot;user_address&quot;).getValue().toString();\r\n                    String dr_time = child.child(&quot;time&quot;).getValue().toString();\r\n                    String dr_fee = child.child(&quot;fee&quot;).getValue().toString();\r\n                    String dr_gender = child.child(&quot;gender&quot;).getValue().toString();\r\n                    spec.add(drspec);\r\n                    double loclatitude = Double.parseDouble(latitude);\r\n                    double loclongitude = Double.parseDouble(longitude);\r\n                    LatLng cod = new LatLng(loclatitude, loclongitude);\r\n\r\n                    if(!selectedspec.matches(&quot;&quot;) || !selecedgender.matches(&quot;&quot;) || !enteredaddress.matches(&quot;&quot;) || !enteredfee.matches(&quot;&quot;)|| !enteredtime.matches(&quot;&quot;)){\r\n                        if(selectedspec.toLowerCase().contains(drspec.toLowerCase()) &amp;&amp; enteredaddress.toLowerCase().contains(draddress.toLowerCase()) &amp;&amp; selecedgender.matches(dr_gender) &amp;&amp; enteredfee.matches(dr_fee) &amp;&amp; enteredtime.matches(dr_time)){\r\n                            mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\r\n                        }\r\n                    } else\r\n                    if(!selectedspec.matches(&quot;&quot;) || !selecedgender.matches(&quot;&quot;) || !enteredaddress.matches(&quot;&quot;) || !enteredfee.matches(&quot;&quot;) ){\r\n                        if(selectedspec.toLowerCase().contains(drspec.toLowerCase())&amp;&amp; enteredaddress.toLowerCase().contains(draddress.toLowerCase())  &amp;&amp; selecedgender.matches(dr_gender) &amp;&amp; enteredfee.matches(dr_fee)  ){\r\n                            mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\r\n                        }\r\n                    }else\r\n                    if(!selectedspec.matches(&quot;&quot;) || !selecedgender.matches(&quot;&quot;) || !enteredaddress.matches(&quot;&quot;) ){\r\n                        if(selectedspec.toLowerCase().contains(drspec.toLowerCase()) &amp;&amp; selecedgender.matches(dr_gender)&amp;&amp; enteredaddress.toLowerCase().contains(draddress.toLowerCase())     ){\r\n                            mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\r\n                        }\r\n                    }else\r\n                    if(!selectedspec.matches(&quot;&quot;) || !selecedgender.matches(&quot;&quot;) ){\r\n                        if(selectedspec.toLowerCase().contains(drspec.toLowerCase()) &amp;&amp; selecedgender.matches(dr_gender)   ){\r\n                            mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\r\n                        }\r\n                    }else\r\n                    if(!selectedspec.matches(&quot;&quot;)  ){\r\n                        if(selectedspec.toLowerCase().contains(drspec.toLowerCase())   ){\r\n                            mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n\r\n\r\nHow i can make logic to search doctors that user can enter any field and got result\r\nPlease Ans me\r\nThanks in Advance\r\n\r\n  \r\n\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49919473/filters-location-on-google-map-on-some-attributes-in-android",
            "title": "Filters Location on Google Map on some attributes in Android",
            "body": "<p>In my code doctors are shown on google map , and each doctor have some ettributes\nUser search by any attributes or couple of attribute, \nIf user enter address \"USA\" and specialization is \"Heart\" then only those doctors will be shown whose address and specialization is given below</p>\n\n<p>So there are many combination that user can enter\nand\nI can not understand how to implement these filters,</p>\n\n<p><img src=\"https://i.stack.imgur.com/pNutP.png\" alt=\"\"></p>\n\n<p>My code is</p>\n\n<pre><code>  private void showdoctorresult() {\n    final String selectedspec = dr_spec_spiner.getSelectedItem().toString();\n    final String selecedgender = gender_spiner.getSelectedItem().toString();\n    final String enteredaddress = mapsearchaddress.getText().toString();\n    final String enteredfee = mapsearchfee.getText().toString();\n    final String enteredtime = mapsearchtime.getText().toString();\n\n    DatabaseReference doctordRef = FirebaseDatabase.getInstance().getReference().child(\"Users\").child(\"Doctor\");\n    mMap.clear();\n    doctordRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n\n            for (DataSnapshot child : dataSnapshot.getChildren()) {\n                // SaveDonorData doctordata = dataSnapshot.getValue(SaveDonorData.class);\n                String latitude = child.child(\"latitude\").getValue().toString();\n                String longitude = child.child(\"longitude\").getValue().toString();\n                String donarname = child.child(\"user_name\").getValue().toString();\n                String drspec = child.child(\"specialization\").getValue().toString();\n                String draddress = child.child(\"user_address\").getValue().toString();\n                String dr_time = child.child(\"time\").getValue().toString();\n                String dr_fee = child.child(\"fee\").getValue().toString();\n                String dr_gender = child.child(\"gender\").getValue().toString();\n                spec.add(drspec);\n                double loclatitude = Double.parseDouble(latitude);\n                double loclongitude = Double.parseDouble(longitude);\n                LatLng cod = new LatLng(loclatitude, loclongitude);\n\n                if(!selectedspec.matches(\"\") || !selecedgender.matches(\"\") || !enteredaddress.matches(\"\") || !enteredfee.matches(\"\")|| !enteredtime.matches(\"\")){\n                    if(selectedspec.toLowerCase().contains(drspec.toLowerCase()) &amp;&amp; enteredaddress.toLowerCase().contains(draddress.toLowerCase()) &amp;&amp; selecedgender.matches(dr_gender) &amp;&amp; enteredfee.matches(dr_fee) &amp;&amp; enteredtime.matches(dr_time)){\n                        mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\n                    }\n                } else\n                if(!selectedspec.matches(\"\") || !selecedgender.matches(\"\") || !enteredaddress.matches(\"\") || !enteredfee.matches(\"\") ){\n                    if(selectedspec.toLowerCase().contains(drspec.toLowerCase())&amp;&amp; enteredaddress.toLowerCase().contains(draddress.toLowerCase())  &amp;&amp; selecedgender.matches(dr_gender) &amp;&amp; enteredfee.matches(dr_fee)  ){\n                        mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\n                    }\n                }else\n                if(!selectedspec.matches(\"\") || !selecedgender.matches(\"\") || !enteredaddress.matches(\"\") ){\n                    if(selectedspec.toLowerCase().contains(drspec.toLowerCase()) &amp;&amp; selecedgender.matches(dr_gender)&amp;&amp; enteredaddress.toLowerCase().contains(draddress.toLowerCase())     ){\n                        mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\n                    }\n                }else\n                if(!selectedspec.matches(\"\") || !selecedgender.matches(\"\") ){\n                    if(selectedspec.toLowerCase().contains(drspec.toLowerCase()) &amp;&amp; selecedgender.matches(dr_gender)   ){\n                        mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\n                    }\n                }else\n                if(!selectedspec.matches(\"\")  ){\n                    if(selectedspec.toLowerCase().contains(drspec.toLowerCase())   ){\n                        mMap.addMarker(new MarkerOptions().position(cod).title(donarname));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(cod,15));\n                    }\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n\n\n    });\n}\n</code></pre>\n\n<p>How i can make logic to search doctors that user can enter any field and got result\nPlease Ans me\nThanks in Advance</p>\n"
        },
        {
            "tags": [
                "regex",
                "google-analytics",
                "google-data-studio"
            ],
            "owner": {
                "reputation": 693,
                "user_id": 6273496,
                "user_type": "registered",
                "accept_rate": 92,
                "profile_image": "https://lh3.googleusercontent.com/-ylur9-ED2UU/AAAAAAAAAAI/AAAAAAAAACU/r0Cd0F2YJCI/photo.jpg?sz=128",
                "display_name": "Simon Breton",
                "link": "https://stackoverflow.com/users/6273496/simon-breton"
            },
            "is_answered": true,
            "view_count": 1915,
            "accepted_answer_id": 40309892,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524141851,
            "creation_date": 1477673140,
            "last_edit_date": 1477673740,
            "question_id": 40309610,
            "body_markdown": "I&#39;ve a field with tow distinct string `foo` and `bar`. I want to create a new calculated metrics based on this field where I only count the number of `foo` string. how do I do that ? \r\n\r\nSo far I&#39;ve tried this but doesn&#39;t work :\r\n\r\n```COUNT(CASE WHEN REGEXP_MATCH(type,&#39;foo.*&#39;))```\r\n\r\nNot sure if my question is clear. please tell me if it&#39;s not. \r\n\r\nEdit : I found this solution `SUM(CASE WHEN Type = &#39;foo&#39; THEN 1 ELSE 0 END)` however I would love to know how to solve this issue with Regexp",
            "link": "https://stackoverflow.com/questions/40309610/how-to-create-a-new-metric-in-google-data-studio-with-count-specific-term-in-fie",
            "title": "How to Create a new metric in google data studio with count specific term in field",
            "body": "<p>I've a field with tow distinct string <code>foo</code> and <code>bar</code>. I want to create a new calculated metrics based on this field where I only count the number of <code>foo</code> string. how do I do that ? </p>\n\n<p>So far I've tried this but doesn't work :</p>\n\n<p><code>COUNT(CASE WHEN REGEXP_MATCH(type,'foo.*'))</code></p>\n\n<p>Not sure if my question is clear. please tell me if it's not. </p>\n\n<p>Edit : I found this solution <code>SUM(CASE WHEN Type = 'foo' THEN 1 ELSE 0 END)</code> however I would love to know how to solve this issue with Regexp</p>\n"
        },
        {
            "tags": [
                "outlook-addin",
                "office-js",
                "office-addins"
            ],
            "owner": {
                "reputation": 1415,
                "user_id": 2331640,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/6afb96ca2ec7ef9ce31d8be6fa9fc30e?s=128&d=identicon&r=PG&f=1",
                "display_name": "Kanak Sony",
                "link": "https://stackoverflow.com/users/2331640/kanak-sony"
            },
            "is_answered": false,
            "view_count": 28,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524141836,
            "creation_date": 1524141836,
            "question_id": 49921467,
            "body_markdown": "I am developing an outlook add-in using javascript/html. There is a custom button, onclick of this button, the requirement is open a new appointment window and prepopulate with somepredefined text. The body text, I am trying to add is of approx 2.09KB (I checked with notepad).\r\n\r\nBut, it does not opens window with all text. If I trim it and add 2-3 lines of text, it adds fine. I know there is a limitation that body text need to be under 32 kb, but I as I mentioned above the textsize is only 2.09 kb.\r\n\r\n    Office.context.mailbox.displayNewAppointmentForm({&quot;location&quot;: &quot;Home&quot;, &quot;resources&quot;: [ &quot;user@something.com&quot; ], &quot;subject&quot;: &quot;meeting&quot;, &quot;body&quot;: &quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot; });\r\n\r\nPlease, suggest some solution. I am stuck on this. \r\nThanks.",
            "link": "https://stackoverflow.com/questions/49921467/size-issue-with-body-of-office-context-mailbox-displaynewappointmentform-with-te",
            "title": "Size issue with body of Office.context.mailbox.displayNewAppointmentForm with text/html",
            "body": "<p>I am developing an outlook add-in using javascript/html. There is a custom button, onclick of this button, the requirement is open a new appointment window and prepopulate with somepredefined text. The body text, I am trying to add is of approx 2.09KB (I checked with notepad).</p>\n\n<p>But, it does not opens window with all text. If I trim it and add 2-3 lines of text, it adds fine. I know there is a limitation that body text need to be under 32 kb, but I as I mentioned above the textsize is only 2.09 kb.</p>\n\n<pre><code>Office.context.mailbox.displayNewAppointmentForm({\"location\": \"Home\", \"resources\": [ \"user@something.com\" ], \"subject\": \"meeting\", \"body\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" });\n</code></pre>\n\n<p>Please, suggest some solution. I am stuck on this. \nThanks.</p>\n"
        },
        {
            "tags": [
                "html",
                "asp.net-mvc-5"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9624865,
                "user_type": "registered",
                "profile_image": "https://lh5.googleusercontent.com/-89KIdcZA_KA/AAAAAAAAAAI/AAAAAAAAADI/jLL3Qm8ax7Y/photo.jpg?sz=128",
                "display_name": "Dana cut",
                "link": "https://stackoverflow.com/users/9624865/dana-cut"
            },
            "is_answered": false,
            "view_count": 23,
            "answer_count": 1,
            "score": -2,
            "last_activity_date": 1524141835,
            "creation_date": 1524136972,
            "last_edit_date": 1524138433,
            "question_id": 49919859,
            "body_markdown": "i have a foreach loop and &lt;li&gt; and &lt;ul&gt; inside the foreach but i want to close the &lt;ul/&gt; tag outside the foreach . so the opening of &lt;ul&gt; inside and the closing outside.\r\n\r\n\r\n\r\n\r\n\r\n        @foreach (var item1 in Model){\r\n            if(num != item1.level){\r\n               num = item1.level;\r\n               &lt;ul class=&quot;@Html.DisplayFor(modelItem =&gt; item1.circleLevel)&quot;&gt;\r\n               @foreach (var item in Model){\r\n                  if(item1.level == item.level){\r\n                     &lt;li&gt;\r\n                        &lt;a class=&quot;text&quot; style=&quot;background-color: \r\n                         @Html.DisplayFor(modelItem =&gt; item.IsExest)&quot; \r\n                         href=&quot;@Url.Action(&quot;Details&quot;, \r\n                         &quot;Tree&quot;, new { id = item.User_ID \r\n                         })&quot;&gt;@Html.DisplayFor(modelItem =&gt; item.Name)&lt;/a&gt;\r\n                     &lt;/li&gt;\r\n                  }\r\n                }\r\n                &lt;li&gt;\r\n                    &lt;div class=&quot;text&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;left&quot; \r\n                    title=&quot;add family member&quot;&gt;@Html.ActionLink(&quot;+&quot;, &quot;Create&quot;)&lt;/div&gt;\r\n                &lt;/li&gt;\r\n        \r\n               \r\n                &lt;ul class=&quot;circle5&quot;&gt;&lt;/ul&gt;\r\n        \r\n                 \r\n            }\r\n      }\r\n    \r\n    &lt;/ul&gt;\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49919859/i-have-a-foreach-loop-and-li-and-ul-inside-the-foreach-but-i-want-to-close-t",
            "title": "I have a foreach loop and &lt;li&gt; and &lt;ul&gt; inside the foreach but i want to close the &lt;ul/&gt; tag outside the foreach",
            "body": "<p>i have a foreach loop and <li> and  inside the foreach but i want to close the  tag outside the foreach . so the opening of  inside and the closing outside.</p>\n\n<pre><code>    @foreach (var item1 in Model){\n        if(num != item1.level){\n           num = item1.level;\n           &lt;ul class=\"@Html.DisplayFor(modelItem =&gt; item1.circleLevel)\"&gt;\n           @foreach (var item in Model){\n              if(item1.level == item.level){\n                 &lt;li&gt;\n                    &lt;a class=\"text\" style=\"background-color: \n                     @Html.DisplayFor(modelItem =&gt; item.IsExest)\" \n                     href=\"@Url.Action(\"Details\", \n                     \"Tree\", new { id = item.User_ID \n                     })\"&gt;@Html.DisplayFor(modelItem =&gt; item.Name)&lt;/a&gt;\n                 &lt;/li&gt;\n              }\n            }\n            &lt;li&gt;\n                &lt;div class=\"text\" data-toggle=\"tooltip\" data-placement=\"left\" \n                title=\"add family member\"&gt;@Html.ActionLink(\"+\", \"Create\")&lt;/div&gt;\n            &lt;/li&gt;\n\n\n            &lt;ul class=\"circle5\"&gt;&lt;/ul&gt;\n\n\n        }\n  }\n\n&lt;/ul&gt;\n</code></pre>\n"
        },
        {
            "tags": [
                "tcl",
                "output-redirect"
            ],
            "owner": {
                "reputation": 41,
                "user_id": 468371,
                "user_type": "unregistered",
                "profile_image": "https://www.gravatar.com/avatar/34cc5d0a7f6281781a130d916340fff8?s=128&d=identicon&r=PG",
                "display_name": "Lior Dagan",
                "link": "https://stackoverflow.com/users/468371/lior-dagan"
            },
            "is_answered": true,
            "view_count": 13404,
            "answer_count": 6,
            "score": 8,
            "last_activity_date": 1524141829,
            "creation_date": 1286392495,
            "last_edit_date": 1355846746,
            "question_id": 3876076,
            "body_markdown": "I want to redirect the output of 1 command to a variable, where the OUTPUT is usually to STDOUT. I am running an EDA tool, which has tcl interpeter &amp; it&#39;s own commands.\r\nLet&#39;s say that the tool has a tcl query, which says\r\n\r\n    TOOL&gt; find_transistor m*\r\n    m1 m2 m3 m4\r\nI want to have a way of doing the following:\r\n\r\n    TOOL&gt; set ret redirect {find_transistor m*}\r\n    TOOL&gt; puts $ret\r\n    m1 m2 m3 m4\r\n\r\nAny ideas?\r\n\r\n\r\n\r\n",
            "link": "https://stackoverflow.com/questions/3876076/tcl-command-redirect-to-a-variable-tcl-version-is-8-4",
            "title": "tcl command redirect to a variable, tcl version is 8.4",
            "body": "<p>I want to redirect the output of 1 command to a variable, where the OUTPUT is usually to STDOUT. I am running an EDA tool, which has tcl interpeter &amp; it's own commands.\nLet's say that the tool has a tcl query, which says</p>\n\n<pre><code>TOOL&gt; find_transistor m*\nm1 m2 m3 m4\n</code></pre>\n\n<p>I want to have a way of doing the following:</p>\n\n<pre><code>TOOL&gt; set ret redirect {find_transistor m*}\nTOOL&gt; puts $ret\nm1 m2 m3 m4\n</code></pre>\n\n<p>Any ideas?</p>\n"
        },
        {
            "tags": [
                "google-apps-script"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9452268,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/f25440160ad73612fac34f4054a7f2ba?s=128&d=identicon&r=PG&f=1",
                "display_name": "PCamTre",
                "link": "https://stackoverflow.com/users/9452268/pcamtre"
            },
            "is_answered": false,
            "view_count": 24,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524141827,
            "creation_date": 1524141547,
            "question_id": 49921360,
            "body_markdown": "Dumb question but I can&#39;t find an answer, I have a project with multiple scripts where I use global variables in multiple functions, do I need to declare the global variables in all of the scripts or can I just leave them in one script for them to be used by all fo the other scripts ?\r\n\r\nAll of the variables are used to define a line and column in spreadsheet in case that the spreadsheet needs to be modified (to avoid looking for the values in multiple functions).\r\n\r\nThank you.",
            "link": "https://stackoverflow.com/questions/49921360/do-i-need-to-declare-multiple-times-global-variables-used-by-multiple-scripts-in",
            "title": "Do i need to declare multiple times global variables used by multiple scripts in one project?",
            "body": "<p>Dumb question but I can't find an answer, I have a project with multiple scripts where I use global variables in multiple functions, do I need to declare the global variables in all of the scripts or can I just leave them in one script for them to be used by all fo the other scripts ?</p>\n\n<p>All of the variables are used to define a line and column in spreadsheet in case that the spreadsheet needs to be modified (to avoid looking for the values in multiple functions).</p>\n\n<p>Thank you.</p>\n"
        },
        {
            "tags": [
                "c#",
                "mysql",
                "visual-studio",
                "checkbox",
                "datagridview"
            ],
            "owner": {
                "reputation": 23,
                "user_id": 8336484,
                "user_type": "registered",
                "accept_rate": 75,
                "profile_image": "https://www.gravatar.com/avatar/fea2bdeb7618acc97aa74fe4ca9b0a57?s=128&d=identicon&r=PG&f=1",
                "display_name": "darklup",
                "link": "https://stackoverflow.com/users/8336484/darklup"
            },
            "is_answered": false,
            "view_count": 15,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524141824,
            "creation_date": 1524139130,
            "last_edit_date": 1524141235,
            "question_id": 49920568,
            "body_markdown": "I&#39;m populating DataGridView with data from MySQL database, one of the values was set to tiny int (boolean), I would like it to look like a checkbox in DGV instead of 0 and 1, how can I do this?\r\n\r\nMy code for pushing data in DGV. \r\n\r\n    MySqlConnection myConn = new MySqlConnection(conStr);\r\n    adapter = new MySqlDataAdapter();\r\n    adapter.SelectCommand = new MySqlCommand(query, myConn);\r\n    MySqlCommandBuilder cb = new MySqlCommandBuilder(adapter);\r\n    myConn.Open(); //da.Fill(ds, sTable); da.Update(ds, sTable); myConn.Close();\r\n\r\n    ds = new DataSet();\r\n    adapter.Fill(ds, sTable);\r\n    myConn.Close();\r\n\r\n    dataGridView1.Refresh();\r\n\r\n    dataGridView1.DataSource = ds;\r\n    dataGridView1.DataMember = sTable;\r\n    dataGridView1.Columns[0].Visible = false; \r\n\r\nI managed to change my cell in to a checkbox like this:\r\n\r\n    for (int i = 0; i &lt; dataGridView1.RowCount; i++)\r\n    {\r\n    this.dataGridView1.Rows[i].Cells[7] = new DataGridViewCheckBoxCell();\r\n    }\r\n\r\n, but I think it&#39;s not happy that it gets 0 and 1 instead of true and false.\r\n\r\nApparently it works as intended, but i get an error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vWQWc.png",
            "link": "https://stackoverflow.com/questions/49920568/change-tiny-int-in-datagridview-with-checkbox",
            "title": "Change tiny int in datagridview with checkbox",
            "body": "<p>I'm populating DataGridView with data from MySQL database, one of the values was set to tiny int (boolean), I would like it to look like a checkbox in DGV instead of 0 and 1, how can I do this?</p>\n\n<p>My code for pushing data in DGV. </p>\n\n<pre><code>MySqlConnection myConn = new MySqlConnection(conStr);\nadapter = new MySqlDataAdapter();\nadapter.SelectCommand = new MySqlCommand(query, myConn);\nMySqlCommandBuilder cb = new MySqlCommandBuilder(adapter);\nmyConn.Open(); //da.Fill(ds, sTable); da.Update(ds, sTable); myConn.Close();\n\nds = new DataSet();\nadapter.Fill(ds, sTable);\nmyConn.Close();\n\ndataGridView1.Refresh();\n\ndataGridView1.DataSource = ds;\ndataGridView1.DataMember = sTable;\ndataGridView1.Columns[0].Visible = false; \n</code></pre>\n\n<p>I managed to change my cell in to a checkbox like this:</p>\n\n<pre><code>for (int i = 0; i &lt; dataGridView1.RowCount; i++)\n{\nthis.dataGridView1.Rows[i].Cells[7] = new DataGridViewCheckBoxCell();\n}\n</code></pre>\n\n<p>, but I think it's not happy that it gets 0 and 1 instead of true and false.</p>\n\n<p>Apparently it works as intended, but i get an error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vWQWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWQWc.png\" alt=\"enter image description here\"></a></p>\n"
        },
        {
            "tags": [
                "python",
                "antlr4",
                "bytestream"
            ],
            "owner": {
                "reputation": 634,
                "user_id": 3551661,
                "user_type": "registered",
                "accept_rate": 67,
                "profile_image": "https://www.gravatar.com/avatar/dbde0d2418bd6946dbc397411975ac5e?s=128&d=identicon&r=PG&f=1",
                "display_name": "A_Matar",
                "link": "https://stackoverflow.com/users/3551661/a-matar"
            },
            "is_answered": false,
            "view_count": 8,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524141815,
            "creation_date": 1524141815,
            "question_id": 49921456,
            "body_markdown": "I want to pre-process a text file before I normalize it using `ANTLR4`. I don&#39;t want to open the file, process it, update it, close it and then repeat this for ANTLR parsing.\r\n\r\nANTLR loads the file into a `fileSream` using:\r\nclass FileStream(InputStream):\r\n\r\n    def __init__(self, fileName, encoding=&#39;ascii&#39;, errors=&#39;strict&#39;):\r\n        self.fileName = fileName\r\n        # read binary to avoid line ending conversion\r\n        with open(fileName, &#39;rb&#39;) as file:\r\n            bytes = file.read()\r\n            data = codecs.decode(bytes, encoding, errors)\r\n            super(type(self), self).__init__(data)\r\n\r\nWhat I thought of is to open and read the file as a string, update the string and then convert it to the byteStrem object `ANTLR` lexer expects. \r\n\r\nHere is my code:\r\n\r\n    date = &#39;&#39;\r\n    with open(&#39;data.txt&#39;, &#39;r&#39;, utf8) as myfile:\r\n        data=myfile.read()\r\n    data = preprocess(data) # returns the string after processing it\r\n    \r\n    antlrInput = codecs.decode(data.encode(), encoding=&#39;utf8&#39;, errors=&#39;strict&#39;)\r\n    lexer = txtNormLexer(antlrInput)\r\n\r\nBut this gives me the following error:\r\n\r\n    File &quot;/antlr4/Lexer.py&quot;, line 111, in nextToken\r\n        tokenStartMarker = self._input.mark()\r\n    AttributeError: &#39;str&#39; object has no attribute &#39;mark&#39;\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49921456/string-to-input-stream-compatible-with-antlr-lexer-input",
            "title": "string to input stream compatible with ANTLR lexer input",
            "body": "<p>I want to pre-process a text file before I normalize it using <code>ANTLR4</code>. I don't want to open the file, process it, update it, close it and then repeat this for ANTLR parsing.</p>\n\n<p>ANTLR loads the file into a <code>fileSream</code> using:\nclass FileStream(InputStream):</p>\n\n<pre><code>def __init__(self, fileName, encoding='ascii', errors='strict'):\n    self.fileName = fileName\n    # read binary to avoid line ending conversion\n    with open(fileName, 'rb') as file:\n        bytes = file.read()\n        data = codecs.decode(bytes, encoding, errors)\n        super(type(self), self).__init__(data)\n</code></pre>\n\n<p>What I thought of is to open and read the file as a string, update the string and then convert it to the byteStrem object <code>ANTLR</code> lexer expects. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>date = ''\nwith open('data.txt', 'r', utf8) as myfile:\n    data=myfile.read()\ndata = preprocess(data) # returns the string after processing it\n\nantlrInput = codecs.decode(data.encode(), encoding='utf8', errors='strict')\nlexer = txtNormLexer(antlrInput)\n</code></pre>\n\n<p>But this gives me the following error:</p>\n\n<pre><code>File \"/antlr4/Lexer.py\", line 111, in nextToken\n    tokenStartMarker = self._input.mark()\nAttributeError: 'str' object has no attribute 'mark'\n</code></pre>\n"
        },
        {
            "tags": [
                "apache-spark",
                "apache-spark-dataset",
                "apache-spark-2.0"
            ],
            "owner": {
                "reputation": 18,
                "user_id": 6711970,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/c9f79df85f02cc948174cd4302e4f210?s=128&d=identicon&r=PG&f=1",
                "display_name": "Janie",
                "link": "https://stackoverflow.com/users/6711970/janie"
            },
            "is_answered": true,
            "view_count": 182,
            "answer_count": 2,
            "score": 1,
            "last_activity_date": 1524141813,
            "creation_date": 1472509031,
            "last_edit_date": 1495032559,
            "question_id": 39216028,
            "body_markdown": "For `DataFrame`, it is easy to generate a new column with some operation using a `udf` with `df.withColumn(&quot;newCol&quot;, myUDF(&quot;someCol&quot;))`. To do something like this in `Dataset`, I guess I would be using the `map` function:\r\n\r\n    def map[U](func: (T) ⇒ U)(implicit arg0: Encoder[U]): Dataset[U]\r\n\r\nYou have to pass the entire case class `T` as input to the function. If the `Dataset[T]` has a lot of fields/columns, it would seem very inefficient to be passing the entire row if you just wanted to make one extra column by operating on one of the many columns of `T`. My question is, is Catalyst smart enough to be able to optimize this?",
            "link": "https://stackoverflow.com/questions/39216028/is-map-function-on-datasets-optimized-for-operations-on-one-column",
            "title": "Is map function on Datasets optimized for operations on one column?",
            "body": "<p>For <code>DataFrame</code>, it is easy to generate a new column with some operation using a <code>udf</code> with <code>df.withColumn(\"newCol\", myUDF(\"someCol\"))</code>. To do something like this in <code>Dataset</code>, I guess I would be using the <code>map</code> function:</p>\n\n<pre><code>def map[U](func: (T) ⇒ U)(implicit arg0: Encoder[U]): Dataset[U]\n</code></pre>\n\n<p>You have to pass the entire case class <code>T</code> as input to the function. If the <code>Dataset[T]</code> has a lot of fields/columns, it would seem very inefficient to be passing the entire row if you just wanted to make one extra column by operating on one of the many columns of <code>T</code>. My question is, is Catalyst smart enough to be able to optimize this?</p>\n"
        },
        {
            "tags": [
                "javascript",
                "asp.net-mvc",
                "reactjs"
            ],
            "owner": {
                "reputation": 18,
                "user_id": 9460320,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/61636e7fede13da33c9e20842637b37d?s=128&d=identicon&r=PG&f=1",
                "display_name": "Mohan",
                "link": "https://stackoverflow.com/users/9460320/mohan"
            },
            "is_answered": false,
            "view_count": 58,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524141813,
            "creation_date": 1524114496,
            "question_id": 49913115,
            "body_markdown": "i&#39;m trying to add bootstrap refrence in jsx file in asp.net mvc.But not getting successful.\r\nindex.cshtml\r\n\r\n     &lt;body class=&quot;signup-page&quot;&gt;\r\n    &lt;script src=&quot;~/Assets/JS/react.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;@Url.Content(&quot;~/Assets/JS/Tutorial.jsx&quot;)&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n\r\nTutorial.jsx\r\nIn this jsx file in render section some bootstrap class is there\r\n\r\n     render() {\r\n            return (\r\n            &lt;form onSubmit={this.handleSubmit}&gt;\r\n                &lt;div class=&quot;container&quot;&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3&quot;&gt;\r\n                                &lt;div class=&quot;card card-signup&quot; id=&quot;signup&quot;&gt;\r\n               &lt;div class=&quot;header header-primary text-center&quot;&gt;\r\n    &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nand i want to add refrence of bootstrap cdn in it but how to achieve it.any idea would be appreciated\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49913115/trying-to-add-bootstrap-refrence-in-jsx-file-in-mvc",
            "title": "Trying to add bootstrap refrence in jsx file in mvc",
            "body": "<p>i'm trying to add bootstrap refrence in jsx file in asp.net mvc.But not getting successful.\nindex.cshtml</p>\n\n<pre><code> &lt;body class=\"signup-page\"&gt;\n&lt;script src=\"~/Assets/JS/react.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"@Url.Content(\"~/Assets/JS/Tutorial.jsx\")\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Tutorial.jsx\nIn this jsx file in render section some bootstrap class is there</p>\n\n<pre><code> render() {\n        return (\n        &lt;form onSubmit={this.handleSubmit}&gt;\n            &lt;div class=\"container\"&gt;\n            &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3\"&gt;\n                            &lt;div class=\"card card-signup\" id=\"signup\"&gt;\n           &lt;div class=\"header header-primary text-center\"&gt;\n&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and i want to add refrence of bootstrap cdn in it but how to achieve it.any idea would be appreciated</p>\n"
        },
        {
            "tags": [
                "google-chrome-extension",
                "html5-video",
                "html5-audio",
                "google-chrome-app",
                "google-chrome-os"
            ],
            "owner": {
                "reputation": 316,
                "user_id": 813660,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/7544b2aa8cd1dc1c5001009f7c68bfdd?s=128&d=identicon&r=PG",
                "display_name": "Bob Groeneveld",
                "link": "https://stackoverflow.com/users/813660/bob-groeneveld"
            },
            "is_answered": false,
            "view_count": 30,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524141811,
            "creation_date": 1524141811,
            "question_id": 49921453,
            "body_markdown": "As of version 66 of Google Chrome onwards it will no longer automatically start playback of audio and video files when the playback volume is not muted.\r\n\r\nThis change was made to prevent autoplay on add-videos and other annoying web page elements. However, this has negative consequences for a number of perfectly valid applications of the autoplay feature, for instance in signage applications.\r\n\r\nThe new default behaviour of not auto playing a video with sound can be overridden at the startup of the Google Chrome browser with the command line options\r\n\r\n```--autoplay-policy=no-user-gesture-required\r\n```\r\n\r\nor\r\n\r\n```--no-user-gesture-required\r\n```\r\n\r\nThe new default autoplay behaviour is also present in the Chrome browser on ChromeOS (currently in the beta channel). For Kiosk-apps running on ChromeOS there are no command line options, only configuration using the Manifest.json file.\r\n\r\nCurrently there is no option in the documentation of the Manifest.json format that allows changing the autoplay policy. \r\n\r\nIs there a non documented way or a way outside the Manifest.json to change the new Chrome default autoplay policy in Kiosk apps?",
            "link": "https://stackoverflow.com/questions/49921453/how-to-manipulate-the-autoplay-policy-in-a-google-chrome-kiosk-app",
            "title": "How to manipulate the autoplay policy in a Google Chrome kiosk app",
            "body": "<p>As of version 66 of Google Chrome onwards it will no longer automatically start playback of audio and video files when the playback volume is not muted.</p>\n\n<p>This change was made to prevent autoplay on add-videos and other annoying web page elements. However, this has negative consequences for a number of perfectly valid applications of the autoplay feature, for instance in signage applications.</p>\n\n<p>The new default behaviour of not auto playing a video with sound can be overridden at the startup of the Google Chrome browser with the command line options</p>\n\n<p><code>--autoplay-policy=no-user-gesture-required\n</code></p>\n\n<p>or</p>\n\n<p><code>--no-user-gesture-required\n</code></p>\n\n<p>The new default autoplay behaviour is also present in the Chrome browser on ChromeOS (currently in the beta channel). For Kiosk-apps running on ChromeOS there are no command line options, only configuration using the Manifest.json file.</p>\n\n<p>Currently there is no option in the documentation of the Manifest.json format that allows changing the autoplay policy. </p>\n\n<p>Is there a non documented way or a way outside the Manifest.json to change the new Chrome default autoplay policy in Kiosk apps?</p>\n"
        },
        {
            "tags": [
                "awk"
            ],
            "owner": {
                "reputation": 188,
                "user_id": 4571350,
                "user_type": "registered",
                "accept_rate": 70,
                "profile_image": "https://i.stack.imgur.com/gzLDL.jpg?s=128&g=1",
                "display_name": "Laetis",
                "link": "https://stackoverflow.com/users/4571350/laetis"
            },
            "is_answered": false,
            "view_count": 16,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524141810,
            "creation_date": 1524141723,
            "last_edit_date": 1524141810,
            "question_id": 49921421,
            "body_markdown": "I use awk to extract real values of a file and I need them to be write with a specific format. I read the printf manual part but are still not managing to do it.\r\nHere the format I need (the | are for reading purpose, imagine they are no there):\r\n\r\n    2space|1space or a -|number|.|4decimal|2space|1space or a -|number|.|4decimal\r\n\r\nCould you give me some tips?",
            "link": "https://stackoverflow.com/questions/49921421/how-to-use-printf-of-awk-for-fomatting-an-ouput-decimal-number",
            "title": "How to use printf of awk for fomatting an ouput decimal number",
            "body": "<p>I use awk to extract real values of a file and I need them to be write with a specific format. I read the printf manual part but are still not managing to do it.\nHere the format I need (the | are for reading purpose, imagine they are no there):</p>\n\n<pre><code>2space|1space or a -|number|.|4decimal|2space|1space or a -|number|.|4decimal\n</code></pre>\n\n<p>Could you give me some tips?</p>\n"
        },
        {
            "tags": [
                "c++",
                "operator-overloading",
                "language-lawyer"
            ],
            "owner": {
                "reputation": 1137,
                "user_id": 411165,
                "user_type": "registered",
                "accept_rate": 78,
                "profile_image": "https://i.stack.imgur.com/YYrH2.jpg?s=128&g=1",
                "display_name": "Ayrosa",
                "link": "https://stackoverflow.com/users/411165/ayrosa"
            },
            "is_answered": true,
            "view_count": 112,
            "answer_count": 1,
            "score": 4,
            "last_activity_date": 1524141803,
            "creation_date": 1524085597,
            "question_id": 49909016,
            "body_markdown": "[\\[over.sub\\]/1][1]\r\n\r\nExample:\r\n\r\n    struct X {\r\n        Z operator[](std::initializer_list&lt;int&gt;);\r\n    };\r\n    X x;\r\n    x[{1,2,3}] = 7; // OK: meaning x.operator[]({1,2,3})\r\n    int a[10];\r\n    a[{1,2,3}] = 7; // error: built-in subscript operator\r\n\r\nWhat is `Z` in the operator[] declaration?  \r\nWhat is the probable meaning of the expression `x[{1,2,3}] = 7;` ?\r\n  [1]: http://eel.is/c++draft/over.sub#1",
            "link": "https://stackoverflow.com/questions/49909016/what-is-the-meaning-of-the-subscript-operator-used-in-the-example-in-over-sub",
            "title": "What is the meaning of the subscript operator used in the example in [over.sub]/1?",
            "body": "<p><a href=\"http://eel.is/c++draft/over.sub#1\" rel=\"nofollow noreferrer\">[over.sub]/1</a></p>\n\n<p>Example:</p>\n\n<pre><code>struct X {\n    Z operator[](std::initializer_list&lt;int&gt;);\n};\nX x;\nx[{1,2,3}] = 7; // OK: meaning x.operator[]({1,2,3})\nint a[10];\na[{1,2,3}] = 7; // error: built-in subscript operator\n</code></pre>\n\n<p>What is <code>Z</code> in the operator[] declaration?<br>\nWhat is the probable meaning of the expression <code>x[{1,2,3}] = 7;</code> ?</p>\n"
        },
        {
            "tags": [
                "scala",
                "list",
                "apache-spark"
            ],
            "owner": {
                "reputation": 30,
                "user_id": 8513639,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/e39b72c5c61179c14516456e2c081bb5?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chaouki",
                "link": "https://stackoverflow.com/users/8513639/chaouki"
            },
            "is_answered": false,
            "view_count": 50,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524141800,
            "creation_date": 1524136420,
            "last_edit_date": 1524140710,
            "question_id": 49919691,
            "body_markdown": "I have a path that contains subpath ,each subpath contains files \r\n      \r\n          path=&quot;/data&quot;\r\n\r\nI implemented tow function to get csv files from each sub path\r\n\r\n          def getListOfSubDirectories(directoryName: String): Array[String] = {\r\n      (new File(directoryName))\r\n        .listFiles\r\n        .filter(_.isDirectory)\r\n        .map(_.getName)\r\n    }\r\n          def getListOfFiles(dir: String, extensions: List[String]): List[File] = {\r\n      val d = new File(dir)\r\n      d.listFiles.filter(_.isFile).toList.filter { file =&gt;\r\n        extensions.exists(file.getName.endsWith(_))\r\n      }\r\n    }\r\n\r\neach sub path contain 5 csv files : contextfile.csv,datafile.csv,datesfiles.csv,errors.csv,testfiles so my problem that i&#39;ll work with each file in a separate dataframe how I can get name of file for the right dataframe for example I want to get the name of files that concern context (i.e contextfile.csv). I worked like this but for each iteration the logic and the ranking in th List change\r\n\r\n      val dir=getListOfSubDirectories(path)\r\n      for (sup_path &lt;- dir)\r\n       { val Files = getListOfFiles(path + &quot;//&quot; + sup_path, List(&quot;.csv&quot;))\r\n      val filename_context = Files(1).toString\r\n      val filename_datavalue = Files(0).toString\r\n      val filename_error = Files(3).toString\r\n      val filename_testresult = Files(4).toString\r\n} \r\n\r\nany help and thanks\r\n",
            "link": "https://stackoverflow.com/questions/49919691/how-get-element-from-list-based-on-its-name",
            "title": "how get element from List based on its name?",
            "body": "<p>I have a path that contains subpath ,each subpath contains files </p>\n\n<pre><code>      path=\"/data\"\n</code></pre>\n\n<p>I implemented tow function to get csv files from each sub path</p>\n\n<pre><code>      def getListOfSubDirectories(directoryName: String): Array[String] = {\n  (new File(directoryName))\n    .listFiles\n    .filter(_.isDirectory)\n    .map(_.getName)\n}\n      def getListOfFiles(dir: String, extensions: List[String]): List[File] = {\n  val d = new File(dir)\n  d.listFiles.filter(_.isFile).toList.filter { file =&gt;\n    extensions.exists(file.getName.endsWith(_))\n  }\n}\n</code></pre>\n\n<p>each sub path contain 5 csv files : contextfile.csv,datafile.csv,datesfiles.csv,errors.csv,testfiles so my problem that i'll work with each file in a separate dataframe how I can get name of file for the right dataframe for example I want to get the name of files that concern context (i.e contextfile.csv). I worked like this but for each iteration the logic and the ranking in th List change</p>\n\n<pre><code>  val dir=getListOfSubDirectories(path)\n  for (sup_path &lt;- dir)\n   { val Files = getListOfFiles(path + \"//\" + sup_path, List(\".csv\"))\n  val filename_context = Files(1).toString\n  val filename_datavalue = Files(0).toString\n  val filename_error = Files(3).toString\n  val filename_testresult = Files(4).toString\n</code></pre>\n\n<p>} </p>\n\n<p>any help and thanks</p>\n"
        },
        {
            "tags": [
                "amazon-web-services",
                "webrtc",
                "kurento"
            ],
            "owner": {
                "reputation": 22,
                "user_id": 7300256,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/5d2e4e608bef4a0e0cd58f70083d796c?s=128&d=identicon&r=PG",
                "display_name": "ouiouiouioui",
                "link": "https://stackoverflow.com/users/7300256/ouiouiouioui"
            },
            "is_answered": false,
            "view_count": 26,
            "answer_count": 0,
            "score": 2,
            "last_activity_date": 1524141799,
            "creation_date": 1524141799,
            "question_id": 49921450,
            "body_markdown": "I would like to create webrtc to hlt.\r\nUsing Wawza is a good solution, but I cannot manage it.\r\nI want to use aws eternal medialive.\r\nI caught up with a solution with kurento mediaserver that converts webrtc to rtp and, aws converts rtp to  htl.\r\n\r\nIs it possible to create a below architecture.\r\n\r\nbrowser =&gt; kurento (WebrtcEndpoint) =&gt; kurento(rtpEndpoint) =&gt; aws eternal medialive. \r\n",
            "link": "https://stackoverflow.com/questions/49921450/webrtc-to-rtp-to-hls-with-kurento-and-aws-elemental-medialive",
            "title": "webrtc to rtp to hls with kurento and AWS Elemental MediaLive",
            "body": "<p>I would like to create webrtc to hlt.\nUsing Wawza is a good solution, but I cannot manage it.\nI want to use aws eternal medialive.\nI caught up with a solution with kurento mediaserver that converts webrtc to rtp and, aws converts rtp to  htl.</p>\n\n<p>Is it possible to create a below architecture.</p>\n\n<p>browser => kurento (WebrtcEndpoint) => kurento(rtpEndpoint) => aws eternal medialive. </p>\n"
        },
        {
            "tags": [
                "mongodb",
                "aggregation-framework"
            ],
            "owner": {
                "reputation": 18,
                "user_id": 8059354,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/10154620179823097/picture?type=large",
                "display_name": "Frej H&#229;kansson",
                "link": "https://stackoverflow.com/users/8059354/frej-h%c3%a5kansson"
            },
            "is_answered": false,
            "view_count": 35,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524141798,
            "creation_date": 1524122676,
            "last_edit_date": 1524141798,
            "question_id": 49915075,
            "body_markdown": "After doing some aggregation on my data Im left with the following data:\r\n\r\n    {\r\n    &quot;_id&quot; : {\r\n        &quot;incomeAccountName&quot; : &quot;Kaffe/Te&quot;,\r\n        &quot;type&quot; : &quot;REFUND&quot;\r\n    },\r\n    &quot;amounts&quot; : [ \r\n        [ \r\n            {\r\n                &quot;amount&quot; : -78.0,\r\n                &quot;currency&quot; : &quot;SEK&quot;\r\n            }\r\n        ], \r\n        [ \r\n            {\r\n                &quot;amount&quot; : -34.0,\r\n                &quot;currency&quot; : &quot;SEK&quot;\r\n            }\r\n        ]\r\n    ],\r\n    &quot;items&quot; : [ \r\n        {\r\n            &quot;name&quot; : &quot;Latte mellan&quot;,\r\n            &quot;amounts&quot; : [ \r\n                {\r\n                    &quot;amount&quot; : -78.0,\r\n                    &quot;currency&quot; : &quot;SEK&quot;\r\n                }\r\n            ],\r\n            &quot;taxAmounts&quot; : [ \r\n                {\r\n                    &quot;amount&quot; : -8.35714626312256,\r\n                    &quot;currency&quot; : &quot;SEK&quot;\r\n                }\r\n            ],\r\n            &quot;quantity&quot; : -2.0,\r\n            &quot;itemType&quot; : &quot;ARTICLE&quot;\r\n        }, \r\n        {\r\n            &quot;name&quot; : &quot;Bryggkaffe&quot;,\r\n            &quot;amounts&quot; : [ \r\n                {\r\n                    &quot;amount&quot; : -34.0,\r\n                    &quot;currency&quot; : &quot;SEK&quot;\r\n                }\r\n            ],\r\n            &quot;taxAmounts&quot; : [ \r\n                {\r\n                    &quot;amount&quot; : -3.64285850524902,\r\n                    &quot;currency&quot; : &quot;SEK&quot;\r\n                }\r\n            ],\r\n            &quot;quantity&quot; : -1.0,\r\n            &quot;itemType&quot; : &quot;ARTICLE&quot;\r\n        }\r\n    ]\r\n    }\r\n\r\nNow I want to reduce amounts to:\r\n\r\n    amounts: [\r\n               {\r\n                 &quot;amount&quot;:-112,\r\n                 &quot;currency&quot;:&quot;SEK&quot;\r\n               }\r\n             ]\r\n\r\nThat is, calculate sum/currency. Notice we could have multiple currencies. What is the best approach to do this with aggregations without affecting the rest of the data set? I am using mongo 3.4.\r\n\r\nThe original data looks like:\r\n\r\n        [{\r\n        &quot;_id&quot; : ObjectId(&quot;5ac1e43e24cc2974c7cda7a9&quot;),\r\n        &quot;alias&quot; : &quot;d89135d0-1067-46a9-92f3-44b1c4373612&quot;,\r\n        &quot;billAlias&quot; : &quot;439d2e1c-0e7b-4521-960f-2bf87de90044&quot;,\r\n        &quot;status&quot; : &quot;COMPLETE&quot;,\r\n        &quot;type&quot; : &quot;PAYMENT&quot;,\r\n        &quot;started&quot; : ISODate(&quot;2018-04-02T08:05:17.937Z&quot;),\r\n        &quot;completed&quot; : ISODate(&quot;2018-04-02T08:05:17.937Z&quot;),\r\n        &quot;merchant&quot; : {\r\n            &quot;merchantId&quot; : &quot;110b5def-3516-484a-9dc0-1fb9326488b0&quot;,\r\n            &quot;terminalId&quot; : &quot;951321001&quot;,\r\n            &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n            &quot;placeAlias&quot; : &quot;20939de7-34bc-47a7-b04e-0df4864271ee&quot;,\r\n            &quot;menuAlias&quot; : &quot;a3ac290d-a2b8-4e59-aea4-bbdf7106f2a2&quot;\r\n        },\r\n        &quot;currency&quot; : &quot;SEK&quot;,\r\n        &quot;orderRows&quot; : [ \r\n            {\r\n                &quot;name&quot; : &quot;Soppbuff&#233; 98kr&quot;,\r\n                &quot;itemType&quot; : &quot;ARTICLE&quot;,\r\n                &quot;group&quot; : &quot;Varm Mat&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Kall/varm mat&quot;,\r\n                &quot;articleId&quot; : &quot;56aca26a-18ae-4079-8968-dd9cd3066168&quot;,\r\n                &quot;extArticleId&quot; : &quot;1662&quot;,\r\n                &quot;amount&quot; : 98.0,\r\n                &quot;amountInclDiscount&quot; : 88.1999969482422,\r\n                &quot;singleAmount&quot; : 98.0,\r\n                &quot;vatPercent&quot; : 12.0,\r\n                &quot;vatAmount&quot; : 10.5000038146973,\r\n                &quot;vatAmountInclDiscount&quot; : 9.4500036239624,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n                &quot;createdAt&quot; : ISODate(&quot;2018-04-02T10:04:56.056Z&quot;)\r\n            }, \r\n            {\r\n                &quot;name&quot; : &quot;Studentrabatt 10%&quot;,\r\n                &quot;itemType&quot; : &quot;DISCOUNT&quot;,\r\n                &quot;group&quot; : &quot;RABATT&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Rabatt/Discount&quot;,\r\n                &quot;amount&quot; : -9.80000019073486,\r\n                &quot;amountInclDiscount&quot; : -9.80000019073486,\r\n                &quot;singleAmount&quot; : -9.80000019073486,\r\n                &quot;vatPercent&quot; : 0.0,\r\n                &quot;vatAmount&quot; : -1.05000042915344,\r\n                &quot;vatAmountInclDiscount&quot; : -1.05000042915344,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;discountPercent&quot; : 10.0\r\n            }\r\n        ]\r\n    },{\r\n        &quot;_id&quot; : ObjectId(&quot;5ac1e44224cc2974c7cda7ab&quot;),\r\n        &quot;alias&quot; : &quot;696ff805-0a43-4904-b1bc-f46847b4ab67&quot;,\r\n        &quot;billAlias&quot; : &quot;dc49c822-6d74-4c70-80a7-aa5106666817&quot;,\r\n        &quot;status&quot; : &quot;COMPLETE&quot;,\r\n        &quot;type&quot; : &quot;PAYMENT&quot;,\r\n        &quot;started&quot; : ISODate(&quot;2018-04-02T08:05:21.998Z&quot;),\r\n        &quot;completed&quot; : ISODate(&quot;2018-04-02T08:05:21.998Z&quot;),\r\n        &quot;merchant&quot; : {\r\n            &quot;merchantId&quot; : &quot;110b5def-3516-484a-9dc0-1fb9326488b0&quot;,\r\n            &quot;terminalId&quot; : &quot;951321003&quot;,\r\n            &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n            &quot;placeAlias&quot; : &quot;20939de7-34bc-47a7-b04e-0df4864271ee&quot;,\r\n            &quot;menuAlias&quot; : &quot;a3ac290d-a2b8-4e59-aea4-bbdf7106f2a2&quot;\r\n        },\r\n        &quot;currency&quot; : &quot;SEK&quot;,\r\n        &quot;orderRows&quot; : [ \r\n            {\r\n                &quot;name&quot; : &quot;Soppbuff&#233; 98kr&quot;,\r\n                &quot;itemType&quot; : &quot;ARTICLE&quot;,\r\n                &quot;group&quot; : &quot;Varm Mat&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Kall/varm mat&quot;,\r\n                &quot;articleId&quot; : &quot;56aca26a-18ae-4079-8968-dd9cd3066168&quot;,\r\n                &quot;extArticleId&quot; : &quot;1662&quot;,\r\n                &quot;amount&quot; : 98.0,\r\n                &quot;amountInclDiscount&quot; : 88.1999969482422,\r\n                &quot;singleAmount&quot; : 98.0,\r\n                &quot;vatPercent&quot; : 12.0,\r\n                &quot;vatAmount&quot; : 10.5000038146973,\r\n                &quot;vatAmountInclDiscount&quot; : 9.4500036239624,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n                &quot;createdAt&quot; : ISODate(&quot;2018-04-02T10:05:05.005Z&quot;)\r\n            }, \r\n            {\r\n                &quot;name&quot; : &quot;Studentrabatt 10%&quot;,\r\n                &quot;itemType&quot; : &quot;DISCOUNT&quot;,\r\n                &quot;group&quot; : &quot;RABATT&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Rabatt/Discount&quot;,\r\n                &quot;amount&quot; : -9.80000019073486,\r\n                &quot;amountInclDiscount&quot; : -9.80000019073486,\r\n                &quot;singleAmount&quot; : -9.80000019073486,\r\n                &quot;vatPercent&quot; : 0.0,\r\n                &quot;vatAmount&quot; : -1.05000042915344,\r\n                &quot;vatAmountInclDiscount&quot; : -1.05000042915344,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;discountPercent&quot; : 10.0\r\n            }\r\n        ]\r\n    },{\r\n        &quot;_id&quot; : ObjectId(&quot;5ac1e4a424cc2974c7cda7bd&quot;),\r\n        &quot;alias&quot; : &quot;f14f13a5-6f16-41ef-ac57-a511f394bf32&quot;,\r\n        &quot;billAlias&quot; : &quot;04522348-d48d-4273-a511-09035666ced9&quot;,\r\n        &quot;status&quot; : &quot;COMPLETE&quot;,\r\n        &quot;type&quot; : &quot;PAYMENT&quot;,\r\n        &quot;started&quot; : ISODate(&quot;2018-04-02T08:07:00.618Z&quot;),\r\n        &quot;completed&quot; : ISODate(&quot;2018-04-02T08:07:00.618Z&quot;),\r\n        &quot;merchant&quot; : {\r\n            &quot;merchantId&quot; : &quot;110b5def-3516-484a-9dc0-1fb9326488b0&quot;,\r\n            &quot;terminalId&quot; : &quot;951321001&quot;,\r\n            &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n            &quot;placeAlias&quot; : &quot;20939de7-34bc-47a7-b04e-0df4864271ee&quot;,\r\n            &quot;menuAlias&quot; : &quot;a3ac290d-a2b8-4e59-aea4-bbdf7106f2a2&quot;\r\n        },\r\n        &quot;currency&quot; : &quot;SEK&quot;,\r\n        &quot;orderRows&quot; : [ \r\n            {\r\n                &quot;name&quot; : &quot;Ch&#233;vre Honey&quot;,\r\n                &quot;itemType&quot; : &quot;ARTICLE&quot;,\r\n                &quot;group&quot; : &quot;Kall Mat&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Kall/varm mat&quot;,\r\n                &quot;articleId&quot; : &quot;d8e49d26-30b8-4237-96ef-07bea2961537&quot;,\r\n                &quot;extArticleId&quot; : &quot;1636&quot;,\r\n                &quot;amount&quot; : 99.0,\r\n                &quot;amountInclDiscount&quot; : 89.0999984741211,\r\n                &quot;singleAmount&quot; : 99.0,\r\n                &quot;vatPercent&quot; : 12.0,\r\n                &quot;vatAmount&quot; : 10.6071472167969,\r\n                &quot;vatAmountInclDiscount&quot; : 9.54643249511719,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n                &quot;createdAt&quot; : ISODate(&quot;2018-04-02T10:05:59.059Z&quot;)\r\n            }, \r\n            {\r\n                &quot;name&quot; : &quot;Bryggkaffe&quot;,\r\n                &quot;itemType&quot; : &quot;ARTICLE&quot;,\r\n                &quot;group&quot; : &quot;Varma drycker&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Kaffe/Te&quot;,\r\n                &quot;articleId&quot; : &quot;36672f69-6ac5-419e-a195-b3b0fcdf63b6&quot;,\r\n                &quot;extArticleId&quot; : &quot;1608&quot;,\r\n                &quot;amount&quot; : 34.0,\r\n                &quot;amountInclDiscount&quot; : 30.6000003814697,\r\n                &quot;singleAmount&quot; : 34.0,\r\n                &quot;vatPercent&quot; : 12.0,\r\n                &quot;vatAmount&quot; : 3.64285850524902,\r\n                &quot;vatAmountInclDiscount&quot; : 3.27857279777527,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;cashierId&quot; : &quot;598c22920cf27724adf035fa&quot;,\r\n                &quot;createdAt&quot; : ISODate(&quot;2018-04-02T10:06:23.023Z&quot;)\r\n            }, \r\n            {\r\n                &quot;name&quot; : &quot;Studentrabatt 10%&quot;,\r\n                &quot;itemType&quot; : &quot;DISCOUNT&quot;,\r\n                &quot;group&quot; : &quot;RABATT&quot;,\r\n                &quot;incomeAccountName&quot; : &quot;Rabatt/Discount&quot;,\r\n                &quot;amount&quot; : -13.3000001907349,\r\n                &quot;amountInclDiscount&quot; : -13.3000001907349,\r\n                &quot;singleAmount&quot; : -13.3000001907349,\r\n                &quot;vatPercent&quot; : 0.0,\r\n                &quot;vatAmount&quot; : -1.42500054836273,\r\n                &quot;vatAmountInclDiscount&quot; : -1.42500054836273,\r\n                &quot;itemCount&quot; : 1.0,\r\n                &quot;ignoreDiscount&quot; : false,\r\n                &quot;discountPercent&quot; : 10.0\r\n            }\r\n        ]\r\n    }]\r\n\r\nMy current aggregation pipeline looks like:\r\n\r\n    db.getCollection(&#39;orders&#39;).aggregate([\r\n    \t{$match: {&quot;merchant.merchantId&quot;: &quot;110b5def-3516-484a-9dc0-1fb9326488b0&quot;, status: &quot;COMPLETE&quot;,completed : {$gte:  ISODate(&quot;2018-04-02T00:46:12.331Z&quot;), $lte: ISODate(&quot;2018-04-12T10:46:12.331Z&quot;)}}},\r\n    \t{$addFields: {&quot;orderRows.discountName&quot;: {$arrayElemAt: [ {$filter: {input: &quot;$orderRows&quot;,as: &quot;orderRow&quot;,cond: { $eq:[&#39;$$orderRow.itemType&#39;,&#39;DISCOUNT&#39;] }}},0]}}},\r\n    \t{$project: {currency:1,type:1, orderRows: {$map: {input: &#39;$orderRows&#39;, as:&#39;orderRow&#39;, in : {$cond: [{ &#39;$eq&#39;: [ &#39;$$orderRow.discountName&#39;, undefined ] }, [&#39;$$orderRow&#39;], [&#39;$$orderRow&#39;,{name:&#39;$$orderRow.discountName.name&#39;,amount:{$subtract: [ &#39;$$orderRow.amountInclDiscount&#39;, &#39;$$orderRow.amount&#39; ]},vatAmount:{$subtract: [ &#39;$$orderRow.vatAmountInclDiscount&#39;, &#39;$$orderRow.vatAmount&#39; ]},incomeAccountName:{$concat:[&#39;$$orderRow.incomeAccountName&#39;,&#39; - Rabatt&#39;]},itemType:&#39;$$orderRow.itemType&#39;,itemCount:1.0}]]}}}}},\r\n    \t{$unwind : &#39;$orderRows&#39;},\r\n    \t{$project: {currency:1,type:1, orderRows: {$filter: {input: &quot;$orderRows&quot;,as: &quot;orderRow&quot;,cond: { $ne:[&#39;$$orderRow.itemType&#39;,&#39;DISCOUNT&#39;] }}} }},\r\n    \t{$unwind : &#39;$orderRows&#39;},\r\n    \t{$group : {_id: {incomeAccountName:&#39;$orderRows.incomeAccountName&#39;,currency:&#39;$currency&#39;,articleName:&#39;$orderRows.name&#39;,type:&#39;$type&#39;},itemType:{$max:&#39;$orderRows.itemType&#39;},amount:{$sum:&#39;$orderRows.amount&#39;},taxAmount:{$sum:&#39;$orderRows.vatAmount&#39;},quantity:{$sum:&#39;$orderRows.itemCount&#39;}}},\r\n    \t{$group : {_id: {incomeAccountName:&#39;$_id.incomeAccountName&#39;,articleName:&#39;$_id.articleName&#39;,type:&#39;$_id.type&#39;},itemType:{$max:&#39;$itemType&#39;},quantity:{$max:&#39;$quantity&#39;},amounts:{$push:{amount:&#39;$amount&#39;,currency:&#39;$_id.currency&#39;}},taxAmounts:{$push:{amount:&#39;$taxAmount&#39;,currency:&#39;$_id.currency&#39;}}}},\r\n    \t{$group : {_id: {incomeAccountName:&#39;$_id.incomeAccountName&#39;,type:&#39;$_id.type&#39;},amounts:{$push:{amount:{$sum:&#39;$amounts.amount&#39;},currency:&#39;$amounts.currency&#39;}},items:{$push:{name:&#39;$_id.articleName&#39;,amounts:&#39;$amounts&#39;,taxAmounts:&#39;$taxAmounts&#39;,quantity:&#39;$quantity&#39;,itemType:&#39;$itemType&#39;}}}},\r\n    ])",
            "link": "https://stackoverflow.com/questions/49915075/mongo-aggregation-best-approach",
            "title": "Mongo aggregation best approach",
            "body": "<p>After doing some aggregation on my data Im left with the following data:</p>\n\n<pre><code>{\n\"_id\" : {\n    \"incomeAccountName\" : \"Kaffe/Te\",\n    \"type\" : \"REFUND\"\n},\n\"amounts\" : [ \n    [ \n        {\n            \"amount\" : -78.0,\n            \"currency\" : \"SEK\"\n        }\n    ], \n    [ \n        {\n            \"amount\" : -34.0,\n            \"currency\" : \"SEK\"\n        }\n    ]\n],\n\"items\" : [ \n    {\n        \"name\" : \"Latte mellan\",\n        \"amounts\" : [ \n            {\n                \"amount\" : -78.0,\n                \"currency\" : \"SEK\"\n            }\n        ],\n        \"taxAmounts\" : [ \n            {\n                \"amount\" : -8.35714626312256,\n                \"currency\" : \"SEK\"\n            }\n        ],\n        \"quantity\" : -2.0,\n        \"itemType\" : \"ARTICLE\"\n    }, \n    {\n        \"name\" : \"Bryggkaffe\",\n        \"amounts\" : [ \n            {\n                \"amount\" : -34.0,\n                \"currency\" : \"SEK\"\n            }\n        ],\n        \"taxAmounts\" : [ \n            {\n                \"amount\" : -3.64285850524902,\n                \"currency\" : \"SEK\"\n            }\n        ],\n        \"quantity\" : -1.0,\n        \"itemType\" : \"ARTICLE\"\n    }\n]\n}\n</code></pre>\n\n<p>Now I want to reduce amounts to:</p>\n\n<pre><code>amounts: [\n           {\n             \"amount\":-112,\n             \"currency\":\"SEK\"\n           }\n         ]\n</code></pre>\n\n<p>That is, calculate sum/currency. Notice we could have multiple currencies. What is the best approach to do this with aggregations without affecting the rest of the data set? I am using mongo 3.4.</p>\n\n<p>The original data looks like:</p>\n\n<pre><code>    [{\n    \"_id\" : ObjectId(\"5ac1e43e24cc2974c7cda7a9\"),\n    \"alias\" : \"d89135d0-1067-46a9-92f3-44b1c4373612\",\n    \"billAlias\" : \"439d2e1c-0e7b-4521-960f-2bf87de90044\",\n    \"status\" : \"COMPLETE\",\n    \"type\" : \"PAYMENT\",\n    \"started\" : ISODate(\"2018-04-02T08:05:17.937Z\"),\n    \"completed\" : ISODate(\"2018-04-02T08:05:17.937Z\"),\n    \"merchant\" : {\n        \"merchantId\" : \"110b5def-3516-484a-9dc0-1fb9326488b0\",\n        \"terminalId\" : \"951321001\",\n        \"cashierId\" : \"598c22920cf27724adf035fa\",\n        \"placeAlias\" : \"20939de7-34bc-47a7-b04e-0df4864271ee\",\n        \"menuAlias\" : \"a3ac290d-a2b8-4e59-aea4-bbdf7106f2a2\"\n    },\n    \"currency\" : \"SEK\",\n    \"orderRows\" : [ \n        {\n            \"name\" : \"Soppbuffé 98kr\",\n            \"itemType\" : \"ARTICLE\",\n            \"group\" : \"Varm Mat\",\n            \"incomeAccountName\" : \"Kall/varm mat\",\n            \"articleId\" : \"56aca26a-18ae-4079-8968-dd9cd3066168\",\n            \"extArticleId\" : \"1662\",\n            \"amount\" : 98.0,\n            \"amountInclDiscount\" : 88.1999969482422,\n            \"singleAmount\" : 98.0,\n            \"vatPercent\" : 12.0,\n            \"vatAmount\" : 10.5000038146973,\n            \"vatAmountInclDiscount\" : 9.4500036239624,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"cashierId\" : \"598c22920cf27724adf035fa\",\n            \"createdAt\" : ISODate(\"2018-04-02T10:04:56.056Z\")\n        }, \n        {\n            \"name\" : \"Studentrabatt 10%\",\n            \"itemType\" : \"DISCOUNT\",\n            \"group\" : \"RABATT\",\n            \"incomeAccountName\" : \"Rabatt/Discount\",\n            \"amount\" : -9.80000019073486,\n            \"amountInclDiscount\" : -9.80000019073486,\n            \"singleAmount\" : -9.80000019073486,\n            \"vatPercent\" : 0.0,\n            \"vatAmount\" : -1.05000042915344,\n            \"vatAmountInclDiscount\" : -1.05000042915344,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"discountPercent\" : 10.0\n        }\n    ]\n},{\n    \"_id\" : ObjectId(\"5ac1e44224cc2974c7cda7ab\"),\n    \"alias\" : \"696ff805-0a43-4904-b1bc-f46847b4ab67\",\n    \"billAlias\" : \"dc49c822-6d74-4c70-80a7-aa5106666817\",\n    \"status\" : \"COMPLETE\",\n    \"type\" : \"PAYMENT\",\n    \"started\" : ISODate(\"2018-04-02T08:05:21.998Z\"),\n    \"completed\" : ISODate(\"2018-04-02T08:05:21.998Z\"),\n    \"merchant\" : {\n        \"merchantId\" : \"110b5def-3516-484a-9dc0-1fb9326488b0\",\n        \"terminalId\" : \"951321003\",\n        \"cashierId\" : \"598c22920cf27724adf035fa\",\n        \"placeAlias\" : \"20939de7-34bc-47a7-b04e-0df4864271ee\",\n        \"menuAlias\" : \"a3ac290d-a2b8-4e59-aea4-bbdf7106f2a2\"\n    },\n    \"currency\" : \"SEK\",\n    \"orderRows\" : [ \n        {\n            \"name\" : \"Soppbuffé 98kr\",\n            \"itemType\" : \"ARTICLE\",\n            \"group\" : \"Varm Mat\",\n            \"incomeAccountName\" : \"Kall/varm mat\",\n            \"articleId\" : \"56aca26a-18ae-4079-8968-dd9cd3066168\",\n            \"extArticleId\" : \"1662\",\n            \"amount\" : 98.0,\n            \"amountInclDiscount\" : 88.1999969482422,\n            \"singleAmount\" : 98.0,\n            \"vatPercent\" : 12.0,\n            \"vatAmount\" : 10.5000038146973,\n            \"vatAmountInclDiscount\" : 9.4500036239624,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"cashierId\" : \"598c22920cf27724adf035fa\",\n            \"createdAt\" : ISODate(\"2018-04-02T10:05:05.005Z\")\n        }, \n        {\n            \"name\" : \"Studentrabatt 10%\",\n            \"itemType\" : \"DISCOUNT\",\n            \"group\" : \"RABATT\",\n            \"incomeAccountName\" : \"Rabatt/Discount\",\n            \"amount\" : -9.80000019073486,\n            \"amountInclDiscount\" : -9.80000019073486,\n            \"singleAmount\" : -9.80000019073486,\n            \"vatPercent\" : 0.0,\n            \"vatAmount\" : -1.05000042915344,\n            \"vatAmountInclDiscount\" : -1.05000042915344,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"discountPercent\" : 10.0\n        }\n    ]\n},{\n    \"_id\" : ObjectId(\"5ac1e4a424cc2974c7cda7bd\"),\n    \"alias\" : \"f14f13a5-6f16-41ef-ac57-a511f394bf32\",\n    \"billAlias\" : \"04522348-d48d-4273-a511-09035666ced9\",\n    \"status\" : \"COMPLETE\",\n    \"type\" : \"PAYMENT\",\n    \"started\" : ISODate(\"2018-04-02T08:07:00.618Z\"),\n    \"completed\" : ISODate(\"2018-04-02T08:07:00.618Z\"),\n    \"merchant\" : {\n        \"merchantId\" : \"110b5def-3516-484a-9dc0-1fb9326488b0\",\n        \"terminalId\" : \"951321001\",\n        \"cashierId\" : \"598c22920cf27724adf035fa\",\n        \"placeAlias\" : \"20939de7-34bc-47a7-b04e-0df4864271ee\",\n        \"menuAlias\" : \"a3ac290d-a2b8-4e59-aea4-bbdf7106f2a2\"\n    },\n    \"currency\" : \"SEK\",\n    \"orderRows\" : [ \n        {\n            \"name\" : \"Chévre Honey\",\n            \"itemType\" : \"ARTICLE\",\n            \"group\" : \"Kall Mat\",\n            \"incomeAccountName\" : \"Kall/varm mat\",\n            \"articleId\" : \"d8e49d26-30b8-4237-96ef-07bea2961537\",\n            \"extArticleId\" : \"1636\",\n            \"amount\" : 99.0,\n            \"amountInclDiscount\" : 89.0999984741211,\n            \"singleAmount\" : 99.0,\n            \"vatPercent\" : 12.0,\n            \"vatAmount\" : 10.6071472167969,\n            \"vatAmountInclDiscount\" : 9.54643249511719,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"cashierId\" : \"598c22920cf27724adf035fa\",\n            \"createdAt\" : ISODate(\"2018-04-02T10:05:59.059Z\")\n        }, \n        {\n            \"name\" : \"Bryggkaffe\",\n            \"itemType\" : \"ARTICLE\",\n            \"group\" : \"Varma drycker\",\n            \"incomeAccountName\" : \"Kaffe/Te\",\n            \"articleId\" : \"36672f69-6ac5-419e-a195-b3b0fcdf63b6\",\n            \"extArticleId\" : \"1608\",\n            \"amount\" : 34.0,\n            \"amountInclDiscount\" : 30.6000003814697,\n            \"singleAmount\" : 34.0,\n            \"vatPercent\" : 12.0,\n            \"vatAmount\" : 3.64285850524902,\n            \"vatAmountInclDiscount\" : 3.27857279777527,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"cashierId\" : \"598c22920cf27724adf035fa\",\n            \"createdAt\" : ISODate(\"2018-04-02T10:06:23.023Z\")\n        }, \n        {\n            \"name\" : \"Studentrabatt 10%\",\n            \"itemType\" : \"DISCOUNT\",\n            \"group\" : \"RABATT\",\n            \"incomeAccountName\" : \"Rabatt/Discount\",\n            \"amount\" : -13.3000001907349,\n            \"amountInclDiscount\" : -13.3000001907349,\n            \"singleAmount\" : -13.3000001907349,\n            \"vatPercent\" : 0.0,\n            \"vatAmount\" : -1.42500054836273,\n            \"vatAmountInclDiscount\" : -1.42500054836273,\n            \"itemCount\" : 1.0,\n            \"ignoreDiscount\" : false,\n            \"discountPercent\" : 10.0\n        }\n    ]\n}]\n</code></pre>\n\n<p>My current aggregation pipeline looks like:</p>\n\n<pre><code>db.getCollection('orders').aggregate([\n    {$match: {\"merchant.merchantId\": \"110b5def-3516-484a-9dc0-1fb9326488b0\", status: \"COMPLETE\",completed : {$gte:  ISODate(\"2018-04-02T00:46:12.331Z\"), $lte: ISODate(\"2018-04-12T10:46:12.331Z\")}}},\n    {$addFields: {\"orderRows.discountName\": {$arrayElemAt: [ {$filter: {input: \"$orderRows\",as: \"orderRow\",cond: { $eq:['$$orderRow.itemType','DISCOUNT'] }}},0]}}},\n    {$project: {currency:1,type:1, orderRows: {$map: {input: '$orderRows', as:'orderRow', in : {$cond: [{ '$eq': [ '$$orderRow.discountName', undefined ] }, ['$$orderRow'], ['$$orderRow',{name:'$$orderRow.discountName.name',amount:{$subtract: [ '$$orderRow.amountInclDiscount', '$$orderRow.amount' ]},vatAmount:{$subtract: [ '$$orderRow.vatAmountInclDiscount', '$$orderRow.vatAmount' ]},incomeAccountName:{$concat:['$$orderRow.incomeAccountName',' - Rabatt']},itemType:'$$orderRow.itemType',itemCount:1.0}]]}}}}},\n    {$unwind : '$orderRows'},\n    {$project: {currency:1,type:1, orderRows: {$filter: {input: \"$orderRows\",as: \"orderRow\",cond: { $ne:['$$orderRow.itemType','DISCOUNT'] }}} }},\n    {$unwind : '$orderRows'},\n    {$group : {_id: {incomeAccountName:'$orderRows.incomeAccountName',currency:'$currency',articleName:'$orderRows.name',type:'$type'},itemType:{$max:'$orderRows.itemType'},amount:{$sum:'$orderRows.amount'},taxAmount:{$sum:'$orderRows.vatAmount'},quantity:{$sum:'$orderRows.itemCount'}}},\n    {$group : {_id: {incomeAccountName:'$_id.incomeAccountName',articleName:'$_id.articleName',type:'$_id.type'},itemType:{$max:'$itemType'},quantity:{$max:'$quantity'},amounts:{$push:{amount:'$amount',currency:'$_id.currency'}},taxAmounts:{$push:{amount:'$taxAmount',currency:'$_id.currency'}}}},\n    {$group : {_id: {incomeAccountName:'$_id.incomeAccountName',type:'$_id.type'},amounts:{$push:{amount:{$sum:'$amounts.amount'},currency:'$amounts.currency'}},items:{$push:{name:'$_id.articleName',amounts:'$amounts',taxAmounts:'$taxAmounts',quantity:'$quantity',itemType:'$itemType'}}}},\n])\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "selenium",
                "selenium-webdriver"
            ],
            "owner": {
                "reputation": 25,
                "user_id": 8730724,
                "user_type": "registered",
                "accept_rate": 62,
                "profile_image": "https://www.gravatar.com/avatar/a665a087ec9f79fec2f025079494858b?s=128&d=identicon&r=PG&f=1",
                "display_name": "vipul gangwar",
                "link": "https://stackoverflow.com/users/8730724/vipul-gangwar"
            },
            "is_answered": true,
            "view_count": 160,
            "accepted_answer_id": 48368054,
            "answer_count": 2,
            "score": -2,
            "last_activity_date": 1524141794,
            "creation_date": 1516545807,
            "last_edit_date": 1516581627,
            "question_id": 48368002,
            "body_markdown": "Actually I want to run my selenium code on server where dont want open the any browser. But I am confused which webdriver is use for the server which do all task (where I download some files from some site and store in my server).",
            "link": "https://stackoverflow.com/questions/48368002/which-drivers-support-no-browser-headless-testing",
            "title": "Which drivers support &quot;no-browser&quot;/&quot;headless&quot; testing?",
            "body": "<p>Actually I want to run my selenium code on server where dont want open the any browser. But I am confused which webdriver is use for the server which do all task (where I download some files from some site and store in my server).</p>\n"
        },
        {
            "tags": [
                "php",
                "google-calendar"
            ],
            "owner": {
                "reputation": 110,
                "user_id": 3698469,
                "user_type": "registered",
                "accept_rate": 68,
                "profile_image": "https://i.stack.imgur.com/HkY7W.jpg?s=128&g=1",
                "display_name": "sumit",
                "link": "https://stackoverflow.com/users/3698469/sumit"
            },
            "is_answered": false,
            "view_count": 20,
            "closed_date": 1524142167,
            "answer_count": 0,
            "score": -5,
            "last_activity_date": 1524141789,
            "creation_date": 1524141789,
            "question_id": 49921448,
            "body_markdown": "I want that whenever an order is placed on my website, a new event with the details of that order will get created in my personal Google Calendar.\r\n\r\nI have gone through so many threads, but they all are showing consent screen. I don&#39;t need consent screen as the process is running on server side, just simple event creation every time on order placement into my calendar. ",
            "link": "https://stackoverflow.com/questions/49921448/create-event-in-google-calendar-programmatically-via-php",
            "closed_reason": "duplicate",
            "title": "Create event in Google Calendar programmatically via PHP",
            "body": "<p>I want that whenever an order is placed on my website, a new event with the details of that order will get created in my personal Google Calendar.</p>\n\n<p>I have gone through so many threads, but they all are showing consent screen. I don't need consent screen as the process is running on server side, just simple event creation every time on order placement into my calendar. </p>\n"
        }
    ],
    "has_more": true,
    "quota_max": 300,
    "quota_remaining": 8
}
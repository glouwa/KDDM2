{
    "items": [
        {
            "tags": [
                "r",
                "gtable"
            ],
            "owner": {
                "reputation": 10289,
                "user_id": 216064,
                "user_type": "registered",
                "accept_rate": 98,
                "profile_image": "https://www.gravatar.com/avatar/cbcf93f99e92daced1e5611c2e7b5290?s=128&d=identicon&r=PG",
                "display_name": "Karsten W.",
                "link": "https://stackoverflow.com/users/216064/karsten-w"
            },
            "is_answered": false,
            "view_count": 42,
            "answer_count": 0,
            "score": 3,
            "last_activity_date": 1524601838,
            "creation_date": 1524601488,
            "last_edit_date": 1524601838,
            "question_id": 50010228,
            "body_markdown": "When I try to adapt the example from the [vignette](https://cran.r-project.org/web/packages/gridExtra/vignettes/tableGrob.html) to `gridExtra`, namely\r\n\r\n\tg &lt;- tableGrob(iris[1:4, 1:3])\r\n\tg &lt;- gtable_add_grob(g,\r\n\t\t\tgrobs = grobTree(\r\n\t\t\t\tsegmentsGrob( # diagonal line ul -&gt; lr\r\n\t\t\t\t\tx0 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\ty0 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\tx1 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\ty1 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\tgp = gpar(lwd = 2.0)),\r\n\t\t\t\tsegmentsGrob( # diagonal line ll -&gt; ur\r\n\t\t\t\t\tx0 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\ty0 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\tx1 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\ty1 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\tgp = gpar(lwd = 2.0))),\r\n\t\t\tt = 3, b = 3, l = 3, r = 3\r\n\t\t)\r\n\tgrid.draw(g)\r\n\r\n[![Result of vignette code][1]][1]\r\n\r\nto my dataset, which does not have row names or column names, no cross appears: \r\n\r\n\tg &lt;- tableGrob(iris[1:4, 1:3], rows=NULL, cols=NULL) # the only line that is changed\r\n\tg &lt;- gtable_add_grob(g,\r\n\t\t\tgrobs = grobTree(\r\n\t\t\t\tsegmentsGrob( # diagonal line ul -&gt; lr\r\n\t\t\t\t\tx0 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\ty0 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\tx1 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\ty1 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\tgp = gpar(lwd = 2.0)),\r\n\t\t\t\tsegmentsGrob( # diagonal line ll -&gt; ur\r\n\t\t\t\t\tx0 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\ty0 = unit(0,&quot;npc&quot;),\r\n\t\t\t\t\tx1 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\ty1 = unit(1,&quot;npc&quot;),\r\n\t\t\t\t\tgp = gpar(lwd = 2.0))),\r\n\t\t\tt = 3, b = 3, l = 3, r = 3\r\n\t\t)\r\n\tgrid.draw(g)\r\n\r\n[![slightly adapted][2]][2]\r\n\r\nI am stuck. Any help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lM6Cu.png\r\n  [2]: https://i.stack.imgur.com/tNsUh.png",
            "link": "https://stackoverflow.com/questions/50010228/how-do-i-cross-a-cell-in-a-table-without-names",
            "title": "How do I &quot;cross&quot; a cell in a table without names",
            "body": "<p>When I try to adapt the example from the <a href=\"https://cran.r-project.org/web/packages/gridExtra/vignettes/tableGrob.html\" rel=\"nofollow noreferrer\">vignette</a> to <code>gridExtra</code>, namely</p>\n\n<pre><code>g &lt;- tableGrob(iris[1:4, 1:3])\ng &lt;- gtable_add_grob(g,\n        grobs = grobTree(\n            segmentsGrob( # diagonal line ul -&gt; lr\n                x0 = unit(0,\"npc\"),\n                y0 = unit(1,\"npc\"),\n                x1 = unit(1,\"npc\"),\n                y1 = unit(0,\"npc\"),\n                gp = gpar(lwd = 2.0)),\n            segmentsGrob( # diagonal line ll -&gt; ur\n                x0 = unit(0,\"npc\"),\n                y0 = unit(0,\"npc\"),\n                x1 = unit(1,\"npc\"),\n                y1 = unit(1,\"npc\"),\n                gp = gpar(lwd = 2.0))),\n        t = 3, b = 3, l = 3, r = 3\n    )\ngrid.draw(g)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lM6Cu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lM6Cu.png\" alt=\"Result of vignette code\"></a></p>\n\n<p>to my dataset, which does not have row names or column names, no cross appears: </p>\n\n<pre><code>g &lt;- tableGrob(iris[1:4, 1:3], rows=NULL, cols=NULL) # the only line that is changed\ng &lt;- gtable_add_grob(g,\n        grobs = grobTree(\n            segmentsGrob( # diagonal line ul -&gt; lr\n                x0 = unit(0,\"npc\"),\n                y0 = unit(1,\"npc\"),\n                x1 = unit(1,\"npc\"),\n                y1 = unit(0,\"npc\"),\n                gp = gpar(lwd = 2.0)),\n            segmentsGrob( # diagonal line ll -&gt; ur\n                x0 = unit(0,\"npc\"),\n                y0 = unit(0,\"npc\"),\n                x1 = unit(1,\"npc\"),\n                y1 = unit(1,\"npc\"),\n                gp = gpar(lwd = 2.0))),\n        t = 3, b = 3, l = 3, r = 3\n    )\ngrid.draw(g)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tNsUh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNsUh.png\" alt=\"slightly adapted\"></a></p>\n\n<p>I am stuck. Any help?</p>\n"
        },
        {
            "tags": [
                "jquery",
                "html",
                "ajax"
            ],
            "owner": {
                "reputation": 369,
                "user_id": 4322337,
                "user_type": "registered",
                "accept_rate": 75,
                "profile_image": "https://www.gravatar.com/avatar/41670b4cf839c9ff6bc5cfac9bc633e2?s=128&d=identicon&r=PG&f=1",
                "display_name": "rilent",
                "link": "https://stackoverflow.com/users/4322337/rilent"
            },
            "is_answered": false,
            "view_count": 27,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524601834,
            "creation_date": 1524601834,
            "question_id": 50010293,
            "body_markdown": "I would like to implement a download counter so that everytimes an user click on the download button, the download number value in the form increments.\r\n\r\nHere is my button declaration:\r\n\r\n    &lt;a id=&#39;id&#39; onclick=&#39;Increment()&#39; href=&#39;/folder/&quot;+rfilename+&quot;&#39; download&gt;&lt;/a&gt;\r\n\r\nHere is the label I want modify :\r\n\r\n    &lt;label id = &#39;dlCounter&#39;&gt;&lt;b&gt; Number of Downloads : 0&lt;/b&gt;&lt;/label&gt;\r\n\r\nHere is my function : \r\n\r\n      &lt;script&gt;\r\n      function Increment()\r\n      {\r\n        var downloadCounter = $(&quot;#dlCounter&quot;).text(); //get current value\r\n        var number = downloadCounter.replace( /^\\D+/g, &#39;&#39;); //remove non digits\r\n        var number = parseInt(number); \r\n        number = number+1;\r\n        var string = &quot;Number of Downloads : &quot;+number;\r\n        $(&quot;#dlCounter&quot;).text(string);\r\n        $(&quot;#dlCounter&quot;).css(&quot;font-weight&quot;,&quot;Bold&quot;);\r\n        \r\n       //send modifications to the server\r\n        $.ajax({\r\n            type: &#39;POST&#39;,\r\n            url: &#39;{$action}&#39;,\r\n            data: $(&#39;#dlCounter&#39;).serialize(),\r\n            success: function(d) {\r\n              console.log(&quot;Successful&quot;, d);\r\n            },\r\n          error: function() {\r\n            console.log(&quot;Unsuccessful&quot;);\r\n          }\r\n       });\r\n        \r\n      }\r\n    &lt;/script&gt;\r\n\r\n\r\nThe counter is actually incrementing but it is only in local, once I close the windows and go back to the form, the value reset to 0, how can I send my modifications to the server at every click? \r\n\r\nI thought the ajax part would do it but It is not working. Yet when I look at my console, I get the successful message followed by my whole form code (the d variable).\r\n\r\nwhat am I missing?\r\n\r\nI assume It would be preferable to store this value in a database, but everything is saved in the form.\r\n",
            "link": "https://stackoverflow.com/questions/50010293/how-to-save-the-modifications-on-the-server",
            "title": "how to save the modifications on the server",
            "body": "<p>I would like to implement a download counter so that everytimes an user click on the download button, the download number value in the form increments.</p>\n\n<p>Here is my button declaration:</p>\n\n<pre><code>&lt;a id='id' onclick='Increment()' href='/folder/\"+rfilename+\"' download&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Here is the label I want modify :</p>\n\n<pre><code>&lt;label id = 'dlCounter'&gt;&lt;b&gt; Number of Downloads : 0&lt;/b&gt;&lt;/label&gt;\n</code></pre>\n\n<p>Here is my function : </p>\n\n<pre><code>  &lt;script&gt;\n  function Increment()\n  {\n    var downloadCounter = $(\"#dlCounter\").text(); //get current value\n    var number = downloadCounter.replace( /^\\D+/g, ''); //remove non digits\n    var number = parseInt(number); \n    number = number+1;\n    var string = \"Number of Downloads : \"+number;\n    $(\"#dlCounter\").text(string);\n    $(\"#dlCounter\").css(\"font-weight\",\"Bold\");\n\n   //send modifications to the server\n    $.ajax({\n        type: 'POST',\n        url: '{$action}',\n        data: $('#dlCounter').serialize(),\n        success: function(d) {\n          console.log(\"Successful\", d);\n        },\n      error: function() {\n        console.log(\"Unsuccessful\");\n      }\n   });\n\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>The counter is actually incrementing but it is only in local, once I close the windows and go back to the form, the value reset to 0, how can I send my modifications to the server at every click? </p>\n\n<p>I thought the ajax part would do it but It is not working. Yet when I look at my console, I get the successful message followed by my whole form code (the d variable).</p>\n\n<p>what am I missing?</p>\n\n<p>I assume It would be preferable to store this value in a database, but everything is saved in the form.</p>\n"
        },
        {
            "tags": [
                "android",
                "gradle"
            ],
            "owner": {
                "reputation": 1047,
                "user_id": 3183924,
                "user_type": "registered",
                "accept_rate": 89,
                "profile_image": "https://www.gravatar.com/avatar/5e9d0e2a47aea15d63e369970b921cca?s=128&d=identicon&r=PG&f=1",
                "display_name": "Paradox",
                "link": "https://stackoverflow.com/users/3183924/paradox"
            },
            "is_answered": true,
            "view_count": 77,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524601820,
            "creation_date": 1524597323,
            "question_id": 50009286,
            "body_markdown": "I&#39;m getting an error in my app-level build.gradle where on the first support library I am using, it tells me that all com.android.support libraries must use the exact same version specification and that it&#39;s found versions 27.1.1 and 26.0.2.  In my app-level build.gradle, there is no line using 26.1.0.  Also, all `compile` statements have been changed to `implementation`, the `compileSdkVersion` is 27 and the `targetSdkVersion` is 27.  To attempt to find the culprit, I ran:\r\n\r\n    ./gradlew -q dependencies app:dependencies --configuration debugAndroidTestCompileClasspath\r\n\r\nAnd got the following output:\r\n\r\n    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\r\n    \r\n    ------------------------------------------------------------\r\n    Root project\r\n    ------------------------------------------------------------\r\n    \r\n    No configurations\r\n    \r\n    ------------------------------------------------------------\r\n    Project :app\r\n    ------------------------------------------------------------\r\n    \r\n    debugAndroidTestCompileClasspath - Resolved configuration for compilation for variant: debugAndroidTest\r\n    +--- com.android.support.test:runner:1.0.1\r\n    |    +--- com.android.support:support-annotations:25.4.0 -&gt; 27.1.1\r\n    |    +--- junit:junit:4.12\r\n    |    |    \\--- org.hamcrest:hamcrest-core:1.3\r\n    |    \\--- net.sf.kxml:kxml2:2.3.0\r\n    +--- com.android.support.test.espresso:espresso-core:3.0.1\r\n    |    +--- com.android.support.test:runner:1.0.1 (*)\r\n    |    +--- com.android.support.test:rules:1.0.1\r\n    |    |    \\--- com.android.support.test:runner:1.0.1 (*)\r\n    |    +--- com.android.support.test.espresso:espresso-idling-resource:3.0.1\r\n    |    +--- com.squareup:javawriter:2.1.1\r\n    |    +--- javax.inject:javax.inject:1\r\n    |    +--- org.hamcrest:hamcrest-library:1.3\r\n    |    |    \\--- org.hamcrest:hamcrest-core:1.3\r\n    |    +--- org.hamcrest:hamcrest-integration:1.3\r\n    |    |    \\--- org.hamcrest:hamcrest-library:1.3 (*)\r\n    |    \\--- com.google.code.findbugs:jsr305:2.0.1\r\n    +--- com.android.support:appcompat-v7:27.1.1\r\n    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    +--- com.android.support:support-core-utils:27.1.1\r\n    |    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    |    \\--- com.android.support:support-compat:27.1.1\r\n    |    |         +--- com.android.support:support-annotations:27.1.1\r\n    |    |         \\--- android.arch.lifecycle:runtime:1.1.0\r\n    |    |              +--- android.arch.lifecycle:common:1.1.0\r\n    |    |              \\--- android.arch.core:common:1.1.0\r\n    |    +--- com.android.support:support-fragment:27.1.1\r\n    |    |    +--- com.android.support:support-compat:27.1.1 (*)\r\n    |    |    +--- com.android.support:support-core-ui:27.1.1\r\n    |    |    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    |    |    +--- com.android.support:support-compat:27.1.1 (*)\r\n    |    |    |    \\--- com.android.support:support-core-utils:27.1.1 (*)\r\n    |    |    +--- com.android.support:support-core-utils:27.1.1 (*)\r\n    |    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    |    +--- android.arch.lifecycle:livedata-core:1.1.0\r\n    |    |    |    +--- android.arch.lifecycle:common:1.1.0\r\n    |    |    |    +--- android.arch.core:common:1.1.0\r\n    |    |    |    \\--- android.arch.core:runtime:1.1.0\r\n    |    |    |         \\--- android.arch.core:common:1.1.0\r\n    |    |    \\--- android.arch.lifecycle:viewmodel:1.1.0\r\n    |    +--- com.android.support:support-vector-drawable:27.1.1\r\n    |    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    |    \\--- com.android.support:support-compat:27.1.1 (*)\r\n    |    \\--- com.android.support:animated-vector-drawable:27.1.1\r\n    |         +--- com.android.support:support-vector-drawable:27.1.1 (*)\r\n    |         \\--- com.android.support:support-core-ui:27.1.1 (*)\r\n    +--- com.android.support:design:27.1.1\r\n    |    +--- com.android.support:support-v4:27.1.1\r\n    |    |    +--- com.android.support:support-compat:27.1.1 (*)\r\n    |    |    +--- com.android.support:support-media-compat:27.1.1\r\n    |    |    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    |    |    \\--- com.android.support:support-compat:27.1.1 (*)\r\n    |    |    +--- com.android.support:support-core-utils:27.1.1 (*)\r\n    |    |    +--- com.android.support:support-core-ui:27.1.1 (*)\r\n    |    |    \\--- com.android.support:support-fragment:27.1.1 (*)\r\n    |    +--- com.android.support:appcompat-v7:27.1.1 (*)\r\n    |    +--- com.android.support:recyclerview-v7:27.1.1\r\n    |    |    +--- com.android.support:support-annotations:27.1.1\r\n    |    |    +--- com.android.support:support-compat:27.1.1 (*)\r\n    |    |    \\--- com.android.support:support-core-ui:27.1.1 (*)\r\n    |    \\--- com.android.support:transition:27.1.1\r\n    |         +--- com.android.support:support-annotations:27.1.1\r\n    |         \\--- com.android.support:support-compat:27.1.1 (*)\r\n    +--- com.android.support.constraint:constraint-layout:1.1.0\r\n    |    \\--- com.android.support.constraint:constraint-layout-solver:1.1.0\r\n    +--- com.android.support:support-vector-drawable:27.1.1 (*)\r\n    +--- com.android.support:support-v4:27.1.1 (*)\r\n    +--- com.android.support:cardview-v7:27.1.1\r\n    |    \\--- com.android.support:support-annotations:27.1.1\r\n    +--- com.android.support:recyclerview-v7:27.1.1 (*)\r\n    +--- com.google.android.gms:play-services-ads:15.0.0\r\n    |    +--- com.android.support:customtabs:26.1.0\r\n    |    |    +--- com.android.support:support-compat:26.1.0 -&gt; 27.1.1 (*)\r\n    |    |    \\--- com.android.support:support-annotations:26.1.0 -&gt; 27.1.1\r\n    |    +--- com.google.android.gms:play-services-ads-base:[15.0.0] -&gt; 15.0.0\r\n    |    +--- com.google.android.gms:play-services-ads-identifier:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |    |    \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |    |         \\--- com.android.support:support-v4:26.1.0 -&gt; 27.1.1 (*)\r\n    |    +--- com.google.android.gms:play-services-ads-lite:[15.0.0] -&gt; 15.0.0\r\n    |    |    +--- com.google.android.gms:play-services-ads-base:[15.0.0] -&gt; 15.0.0\r\n    |    |    \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    \\--- com.google.android.gms:play-services-gass:[15.0.0] -&gt; 15.0.0\r\n    |         +--- com.google.android.gms:play-services-ads-base:[15.0.0] -&gt; 15.0.0\r\n    |         \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    +--- com.google.firebase:firebase-core:15.0.0\r\n    |    \\--- com.google.firebase:firebase-analytics:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |         +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         +--- com.google.android.gms:play-services-measurement-base:[15.0.0] -&gt; 15.0.0\r\n    |         +--- com.google.android.gms:play-services-stats:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |         |    \\--- com.google.android.gms:play-services-basement:[15.0.0] -&gt; 15.0.0 (*)\r\n    |         +--- com.google.firebase:firebase-analytics-impl:[15.0.0] -&gt; 15.0.0\r\n    |         |    +--- com.google.android.gms:play-services-ads-identifier:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |    +--- com.google.android.gms:play-services-measurement-base:[15.0.0] -&gt; 15.0.0\r\n    |         |    +--- com.google.android.gms:play-services-stats:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |    +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |         |    |    \\--- com.google.android.gms:play-services-basement:[15.0.0] -&gt; 15.0.0 (*)\r\n    |         |    +--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |         |    |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |    |    \\--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |    \\--- com.google.firebase:firebase-iid:[15.0.0] -&gt; 15.0.0\r\n    |         |         +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |         +--- com.google.android.gms:play-services-measurement-base:[15.0.0] -&gt; 15.0.0\r\n    |         |         +--- com.google.android.gms:play-services-stats:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |         +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         |         \\--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         \\--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    +--- com.google.firebase:firebase-database:15.0.0\r\n    |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.firebase:firebase-database-collection:[15.0.0,16.0.0) -&gt; 15.0.0\r\n    |    |    \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    \\--- com.google.firebase:firebase-database-connection:[15.0.0] -&gt; 15.0.0\r\n    |         +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         +--- com.google.firebase:firebase-analytics:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |         \\--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    +--- com.google.firebase:firebase-firestore:15.0.0\r\n    |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.firebase:firebase-analytics:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    +--- com.google.firebase:firebase-database-collection:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\r\n    |    \\--- com.squareup.okhttp:okhttp:2.7.2\r\n    |         \\--- com.squareup.okio:okio:1.6.0\r\n    +--- com.aurelhubert:ahbottomnavigation:2.1.0\r\n    |    \\--- com.android.support:design:25.3.1 -&gt; 27.1.1 (*)\r\n    +--- com.github.bumptech.glide:glide:4.5.0\r\n    |    +--- com.github.bumptech.glide:gifdecoder:4.5.0\r\n    |    |    \\--- com.android.support:support-annotations:27.0.2 -&gt; 27.1.1\r\n    |    +--- com.github.bumptech.glide:disklrucache:4.5.0\r\n    |    +--- com.github.bumptech.glide:annotations:4.5.0\r\n    |    \\--- com.android.support:support-fragment:27.0.2 -&gt; 27.1.1 (*)\r\n    +--- de.hdodenhof:circleimageview:2.2.0\r\n    +--- me.tankery.lib:circularSeekBar:1.1.4\r\n    +--- com.github.fiskurgit:ChipCloud:3.0.5\r\n    |    \\--- com.android.support:appcompat-v7:25.1.1 -&gt; 27.1.1 (*)\r\n    \\--- com.google.android:flexbox:0.3.2\r\n    \r\n    (*) - dependencies omitted (listed previously)\r\n\r\n\r\nHere it shows that `com.android.support:customtabs:26.1.0` in `com.google.android.gms:play-services-ads:15.0.0` is using 26.1.0 but in the drilldown it has `-&gt; 27.1.1 (*)` which I&#39;m assuming means that it&#39;s using 27.1.1 instead?  I&#39;m getting the same thing from `com.android.support:support-v4:26.1.0` in play-services.  What could be causing this error?",
            "link": "https://stackoverflow.com/questions/50009286/gradle-mixing-versions-27-1-1-and-26-1-0",
            "title": "Gradle mixing versions 27.1.1 and 26.1.0",
            "body": "<p>I'm getting an error in my app-level build.gradle where on the first support library I am using, it tells me that all com.android.support libraries must use the exact same version specification and that it's found versions 27.1.1 and 26.0.2.  In my app-level build.gradle, there is no line using 26.1.0.  Also, all <code>compile</code> statements have been changed to <code>implementation</code>, the <code>compileSdkVersion</code> is 27 and the <code>targetSdkVersion</code> is 27.  To attempt to find the culprit, I ran:</p>\n\n<pre><code>./gradlew -q dependencies app:dependencies --configuration debugAndroidTestCompileClasspath\n</code></pre>\n\n<p>And got the following output:</p>\n\n<pre><code>registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\n\n------------------------------------------------------------\nRoot project\n------------------------------------------------------------\n\nNo configurations\n\n------------------------------------------------------------\nProject :app\n------------------------------------------------------------\n\ndebugAndroidTestCompileClasspath - Resolved configuration for compilation for variant: debugAndroidTest\n+--- com.android.support.test:runner:1.0.1\n|    +--- com.android.support:support-annotations:25.4.0 -&gt; 27.1.1\n|    +--- junit:junit:4.12\n|    |    \\--- org.hamcrest:hamcrest-core:1.3\n|    \\--- net.sf.kxml:kxml2:2.3.0\n+--- com.android.support.test.espresso:espresso-core:3.0.1\n|    +--- com.android.support.test:runner:1.0.1 (*)\n|    +--- com.android.support.test:rules:1.0.1\n|    |    \\--- com.android.support.test:runner:1.0.1 (*)\n|    +--- com.android.support.test.espresso:espresso-idling-resource:3.0.1\n|    +--- com.squareup:javawriter:2.1.1\n|    +--- javax.inject:javax.inject:1\n|    +--- org.hamcrest:hamcrest-library:1.3\n|    |    \\--- org.hamcrest:hamcrest-core:1.3\n|    +--- org.hamcrest:hamcrest-integration:1.3\n|    |    \\--- org.hamcrest:hamcrest-library:1.3 (*)\n|    \\--- com.google.code.findbugs:jsr305:2.0.1\n+--- com.android.support:appcompat-v7:27.1.1\n|    +--- com.android.support:support-annotations:27.1.1\n|    +--- com.android.support:support-core-utils:27.1.1\n|    |    +--- com.android.support:support-annotations:27.1.1\n|    |    \\--- com.android.support:support-compat:27.1.1\n|    |         +--- com.android.support:support-annotations:27.1.1\n|    |         \\--- android.arch.lifecycle:runtime:1.1.0\n|    |              +--- android.arch.lifecycle:common:1.1.0\n|    |              \\--- android.arch.core:common:1.1.0\n|    +--- com.android.support:support-fragment:27.1.1\n|    |    +--- com.android.support:support-compat:27.1.1 (*)\n|    |    +--- com.android.support:support-core-ui:27.1.1\n|    |    |    +--- com.android.support:support-annotations:27.1.1\n|    |    |    +--- com.android.support:support-compat:27.1.1 (*)\n|    |    |    \\--- com.android.support:support-core-utils:27.1.1 (*)\n|    |    +--- com.android.support:support-core-utils:27.1.1 (*)\n|    |    +--- com.android.support:support-annotations:27.1.1\n|    |    +--- android.arch.lifecycle:livedata-core:1.1.0\n|    |    |    +--- android.arch.lifecycle:common:1.1.0\n|    |    |    +--- android.arch.core:common:1.1.0\n|    |    |    \\--- android.arch.core:runtime:1.1.0\n|    |    |         \\--- android.arch.core:common:1.1.0\n|    |    \\--- android.arch.lifecycle:viewmodel:1.1.0\n|    +--- com.android.support:support-vector-drawable:27.1.1\n|    |    +--- com.android.support:support-annotations:27.1.1\n|    |    \\--- com.android.support:support-compat:27.1.1 (*)\n|    \\--- com.android.support:animated-vector-drawable:27.1.1\n|         +--- com.android.support:support-vector-drawable:27.1.1 (*)\n|         \\--- com.android.support:support-core-ui:27.1.1 (*)\n+--- com.android.support:design:27.1.1\n|    +--- com.android.support:support-v4:27.1.1\n|    |    +--- com.android.support:support-compat:27.1.1 (*)\n|    |    +--- com.android.support:support-media-compat:27.1.1\n|    |    |    +--- com.android.support:support-annotations:27.1.1\n|    |    |    \\--- com.android.support:support-compat:27.1.1 (*)\n|    |    +--- com.android.support:support-core-utils:27.1.1 (*)\n|    |    +--- com.android.support:support-core-ui:27.1.1 (*)\n|    |    \\--- com.android.support:support-fragment:27.1.1 (*)\n|    +--- com.android.support:appcompat-v7:27.1.1 (*)\n|    +--- com.android.support:recyclerview-v7:27.1.1\n|    |    +--- com.android.support:support-annotations:27.1.1\n|    |    +--- com.android.support:support-compat:27.1.1 (*)\n|    |    \\--- com.android.support:support-core-ui:27.1.1 (*)\n|    \\--- com.android.support:transition:27.1.1\n|         +--- com.android.support:support-annotations:27.1.1\n|         \\--- com.android.support:support-compat:27.1.1 (*)\n+--- com.android.support.constraint:constraint-layout:1.1.0\n|    \\--- com.android.support.constraint:constraint-layout-solver:1.1.0\n+--- com.android.support:support-vector-drawable:27.1.1 (*)\n+--- com.android.support:support-v4:27.1.1 (*)\n+--- com.android.support:cardview-v7:27.1.1\n|    \\--- com.android.support:support-annotations:27.1.1\n+--- com.android.support:recyclerview-v7:27.1.1 (*)\n+--- com.google.android.gms:play-services-ads:15.0.0\n|    +--- com.android.support:customtabs:26.1.0\n|    |    +--- com.android.support:support-compat:26.1.0 -&gt; 27.1.1 (*)\n|    |    \\--- com.android.support:support-annotations:26.1.0 -&gt; 27.1.1\n|    +--- com.google.android.gms:play-services-ads-base:[15.0.0] -&gt; 15.0.0\n|    +--- com.google.android.gms:play-services-ads-identifier:[15.0.0,16.0.0) -&gt; 15.0.0\n|    |    \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0\n|    |         \\--- com.android.support:support-v4:26.1.0 -&gt; 27.1.1 (*)\n|    +--- com.google.android.gms:play-services-ads-lite:[15.0.0] -&gt; 15.0.0\n|    |    +--- com.google.android.gms:play-services-ads-base:[15.0.0] -&gt; 15.0.0\n|    |    \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    \\--- com.google.android.gms:play-services-gass:[15.0.0] -&gt; 15.0.0\n|         +--- com.google.android.gms:play-services-ads-base:[15.0.0] -&gt; 15.0.0\n|         \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n+--- com.google.firebase:firebase-core:15.0.0\n|    \\--- com.google.firebase:firebase-analytics:[15.0.0,16.0.0) -&gt; 15.0.0\n|         +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         +--- com.google.android.gms:play-services-measurement-base:[15.0.0] -&gt; 15.0.0\n|         +--- com.google.android.gms:play-services-stats:[15.0.0,16.0.0) -&gt; 15.0.0\n|         |    \\--- com.google.android.gms:play-services-basement:[15.0.0] -&gt; 15.0.0 (*)\n|         +--- com.google.firebase:firebase-analytics-impl:[15.0.0] -&gt; 15.0.0\n|         |    +--- com.google.android.gms:play-services-ads-identifier:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |    +--- com.google.android.gms:play-services-measurement-base:[15.0.0] -&gt; 15.0.0\n|         |    +--- com.google.android.gms:play-services-stats:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |    +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0\n|         |    |    \\--- com.google.android.gms:play-services-basement:[15.0.0] -&gt; 15.0.0 (*)\n|         |    +--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0\n|         |    |    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |    |    \\--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |    \\--- com.google.firebase:firebase-iid:[15.0.0] -&gt; 15.0.0\n|         |         +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |         +--- com.google.android.gms:play-services-measurement-base:[15.0.0] -&gt; 15.0.0\n|         |         +--- com.google.android.gms:play-services-stats:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |         +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         |         \\--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         \\--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n+--- com.google.firebase:firebase-database:15.0.0\n|    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.firebase:firebase-database-collection:[15.0.0,16.0.0) -&gt; 15.0.0\n|    |    \\--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    \\--- com.google.firebase:firebase-database-connection:[15.0.0] -&gt; 15.0.0\n|         +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         +--- com.google.firebase:firebase-analytics:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|         \\--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n+--- com.google.firebase:firebase-firestore:15.0.0\n|    +--- com.google.android.gms:play-services-basement:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.android.gms:play-services-tasks:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.firebase:firebase-analytics:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.firebase:firebase-common:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    +--- com.google.firebase:firebase-database-collection:[15.0.0,16.0.0) -&gt; 15.0.0 (*)\n|    \\--- com.squareup.okhttp:okhttp:2.7.2\n|         \\--- com.squareup.okio:okio:1.6.0\n+--- com.aurelhubert:ahbottomnavigation:2.1.0\n|    \\--- com.android.support:design:25.3.1 -&gt; 27.1.1 (*)\n+--- com.github.bumptech.glide:glide:4.5.0\n|    +--- com.github.bumptech.glide:gifdecoder:4.5.0\n|    |    \\--- com.android.support:support-annotations:27.0.2 -&gt; 27.1.1\n|    +--- com.github.bumptech.glide:disklrucache:4.5.0\n|    +--- com.github.bumptech.glide:annotations:4.5.0\n|    \\--- com.android.support:support-fragment:27.0.2 -&gt; 27.1.1 (*)\n+--- de.hdodenhof:circleimageview:2.2.0\n+--- me.tankery.lib:circularSeekBar:1.1.4\n+--- com.github.fiskurgit:ChipCloud:3.0.5\n|    \\--- com.android.support:appcompat-v7:25.1.1 -&gt; 27.1.1 (*)\n\\--- com.google.android:flexbox:0.3.2\n\n(*) - dependencies omitted (listed previously)\n</code></pre>\n\n<p>Here it shows that <code>com.android.support:customtabs:26.1.0</code> in <code>com.google.android.gms:play-services-ads:15.0.0</code> is using 26.1.0 but in the drilldown it has <code>-&gt; 27.1.1 (*)</code> which I'm assuming means that it's using 27.1.1 instead?  I'm getting the same thing from <code>com.android.support:support-v4:26.1.0</code> in play-services.  What could be causing this error?</p>\n"
        },
        {
            "tags": [
                "graph",
                "cypher",
                "gremlin"
            ],
            "owner": {
                "reputation": 11,
                "user_id": 8741546,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/7fac01072468257b88350ea931c9cd74?s=128&d=identicon&r=PG&f=1",
                "display_name": "L.Souhir",
                "link": "https://stackoverflow.com/users/8741546/l-souhir"
            },
            "is_answered": false,
            "view_count": 38,
            "answer_count": 1,
            "score": -1,
            "last_activity_date": 1524601815,
            "creation_date": 1523139081,
            "last_edit_date": 1524601815,
            "question_id": 49712451,
            "body_markdown": "I&#39;m doing a research about graph query languages and I considered that Gremlin is dedicated for traversal querying and Cypher is efficient and more easy, but I can&#39;t find a concrete example that differentiate them.\r\n\r\nCan some one give me some example of queries that we can do with Cypher and not with Gremlin or the opposite.\r\n\r\nThanks",
            "link": "https://stackoverflow.com/questions/49712451/cypher-and-gremlin-querying",
            "title": "Cypher and Gremlin querying",
            "body": "<p>I'm doing a research about graph query languages and I considered that Gremlin is dedicated for traversal querying and Cypher is efficient and more easy, but I can't find a concrete example that differentiate them.</p>\n\n<p>Can some one give me some example of queries that we can do with Cypher and not with Gremlin or the opposite.</p>\n\n<p>Thanks</p>\n"
        },
        {
            "tags": [
                "excel",
                "vba",
                "excel-vba"
            ],
            "owner": {
                "reputation": 8,
                "user_id": 9693177,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/Fzbxw.png?s=128&g=1",
                "display_name": "KyleGReportWriter",
                "link": "https://stackoverflow.com/users/9693177/kylegreportwriter"
            },
            "is_answered": true,
            "view_count": 23,
            "accepted_answer_id": 50010048,
            "answer_count": 2,
            "score": 1,
            "last_activity_date": 1524601801,
            "creation_date": 1524599741,
            "question_id": 50009835,
            "body_markdown": "I have a Button I want to assign a macro to that, when clicked, enters in the number 1 into a specific cell on another sheet within the same workbook. This macro needs to a) match the value in cell B8 to a range of values in another sheet column (G11:G110) and also b) match the value in cell C4 to a range of values in another sheet rows (L4:FR4). \r\n\r\nSo if the value in B8 = 01234 it will do a vlookup type function on G11:G110. Once it finds its match, it then looks at the value in C4 = &quot;Application&quot; and finds it match in L4:FR4. I should note that there are no duplicate values in any field and the values in L4:FR4 are static, whereas the values in cells G11:G110 change upon refresh. \r\n\r\nI have tried Select Case, If...And...Then... and the only thing I got to work was simply saying \r\nIf B8 = G11 Then blah blah L11\r\nIf B8 = G12 Then blah blah L12\r\n\r\n    Sub RectangleRoundedCorners1_Click()\r\n\r\n    Dim sourceSht As Worksheet: Set sourceSht = DataEntry\r\n    Dim destSht As Worksheet:   Set destSht = Labels\r\n    Dim Selection As Range:     Set Selection = DataEntry.Range(&quot;C5&quot;)&#39; This is the # 1 I was talking about&#39;\r\n    Dim Acct As Range:          Set Acct = DataEntry.Range(&quot;B8&quot;)\r\n    Dim SpecErr As Range:       Set SpecErr = DataEntry.Range(&quot;C4&quot;)\r\n\r\n    If (SpecErr.Value = Labels.Range(&quot;L4&quot;)) And (Acct.Value = Labels.Range(&quot;G11&quot;)) Then\r\n        Selection.Copy Destination:=Labels.Range(&quot;L11&quot;)\r\n    End If\r\n    If (SpecErr.Value = Labels.Range(&quot;M4&quot;)) And (Acct.Value = Labels.Range(&quot;G11&quot;)) Then\r\n        Selection.Copy Destination:=Labels.Range(&quot;M11&quot;)\r\n    End If\r\n    End Sub\r\n\r\nI ran out of space in the code doing it like this, as I need to go from L4 to FR4, and then do this 100 times by adjusting G11 to G12 &amp; L11 to L12 etc.\r\n\r\nThe sheet holding the main data and Button I called DataEntry, and the sheet that I need to lookup on and have the 1 entered on is called Labels.",
            "link": "https://stackoverflow.com/questions/50009835/vba-macro-to-fill-in-cell-based-on-2-different-fields-that-match-to-a-list-of-va",
            "title": "VBA macro to fill in cell based on 2 different fields that match to a list of values",
            "body": "<p>I have a Button I want to assign a macro to that, when clicked, enters in the number 1 into a specific cell on another sheet within the same workbook. This macro needs to a) match the value in cell B8 to a range of values in another sheet column (G11:G110) and also b) match the value in cell C4 to a range of values in another sheet rows (L4:FR4). </p>\n\n<p>So if the value in B8 = 01234 it will do a vlookup type function on G11:G110. Once it finds its match, it then looks at the value in C4 = \"Application\" and finds it match in L4:FR4. I should note that there are no duplicate values in any field and the values in L4:FR4 are static, whereas the values in cells G11:G110 change upon refresh. </p>\n\n<p>I have tried Select Case, If...And...Then... and the only thing I got to work was simply saying \nIf B8 = G11 Then blah blah L11\nIf B8 = G12 Then blah blah L12</p>\n\n<pre><code>Sub RectangleRoundedCorners1_Click()\n\nDim sourceSht As Worksheet: Set sourceSht = DataEntry\nDim destSht As Worksheet:   Set destSht = Labels\nDim Selection As Range:     Set Selection = DataEntry.Range(\"C5\")' This is the # 1 I was talking about'\nDim Acct As Range:          Set Acct = DataEntry.Range(\"B8\")\nDim SpecErr As Range:       Set SpecErr = DataEntry.Range(\"C4\")\n\nIf (SpecErr.Value = Labels.Range(\"L4\")) And (Acct.Value = Labels.Range(\"G11\")) Then\n    Selection.Copy Destination:=Labels.Range(\"L11\")\nEnd If\nIf (SpecErr.Value = Labels.Range(\"M4\")) And (Acct.Value = Labels.Range(\"G11\")) Then\n    Selection.Copy Destination:=Labels.Range(\"M11\")\nEnd If\nEnd Sub\n</code></pre>\n\n<p>I ran out of space in the code doing it like this, as I need to go from L4 to FR4, and then do this 100 times by adjusting G11 to G12 &amp; L11 to L12 etc.</p>\n\n<p>The sheet holding the main data and Button I called DataEntry, and the sheet that I need to lookup on and have the 1 entered on is called Labels.</p>\n"
        },
        {
            "tags": [
                "java",
                "macos",
                "autostart"
            ],
            "owner": {
                "reputation": 35414,
                "user_id": 111988,
                "user_type": "registered",
                "accept_rate": 74,
                "profile_image": "https://i.stack.imgur.com/fr2X6.jpg?s=128&g=1",
                "display_name": "Sunil Kumar Sahoo",
                "link": "https://stackoverflow.com/users/111988/sunil-kumar-sahoo"
            },
            "is_answered": true,
            "view_count": 3819,
            "accepted_answer_id": 1709423,
            "answer_count": 2,
            "score": 1,
            "last_activity_date": 1524601799,
            "creation_date": 1257857653,
            "last_edit_date": 1257931041,
            "question_id": 1707756,
            "body_markdown": "Hi I have created a sample java swing application Mac os. Now I want whenever I will start my computer then my java application will start automatically. \r\n\r\n\r\nThanks\r\nSunil Kumar Sahoo",
            "link": "https://stackoverflow.com/questions/1707756/how-to-auto-start-an-application-after-system-boot-up-in-mac-os",
            "title": "How to auto-start an application after system boot up in Mac os",
            "body": "<p>Hi I have created a sample java swing application Mac os. Now I want whenever I will start my computer then my java application will start automatically. </p>\n\n<p>Thanks\nSunil Kumar Sahoo</p>\n"
        },
        {
            "tags": [
                "bash",
                "macos"
            ],
            "owner": {
                "reputation": 1304,
                "user_id": 438186,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/87ce62532fa00d2fffcd93a0f772d87a?s=128&d=identicon&r=PG",
                "display_name": "podperson",
                "link": "https://stackoverflow.com/users/438186/podperson"
            },
            "is_answered": true,
            "view_count": 26,
            "accepted_answer_id": 50009021,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524601796,
            "creation_date": 1524591457,
            "last_edit_date": 1524595538,
            "question_id": 50007775,
            "body_markdown": "It appears that macOS now generates preview images for certain files (notably RAW image files) that are not custom icons but something else. (You can toggle them on/off in latish model macOS via &quot;show icon preview&quot; in Finder window &quot;Show View Options&quot;.)\r\n\r\nI&#39;d love to be able to either obtain these images or use the API that generates them but I&#39;m obviously googling the wrong terms. The usual APIs will get me the file icon (which is usually a generic document icon) and not the preview. The tricks for getting custom icons (e.g. .DS_Store etc.) do not apply.",
            "link": "https://stackoverflow.com/questions/50007775/api-or-other-method-for-accessing-finder-icon-preview-images",
            "title": "API or other method for accessing Finder icon preview images",
            "body": "<p>It appears that macOS now generates preview images for certain files (notably RAW image files) that are not custom icons but something else. (You can toggle them on/off in latish model macOS via \"show icon preview\" in Finder window \"Show View Options\".)</p>\n\n<p>I'd love to be able to either obtain these images or use the API that generates them but I'm obviously googling the wrong terms. The usual APIs will get me the file icon (which is usually a generic document icon) and not the preview. The tricks for getting custom icons (e.g. .DS_Store etc.) do not apply.</p>\n"
        },
        {
            "tags": [
                "css",
                "google-chrome",
                "media-queries",
                "mobile-safari"
            ],
            "owner": {
                "reputation": 34,
                "user_id": 3561123,
                "user_type": "registered",
                "accept_rate": 40,
                "profile_image": "https://www.gravatar.com/avatar/f9dd726a70cbe4f0094c2dd1f8403cf3?s=128&d=identicon&r=PG&f=1",
                "display_name": "user3561123",
                "link": "https://stackoverflow.com/users/3561123/user3561123"
            },
            "is_answered": false,
            "view_count": 257,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524601793,
            "creation_date": 1514323090,
            "last_edit_date": 1524601793,
            "question_id": 47983795,
            "body_markdown": "I recently updated my personal website at www.glennphilp.com and when I visit using an Android mobile or iPhone the chrome of a browser cause undesired height issue (see the following screenshot).\r\n\r\nIs the solution to use device-height and specifically target only the phones that cause the issue? That does seem like an unnecessary evil. Also, I have been unable to reproduce this outside of physical phones, so I can&#39;t really diagnose the issue. Any advice would be appreciated.\r\n\r\nIssue\r\n\r\n[![Screenshot of GlennPhilp.com, with words Merry Christmas and Continue being cut-off][1]][1]\r\n\r\n\r\nExpected\r\n\r\n[![Screenshot of GlennPhilp.com, rendering correctly without words being cut-off][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IzdbJ.png\r\n  [2]: https://i.stack.imgur.com/KNd7u.png",
            "link": "https://stackoverflow.com/questions/47983795/browser-chrome-causing-height-issue-in-ios-and-android-is-there-a-fix",
            "title": "Browser chrome causing height issue in iOS and Android, is there a FIX?",
            "body": "<p>I recently updated my personal website at www.glennphilp.com and when I visit using an Android mobile or iPhone the chrome of a browser cause undesired height issue (see the following screenshot).</p>\n\n<p>Is the solution to use device-height and specifically target only the phones that cause the issue? That does seem like an unnecessary evil. Also, I have been unable to reproduce this outside of physical phones, so I can't really diagnose the issue. Any advice would be appreciated.</p>\n\n<p>Issue</p>\n\n<p><a href=\"https://i.stack.imgur.com/IzdbJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IzdbJ.png\" alt=\"Screenshot of GlennPhilp.com, with words Merry Christmas and Continue being cut-off\"></a></p>\n\n<p>Expected</p>\n\n<p><a href=\"https://i.stack.imgur.com/KNd7u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KNd7u.png\" alt=\"Screenshot of GlennPhilp.com, rendering correctly without words being cut-off\"></a></p>\n"
        },
        {
            "tags": [
                "c#"
            ],
            "owner": {
                "reputation": 4170,
                "user_id": 2093880,
                "user_type": "registered",
                "accept_rate": 72,
                "profile_image": "https://i.stack.imgur.com/bCbK7.jpg?s=128&g=1",
                "display_name": "usefulBee",
                "link": "https://stackoverflow.com/users/2093880/usefulbee"
            },
            "is_answered": true,
            "view_count": 72,
            "accepted_answer_id": 33815204,
            "answer_count": 3,
            "score": -1,
            "last_activity_date": 1524601787,
            "creation_date": 1447970549,
            "question_id": 33815166,
            "body_markdown": "    \r\nThe code sample below will throw &quot;Not All Paths Return a Value &quot;\r\n\r\n       public static Validation Validate()\r\n        {\r\n           Validation invalid = new Validation()\r\n           InvalidResult(invalid); // why removing the return keyword is not possible??\r\n        }\r\n\r\n        public static Validation InvalidResult(Validation invalid)\r\n        {\r\n            return invalid; // the return comes from here\r\n        }",
            "link": "https://stackoverflow.com/questions/33815166/why-replacing-a-return-statement-with-a-method-that-contains-a-return-statement",
            "title": "Why replacing a return statement with a method that contains a return statement is not possible?",
            "body": "<p>The code sample below will throw \"Not All Paths Return a Value \"</p>\n\n<pre><code>   public static Validation Validate()\n    {\n       Validation invalid = new Validation()\n       InvalidResult(invalid); // why removing the return keyword is not possible??\n    }\n\n    public static Validation InvalidResult(Validation invalid)\n    {\n        return invalid; // the return comes from here\n    }\n</code></pre>\n"
        },
        {
            "tags": [
                "facebook",
                "react-native-fbsdk"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9058350,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/b2f83e81e545b99675dd863caa2dc66b?s=128&d=identicon&r=PG&f=1",
                "display_name": "Radhouane BENBRAHIM",
                "link": "https://stackoverflow.com/users/9058350/radhouane-benbrahim"
            },
            "is_answered": false,
            "view_count": 10,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1524601787,
            "creation_date": 1524580774,
            "last_edit_date": 1524601787,
            "question_id": 50004442,
            "body_markdown": "I am using native-fbsdk for facebook login, once I sign in using **LoginButton**, I get the access token using this code: \r\n\r\n&lt;code&gt;\r\n\r\n    const FBSDK = require(&#39;react-native-fbsdk&#39;);\r\n    const {AccessToken} = FBSDK;\r\n    AccessToken.getCurrentAccessToken()\r\n    .then(\r\n          (data) =&gt; {\r\n              alert(data.accessToken.toString())\r\n          }\r\n    )\r\n\r\n&lt;/code&gt; \r\n\r\nI get the access token but I don&#39;t know if it is a long live or a short live access token, how can I get a long live using a short live access token\r\n\r\n&lt;https://developers.facebook.com/docs/facebook-login/access-tokens/portability&gt; \r\n\r\nI sow in this link that it is possible that it is possible to get long live access token giving a short live access token to a server but I don&#39;t know how to do it on react native \r\n\r\nthanks  \r\n",
            "link": "https://stackoverflow.com/questions/50004442/react-native-fbsdk-how-can-i-get-a-long-live-access-token-via-a-server",
            "title": "react native fbsdk how can I get a long live access token via a server",
            "body": "<p>I am using native-fbsdk for facebook login, once I sign in using <strong>LoginButton</strong>, I get the access token using this code: </p>\n\n<p><code></p>\n\n<pre><code>const FBSDK = require('react-native-fbsdk');\nconst {AccessToken} = FBSDK;\nAccessToken.getCurrentAccessToken()\n.then(\n      (data) =&gt; {\n          alert(data.accessToken.toString())\n      }\n)\n</code></pre>\n\n<p></code> </p>\n\n<p>I get the access token but I don't know if it is a long live or a short live access token, how can I get a long live using a short live access token</p>\n\n<p><a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens/portability\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/facebook-login/access-tokens/portability</a> </p>\n\n<p>I sow in this link that it is possible that it is possible to get long live access token giving a short live access token to a server but I don't know how to do it on react native </p>\n\n<p>thanks  </p>\n"
        },
        {
            "tags": [
                "excel",
                "vba"
            ],
            "owner": {
                "reputation": 10,
                "user_id": 8149462,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/49ec9b9772e22e7a47f4cf62c31d3501?s=128&d=identicon&r=PG&f=1",
                "display_name": "Kano",
                "link": "https://stackoverflow.com/users/8149462/kano"
            },
            "is_answered": true,
            "view_count": 63,
            "accepted_answer_id": 49755231,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524601770,
            "creation_date": 1523365553,
            "last_edit_date": 1523365630,
            "question_id": 49754501,
            "body_markdown": "I have written a code to loop though range of cells and copy certain data in a column. But everytime I run the code it just copies the last record and not all of them. The issue is somewhere in the destination line of code where it can&#39;t find the last unused cell. Any help will be very appreciated. Many Thanks.\r\n\r\n    Sub ImmoScout()\r\n    \r\n        Dim MyRange As Range, Mycell As Range, Mycell2 As String\r\n        \r\n        Set MyRange = Application.Selection\r\n        &#39;Application.ScreenUpdating = False\r\n        For Each Mycell In MyRange\r\n            Mycell2 = Mycell.Value\r\n            Worksheets(&quot;Sheet1&quot;).Activate\r\n            Worksheets(&quot;Sheet1&quot;).AutoFilterMode = False\r\n            Range(&quot;A1:BB34470&quot;).AutoFilter Field:=54, Criteria1:=Mycell2\r\n            Range(&quot;AM1&quot;).Select\r\n            Range(Selection, Selection.End(xlDown)).Select\r\n                If Selection.Cells.Count &lt; 1048576 Then\r\n                    Selection.Copy Destination:=Range(&quot;BP1048576&quot;).End(xlUp).Offset(1, 0)\r\n                    Range(&quot;AU1&quot;).Activate\r\n                    Range(Selection, Selection.End(xlDown)).Select\r\n                    Selection.Copy Destination:=Range(&quot;BQ1048576&quot;).End(xlUp).Offset(1, 0)\r\n                End If\r\n                \r\n        Next Mycell\r\n       &#39; Application.ScreenUpdating = True\r\n    End Sub\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49754501/cannot-copy-to-the-last-cell-in-the-range",
            "title": "Cannot copy to the last cell in the range",
            "body": "<p>I have written a code to loop though range of cells and copy certain data in a column. But everytime I run the code it just copies the last record and not all of them. The issue is somewhere in the destination line of code where it can't find the last unused cell. Any help will be very appreciated. Many Thanks.</p>\n\n<pre><code>Sub ImmoScout()\n\n    Dim MyRange As Range, Mycell As Range, Mycell2 As String\n\n    Set MyRange = Application.Selection\n    'Application.ScreenUpdating = False\n    For Each Mycell In MyRange\n        Mycell2 = Mycell.Value\n        Worksheets(\"Sheet1\").Activate\n        Worksheets(\"Sheet1\").AutoFilterMode = False\n        Range(\"A1:BB34470\").AutoFilter Field:=54, Criteria1:=Mycell2\n        Range(\"AM1\").Select\n        Range(Selection, Selection.End(xlDown)).Select\n            If Selection.Cells.Count &lt; 1048576 Then\n                Selection.Copy Destination:=Range(\"BP1048576\").End(xlUp).Offset(1, 0)\n                Range(\"AU1\").Activate\n                Range(Selection, Selection.End(xlDown)).Select\n                Selection.Copy Destination:=Range(\"BQ1048576\").End(xlUp).Offset(1, 0)\n            End If\n\n    Next Mycell\n   ' Application.ScreenUpdating = True\nEnd Sub\n</code></pre>\n"
        },
        {
            "tags": [
                "owasp",
                "antisamy"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9693204,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/4febdf5cb3ded12a562ff4b79e93cd84?s=128&d=identicon&r=PG&f=1",
                "display_name": "PRV",
                "link": "https://stackoverflow.com/users/9693204/prv"
            },
            "is_answered": false,
            "view_count": 8,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524601769,
            "creation_date": 1524601769,
            "question_id": 50010285,
            "body_markdown": "I am using antisamy plugin to sanitize the input string in my application. I have a requirement to allow SPACE&amp;SPACE ( &quot; &amp; &quot; ) on the input text.\r\n\r\nI have tried customize the antisamy policy file but it always encode the &amp; to &amp;amp;character even when there is a SPACE character before it.\r\n\r\nI have used antisamy-anythinggoes.xml file which allows any character for testing event that policy file does not allow &amp; character on the input string\r\n\r\nSample Test case\r\n================\r\ninput: &quot;Johson &amp; Johnson&quot; Output: &quot;Johson &amp;amp; Johnson&quot;\r\n\r\nThis input does not contain any html tags. So it does not satisfy any tag-rules defined in the policy file and it is always encodes the &amp; character.\r\n\r\nPlease let me know do we have any solution exist in antisamy to define exceptions to skip encoding of special characters in the input text when there is a space before and after it. \r\n\r\n",
            "link": "https://stackoverflow.com/questions/50010285/owasp-antisamy-plugin-exempt-encoding-spacespace-character-in-the-inp",
            "title": "OWASP antisamy plugin exempt encoding SPACE&amp;SPACE ( &quot; &amp; &quot; ) character in the input text",
            "body": "<p>I am using antisamy plugin to sanitize the input string in my application. I have a requirement to allow SPACE&amp;SPACE ( \" &amp; \" ) on the input text.</p>\n\n<p>I have tried customize the antisamy policy file but it always encode the &amp; to &amp;character even when there is a SPACE character before it.</p>\n\n<p>I have used antisamy-anythinggoes.xml file which allows any character for testing event that policy file does not allow &amp; character on the input string</p>\n\n<h1>Sample Test case</h1>\n\n<p>input: \"Johson &amp; Johnson\" Output: \"Johson &amp; Johnson\"</p>\n\n<p>This input does not contain any html tags. So it does not satisfy any tag-rules defined in the policy file and it is always encodes the &amp; character.</p>\n\n<p>Please let me know do we have any solution exist in antisamy to define exceptions to skip encoding of special characters in the input text when there is a space before and after it. </p>\n"
        },
        {
            "tags": [
                "python",
                "machine-learning",
                "neural-network",
                "deep-learning",
                "keras"
            ],
            "owner": {
                "reputation": 736,
                "user_id": 423977,
                "user_type": "registered",
                "accept_rate": 76,
                "profile_image": "https://www.gravatar.com/avatar/cc717ceea1d080cf6adbec0ee38338e7?s=128&d=identicon&r=PG",
                "display_name": "Asymptote",
                "link": "https://stackoverflow.com/users/423977/asymptote"
            },
            "is_answered": true,
            "view_count": 24,
            "accepted_answer_id": 49977036,
            "answer_count": 2,
            "score": 1,
            "last_activity_date": 1524601765,
            "creation_date": 1524457249,
            "last_edit_date": 1524601765,
            "question_id": 49973379,
            "body_markdown": "    test_batches = ImageDataGenerator(\r\n        preprocessing_function=preprocess_input\r\n    ).flow_from_directory(test_path,target_size=(224,224),batch_size=1,class_mode=None,shuffle = &quot;false&quot;)\r\n    prediction = model.predict_generator(test_batches, steps=1, verbose=1)\r\n    np.argmax(prediction)\r\n\r\nSo here I am testing one image by using step_size=1 and steps=1. Whenever I run this I get different predictions, which means it&#39;s not picking the same image every time. How can I check the image name?\r\n\r\nEDIT: Here&#39;s another attempt to explain the problem I am facing:\r\n\r\n    test_batches = ImageDataGenerator(\r\n        preprocessing_function=preprocess_input\r\n    ).flow_from_directory(test_path,target_size=(224,224),batch_size=2,class_mode=None,shuffle = &quot;false&quot;)\r\n    prediction = model.predict_generator(test_batches, steps=1, verbose=2)\r\nThe prediction variable has two arrays of prediction probabilities. How can I know for which images these predictions are for?\r\n",
            "link": "https://stackoverflow.com/questions/49973379/how-to-get-associated-image-name-when-using-predict-generator-in-keras",
            "title": "How to get associated image name when using predict_generator() in keras",
            "body": "<pre><code>test_batches = ImageDataGenerator(\n    preprocessing_function=preprocess_input\n).flow_from_directory(test_path,target_size=(224,224),batch_size=1,class_mode=None,shuffle = \"false\")\nprediction = model.predict_generator(test_batches, steps=1, verbose=1)\nnp.argmax(prediction)\n</code></pre>\n\n<p>So here I am testing one image by using step_size=1 and steps=1. Whenever I run this I get different predictions, which means it's not picking the same image every time. How can I check the image name?</p>\n\n<p>EDIT: Here's another attempt to explain the problem I am facing:</p>\n\n<pre><code>test_batches = ImageDataGenerator(\n    preprocessing_function=preprocess_input\n).flow_from_directory(test_path,target_size=(224,224),batch_size=2,class_mode=None,shuffle = \"false\")\nprediction = model.predict_generator(test_batches, steps=1, verbose=2)\n</code></pre>\n\n<p>The prediction variable has two arrays of prediction probabilities. How can I know for which images these predictions are for?</p>\n"
        },
        {
            "tags": [
                "idisposable",
                "resource-leak"
            ],
            "owner": {
                "reputation": 154,
                "user_id": 195395,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/26624186ce29200deea1f16cbd25b4f5?s=128&d=identicon&r=PG",
                "display_name": "Greg",
                "link": "https://stackoverflow.com/users/195395/greg"
            },
            "is_answered": true,
            "view_count": 12,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524601759,
            "creation_date": 1524601161,
            "question_id": 50010160,
            "body_markdown": "Obviously, we should clean up after ourselves as a matter of principle. And those of us around before the Windows 2000 era know the pain that memory leaks inflict on users. But I&#39;m curious as to what the consequences of leaking handles to other system resources might be.\n\nThis would be things like unclosed files or database connections. Really anything that would be IDisposable in .net. We&#39;re a Windows shop, but I would be interested in other OSes as well. \n\nWhat arguments can I use to get team members to take this more seriously, or are there bigger fish to fry on modern systems?",
            "link": "https://stackoverflow.com/questions/50010160/what-are-the-consequences-for-leaking-resources",
            "title": "What are the consequences for leaking resources?",
            "body": "<p>Obviously, we should clean up after ourselves as a matter of principle. And those of us around before the Windows 2000 era know the pain that memory leaks inflict on users. But I'm curious as to what the consequences of leaking handles to other system resources might be.</p>\n\n<p>This would be things like unclosed files or database connections. Really anything that would be IDisposable in .net. We're a Windows shop, but I would be interested in other OSes as well. </p>\n\n<p>What arguments can I use to get team members to take this more seriously, or are there bigger fish to fry on modern systems?</p>\n"
        },
        {
            "tags": [
                "arrays",
                "algorithm"
            ],
            "owner": {
                "reputation": 493,
                "user_id": 1239413,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/a1ed46e0c924aa95e18b2cd15a233284?s=128&d=identicon&r=PG",
                "display_name": "Raman Bhatia",
                "link": "https://stackoverflow.com/users/1239413/raman-bhatia"
            },
            "is_answered": true,
            "view_count": 12158,
            "accepted_answer_id": 9495815,
            "answer_count": 10,
            "score": 22,
            "last_activity_date": 1524601756,
            "creation_date": 1330492021,
            "last_edit_date": 1452680165,
            "question_id": 9493853,
            "body_markdown": "Given an array find the next smaller element in array for each element without changing the original order of the elements.\r\n\r\nFor example, suppose the given array is 4,2,1,5,3. \r\n\r\nThe resultant array would be 2,1,-1,3,-1.\r\n\r\nI was asked this question in an interview, but i couldn&#39;t think of a solution better than the trivial O(n^2) solution.\r\nAny approach that I could think of, i.e. making a binary search tree, or sorting the array, will distort the original order of the elements and hence lead to a  wrong result.\r\n\r\nAny help would be highly appreciated.",
            "link": "https://stackoverflow.com/questions/9493853/given-an-array-find-out-the-next-smaller-element-for-each-element",
            "title": "Given an array, find out the next smaller element for each element",
            "body": "<p>Given an array find the next smaller element in array for each element without changing the original order of the elements.</p>\n\n<p>For example, suppose the given array is 4,2,1,5,3. </p>\n\n<p>The resultant array would be 2,1,-1,3,-1.</p>\n\n<p>I was asked this question in an interview, but i couldn't think of a solution better than the trivial O(n^2) solution.\nAny approach that I could think of, i.e. making a binary search tree, or sorting the array, will distort the original order of the elements and hence lead to a  wrong result.</p>\n\n<p>Any help would be highly appreciated.</p>\n"
        },
        {
            "tags": [
                "python",
                "flask",
                "wsgi",
                "factory-pattern",
                "sanic"
            ],
            "owner": {
                "reputation": 575,
                "user_id": 2889970,
                "user_type": "registered",
                "accept_rate": 78,
                "profile_image": "https://i.stack.imgur.com/Od4jO.jpg?s=128&g=1",
                "display_name": "timmwagener",
                "link": "https://stackoverflow.com/users/2889970/timmwagener"
            },
            "is_answered": false,
            "view_count": 17,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524601745,
            "creation_date": 1524600985,
            "last_edit_date": 1524601745,
            "question_id": 50010123,
            "body_markdown": "I&#39;ve been thinking about the _factory pattern_ for WSGI applications, [as recommended by the Flask docs](http://flask.pocoo.org/docs/0.12/patterns/appfactories/#basic-factories), for a while now. Specifically about those functions usually being shown to make use of objects that have been created at module import time, like `db` in the example, as opposed to having been created in the factory function.\r\n\r\n***Would the factory function ideally create _everything_ anew or wouldn&#39;t that make sense for objects like the `db` engine?***\r\n_(I&#39;m thinking cleaner separation and better testability here.)_\r\n\r\nHere is some code, where I&#39;m trying to accomplish creating all needed objects for the wsgi app. in its factory function.\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    # factories.py\r\n    def create_app(config, engine=None):\r\n        &quot;&quot;&quot;Create WSGI application to be called by WSGI server. Full factory function\r\n        that takes care to deliver entirely new WSGI application instance with all\r\n        new member objects like database engine etc.\r\n    \r\n        Args:\r\n            config (dict): Dict to update the wsgi app. configuration.\r\n            engine (SQLAlchemy engine): Database engine to use.\r\n        &quot;&quot;&quot;\r\n    \r\n        # flask app\r\n        app = Flask(__name__)  # should be package name instead of __name__ acc. to docs\r\n        app.config.update(config)\r\n    \r\n        # create blueprint\r\n        blueprint = ViewRegistrationBlueprint(&#39;blueprint&#39;, __name__, )\r\n        # request teardown behaviour, always called, even on unhandled exceptions\r\n    \r\n        # register views for blueprint\r\n        from myapp.views import hello_world\r\n        # dynamically scrapes module and registers methods as views\r\n        blueprint.register_routes(hello_world)\r\n    \r\n        # create engine and request scoped session for current configuration and store\r\n        # on wsgi app\r\n        if (engine is not None):\r\n    \r\n            # delivers transactional scope when called\r\n            RequestScopedSession = scoped_session(\r\n                sessionmaker(bind=engine),\r\n                scopefunc=flask_request_scope_func\r\n            )\r\n    \r\n            def request_scoped_session_teardown(*args, **kwargs):\r\n                &quot;&quot;&quot;Function to register and call by the framework when a request is finished\r\n                and the session should be removed.\r\n                &quot;&quot;&quot;\r\n                # wrapped in try/finally to make sure no error collapses call stack here\r\n                try:\r\n                    RequestScopedSession.remove()  # rollback all pending changes, close and return conn. to pool\r\n                except Exception as exception_instance:\r\n                    msg = &quot;Error removing session in request teardown.\\n{}&quot;\r\n                    msg = msg.format(exception_instance)\r\n                    logger.error(msg)\r\n                finally:\r\n                    pass\r\n    \r\n            app.config[&quot;session&quot;] = RequestScopedSession\r\n            blueprint.teardown_request(request_scoped_session_teardown)\r\n    \r\n        # register blueprint\r\n        app.register_blueprint(blueprint)\r\n    \r\n        return app\r\n    \r\n    \r\n    def create_engine(config):\r\n        &quot;&quot;&quot;Create database engine from configuration\r\n    \r\n        Args:\r\n            config (dict): Dict used to assemble the connection string.\r\n        &quot;&quot;&quot;\r\n    \r\n        # connection_string\r\n        connection_string = &quot;{connector}://{user}:{password}@{host}/{schema}&quot;\r\n        connection_string = connection_string.format(**config)\r\n    \r\n        # database engine\r\n        return sqlalchemy_create_engine(\r\n            connection_string,\r\n            pool_size=10,\r\n            pool_recycle=7200,\r\n            max_overflow=0,\r\n            echo=True\r\n        )\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    # wsgi.py (served by WSGI server)\r\n    from myapp.factories import create_app\r\n    from myapp.factories import create_engine\r\n    from myapp.configuration.config import Config\r\n\r\n    config = Config()\r\n\r\n    engine = create_engine(config.database_config)\r\n    app = create_app(config.application_config, engine=engine)\r\n\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    # conftest.py\r\n    from myapp.factories import create_app\r\n    from myapp.factories import create_engine\r\n    from myapp.configuration.config import Config\r\n\r\n    @pytest.fixture\r\n    def app():\r\n        config = TestConfig()\r\n        engine = create_engine(config.database_config)\r\n        app = create_app(config.application_config, engine=engine)\r\n        with app.app_context():\r\n            yield app\r\n\r\n",
            "link": "https://stackoverflow.com/questions/50010123/wsgi-app-factory-pattern-and-import-time-created-module-level-objects",
            "title": "WSGI app factory pattern and import time created module level objects",
            "body": "<p>I've been thinking about the <em>factory pattern</em> for WSGI applications, <a href=\"http://flask.pocoo.org/docs/0.12/patterns/appfactories/#basic-factories\" rel=\"nofollow noreferrer\">as recommended by the Flask docs</a>, for a while now. Specifically about those functions usually being shown to make use of objects that have been created at module import time, like <code>db</code> in the example, as opposed to having been created in the factory function.</p>\n\n<p><strong><em>Would the factory function ideally create _everything_ anew or wouldn't that make sense for objects like the <code>db</code> engine?</em></strong>\n<em>(I'm thinking cleaner separation and better testability here.)</em></p>\n\n<p>Here is some code, where I'm trying to accomplish creating all needed objects for the wsgi app. in its factory function.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># factories.py\ndef create_app(config, engine=None):\n    \"\"\"Create WSGI application to be called by WSGI server. Full factory function\n    that takes care to deliver entirely new WSGI application instance with all\n    new member objects like database engine etc.\n\n    Args:\n        config (dict): Dict to update the wsgi app. configuration.\n        engine (SQLAlchemy engine): Database engine to use.\n    \"\"\"\n\n    # flask app\n    app = Flask(__name__)  # should be package name instead of __name__ acc. to docs\n    app.config.update(config)\n\n    # create blueprint\n    blueprint = ViewRegistrationBlueprint('blueprint', __name__, )\n    # request teardown behaviour, always called, even on unhandled exceptions\n\n    # register views for blueprint\n    from myapp.views import hello_world\n    # dynamically scrapes module and registers methods as views\n    blueprint.register_routes(hello_world)\n\n    # create engine and request scoped session for current configuration and store\n    # on wsgi app\n    if (engine is not None):\n\n        # delivers transactional scope when called\n        RequestScopedSession = scoped_session(\n            sessionmaker(bind=engine),\n            scopefunc=flask_request_scope_func\n        )\n\n        def request_scoped_session_teardown(*args, **kwargs):\n            \"\"\"Function to register and call by the framework when a request is finished\n            and the session should be removed.\n            \"\"\"\n            # wrapped in try/finally to make sure no error collapses call stack here\n            try:\n                RequestScopedSession.remove()  # rollback all pending changes, close and return conn. to pool\n            except Exception as exception_instance:\n                msg = \"Error removing session in request teardown.\\n{}\"\n                msg = msg.format(exception_instance)\n                logger.error(msg)\n            finally:\n                pass\n\n        app.config[\"session\"] = RequestScopedSession\n        blueprint.teardown_request(request_scoped_session_teardown)\n\n    # register blueprint\n    app.register_blueprint(blueprint)\n\n    return app\n\n\ndef create_engine(config):\n    \"\"\"Create database engine from configuration\n\n    Args:\n        config (dict): Dict used to assemble the connection string.\n    \"\"\"\n\n    # connection_string\n    connection_string = \"{connector}://{user}:{password}@{host}/{schema}\"\n    connection_string = connection_string.format(**config)\n\n    # database engine\n    return sqlalchemy_create_engine(\n        connection_string,\n        pool_size=10,\n        pool_recycle=7200,\n        max_overflow=0,\n        echo=True\n    )\n</code></pre>\n\n<pre class=\"lang-python prettyprint-override\"><code># wsgi.py (served by WSGI server)\nfrom myapp.factories import create_app\nfrom myapp.factories import create_engine\nfrom myapp.configuration.config import Config\n\nconfig = Config()\n\nengine = create_engine(config.database_config)\napp = create_app(config.application_config, engine=engine)\n</code></pre>\n\n<pre class=\"lang-python prettyprint-override\"><code># conftest.py\nfrom myapp.factories import create_app\nfrom myapp.factories import create_engine\nfrom myapp.configuration.config import Config\n\n@pytest.fixture\ndef app():\n    config = TestConfig()\n    engine = create_engine(config.database_config)\n    app = create_app(config.application_config, engine=engine)\n    with app.app_context():\n        yield app\n</code></pre>\n"
        },
        {
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "owner": {
                "reputation": 15,
                "user_id": 9642307,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/aa26e1ab1520ce028e59ef558673d4ba?s=128&d=identicon&r=PG&f=1",
                "display_name": "pse",
                "link": "https://stackoverflow.com/users/9642307/pse"
            },
            "is_answered": true,
            "view_count": 31,
            "accepted_answer_id": 50010278,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1524601741,
            "creation_date": 1524534196,
            "question_id": 49992248,
            "body_markdown": "I have a website and an adfly link, I want text to be displayed on the screen after the user clicks the link. http://fire-alts.com/generator.php this is basically my goal. On this website when you click on the link it opens up a couple of ads on the same tab and then finally takes you back to the website. When you are back on the website you will see new text on it, in this case the account information. That is my end goal, having a couple of links that the user goes through and then having new text displayed on the screen, is there anyway I could do this? I know I can hide and then unhide the text but I don&#39;t know how to make that happen after the user goes through all the ads. Thank you.",
            "link": "https://stackoverflow.com/questions/49992248/how-to-display-text-on-screen-after-ad-fly-link-is-clicked",
            "title": "How to display text on screen after ad fly link is clicked",
            "body": "<p>I have a website and an adfly link, I want text to be displayed on the screen after the user clicks the link. <a href=\"http://fire-alts.com/generator.php\" rel=\"nofollow noreferrer\">http://fire-alts.com/generator.php</a> this is basically my goal. On this website when you click on the link it opens up a couple of ads on the same tab and then finally takes you back to the website. When you are back on the website you will see new text on it, in this case the account information. That is my end goal, having a couple of links that the user goes through and then having new text displayed on the screen, is there anyway I could do this? I know I can hide and then unhide the text but I don't know how to make that happen after the user goes through all the ads. Thank you.</p>\n"
        },
        {
            "tags": [
                "c#",
                "interpolation"
            ],
            "owner": {
                "reputation": 14,
                "user_id": 9277965,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/85280151ef3a6050ba778d952ca15a2e?s=128&d=identicon&r=PG&f=1",
                "display_name": "dguth8",
                "link": "https://stackoverflow.com/users/9277965/dguth8"
            },
            "is_answered": true,
            "view_count": 80,
            "accepted_answer_id": 50009838,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524601739,
            "creation_date": 1524599527,
            "last_edit_date": 1524599583,
            "question_id": 50009781,
            "body_markdown": "With string interpolation, how do you handle variables piped into a command that contain spaces in them? For example, if you have a variable that has spaces in it (like a UNC path), how do you handle that? \r\n\r\nThis code works when no spaces are present in the &quot;filePath&quot; variable (i.e.; \\ServerName\\testfile.txt):\r\n\r\n    System.Diagnostics.Process.Start(&quot;net.exe&quot;, $&quot;use X: \\\\{filePath} {pwd /USER:{usr}&quot;).WaitForExit();\r\n\r\nAs soon as you encounter a path that has spaces in it, however, the command above no longer works, because it&#39;s unable to find the path. Normally, I would apply quotes around a path containing spaces, to counter this (in other languages like PowerShell). How do you do something similar with C# interpolation.",
            "link": "https://stackoverflow.com/questions/50009781/how-do-you-handle-spaces-in-variables-when-using-c-interpolation",
            "title": "How do you handle spaces in variables when using C# interpolation?",
            "body": "<p>With string interpolation, how do you handle variables piped into a command that contain spaces in them? For example, if you have a variable that has spaces in it (like a UNC path), how do you handle that? </p>\n\n<p>This code works when no spaces are present in the \"filePath\" variable (i.e.; \\ServerName\\testfile.txt):</p>\n\n<pre><code>System.Diagnostics.Process.Start(\"net.exe\", $\"use X: \\\\{filePath} {pwd /USER:{usr}\").WaitForExit();\n</code></pre>\n\n<p>As soon as you encounter a path that has spaces in it, however, the command above no longer works, because it's unable to find the path. Normally, I would apply quotes around a path containing spaces, to counter this (in other languages like PowerShell). How do you do something similar with C# interpolation.</p>\n"
        },
        {
            "tags": [
                "python",
                "image",
                "opencv",
                "numpy"
            ],
            "owner": {
                "reputation": 4566,
                "user_id": 623300,
                "user_type": "registered",
                "accept_rate": 79,
                "profile_image": "https://www.gravatar.com/avatar/ec3ba9362a9c2a43811d360af34ac31a?s=128&d=identicon&r=PG",
                "display_name": "Shan",
                "link": "https://stackoverflow.com/users/623300/shan"
            },
            "is_answered": true,
            "view_count": 108125,
            "accepted_answer_id": 7776579,
            "answer_count": 7,
            "score": 42,
            "last_activity_date": 1524601735,
            "creation_date": 1318565587,
            "last_edit_date": 1318568749,
            "question_id": 7762948,
            "body_markdown": "I have an RGB image. I want to convert it to numpy array. I did the following\r\n\r\n    im = cv.LoadImage(&quot;abc.tiff&quot;)\r\n    a = numpy.asarray(im)\r\n\r\nit creates an array with no shape. I assume it is iplimage object.\r\n\r\nHow to do it?\r\n\r\nThanks",
            "link": "https://stackoverflow.com/questions/7762948/how-to-convert-an-rgb-image-to-numpy-array",
            "title": "how to convert an RGB image to numpy array?",
            "body": "<p>I have an RGB image. I want to convert it to numpy array. I did the following</p>\n\n<pre><code>im = cv.LoadImage(\"abc.tiff\")\na = numpy.asarray(im)\n</code></pre>\n\n<p>it creates an array with no shape. I assume it is iplimage object.</p>\n\n<p>How to do it?</p>\n\n<p>Thanks</p>\n"
        },
        {
            "tags": [
                "php",
                "mysql"
            ],
            "owner": {
                "reputation": 25,
                "user_id": 9614662,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/be8def34896a915f892c9d3e9b4fd7e1?s=128&d=identicon&r=PG&f=1",
                "display_name": "blueSky",
                "link": "https://stackoverflow.com/users/9614662/bluesky"
            },
            "is_answered": true,
            "view_count": 36,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524601718,
            "creation_date": 1523446145,
            "last_edit_date": 1524601718,
            "question_id": 49773940,
            "body_markdown": "I&#39;m creating a classic php blog and have a dilemma about `single` or two mysql tables approach.\r\n\r\nIn the first case actual blogs would be placed inside `actual` table (100 rows max), and archived posts inside `archive` table (20.000 rows max).\r\n\r\nBoth tables have the same structure.\r\n\r\nQuerying on `actual` table is very often and on `archive` is not so often.\r\n\r\nBut sometimes there are `join` and `union` queries - covering both tables.\r\n\r\nLogically, performances are much better on a smaller table but  - is that in my case  enough reason to create two tables instead single one?\r\n\r\nThere is also third solution - single table with two partitions `actual - 100 rows`and `archive - 20.000 rows`.\r\n\r\nWhat to do?",
            "link": "https://stackoverflow.com/questions/49773940/single-vs-multiple-blog-tables",
            "title": "Single vs multiple blog tables",
            "body": "<p>I'm creating a classic php blog and have a dilemma about <code>single</code> or two mysql tables approach.</p>\n\n<p>In the first case actual blogs would be placed inside <code>actual</code> table (100 rows max), and archived posts inside <code>archive</code> table (20.000 rows max).</p>\n\n<p>Both tables have the same structure.</p>\n\n<p>Querying on <code>actual</code> table is very often and on <code>archive</code> is not so often.</p>\n\n<p>But sometimes there are <code>join</code> and <code>union</code> queries - covering both tables.</p>\n\n<p>Logically, performances are much better on a smaller table but  - is that in my case  enough reason to create two tables instead single one?</p>\n\n<p>There is also third solution - single table with two partitions <code>actual - 100 rows</code>and <code>archive - 20.000 rows</code>.</p>\n\n<p>What to do?</p>\n"
        },
        {
            "tags": [
                "ruby-on-rails",
                "ruby",
                "devise",
                "mailer"
            ],
            "owner": {
                "reputation": 2229,
                "user_id": 1682038,
                "user_type": "registered",
                "accept_rate": 52,
                "profile_image": "https://www.gravatar.com/avatar/90c9c92c135240a02e9bcd1c886bcae8?s=128&d=identicon&r=PG",
                "display_name": "rony36",
                "link": "https://stackoverflow.com/users/1682038/rony36"
            },
            "is_answered": true,
            "view_count": 8612,
            "accepted_answer_id": 15052323,
            "answer_count": 6,
            "score": 17,
            "last_activity_date": 1524601715,
            "creation_date": 1359536918,
            "last_edit_date": 1436010010,
            "question_id": 14600229,
            "body_markdown": "I&#39;m just unable to change &quot;password reset instruction&quot; email&#39;s subject. I have changed notifer.rb in Mailer to overwrite Devise default email subject. But it&#39;s not working.\r\n\r\nHere in my application there is default Email subject inside Devise .yml file. But I want to make it dynamic to change it by pulling data from DB.\r\n",
            "link": "https://stackoverflow.com/questions/14600229/how-to-change-devise-password-reset-instruction-emails-subject",
            "title": "How to change &quot;Devise: password reset instruction email&#39;s subject&quot;",
            "body": "<p>I'm just unable to change \"password reset instruction\" email's subject. I have changed notifer.rb in Mailer to overwrite Devise default email subject. But it's not working.</p>\n\n<p>Here in my application there is default Email subject inside Devise .yml file. But I want to make it dynamic to change it by pulling data from DB.</p>\n"
        },
        {
            "tags": [
                "javascript",
                "css",
                "frontend",
                "render",
                "jquery-select2"
            ],
            "owner": {
                "reputation": 28,
                "user_id": 3811117,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/9863997896251b1a34a8a46c06655e6f?s=128&d=identicon&r=PG&f=1",
                "display_name": "RenishV8",
                "link": "https://stackoverflow.com/users/3811117/renishv8"
            },
            "is_answered": false,
            "view_count": 20,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524601712,
            "creation_date": 1524601712,
            "question_id": 50010269,
            "body_markdown": "I tried to install **select2** on my project bt it doesn&#39;t render nice.\r\nIt&#39;s exactly the same issue than this link : https://stackoverflow.com/questions/40773647/select2-doesnt-render-properly\r\n\r\n[![select2][1]][1]\r\n\r\nBut i don&#39;t use cdn, i work on symfony4 project (with webpack encore and yarn). I import **jquery** and **select2** like that :\r\n\r\n*app.js*\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import $ from &#39;jquery&#39;;\r\n    import &#39;select2/dist/js/select2.full&#39;;\r\n    import &#39;select2/dist/css/select2.css&#39;;\r\n    \r\n    $(document).ready(function () {\r\n        $(&#39;.select2&#39;).select2();\r\n    })\r\n\r\nI also try this one :\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import $ from &#39;jquery&#39;;\r\n    import select2 from &#39;select2&#39;;\r\n\r\n\r\n*mypage.html*\r\n\r\n&lt;!-- language-all: lang-html --&gt;\r\n\r\n    &lt;select class=&quot;select2 form-control&quot; style=&quot;width:200px;&quot; name=&quot;states[]&quot; multiple=&quot;multiple&quot;&gt;\r\n        &lt;option value=&quot;&quot;&gt;&lt;option&gt;\r\n        &lt;option value=&quot;1&quot;&gt;Mustard&lt;/option&gt;\r\n        &lt;option value=&quot;2&quot;&gt;Ketchup&lt;/option&gt;\r\n        &lt;option value=&quot;3&quot;&gt;Relish&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nI have no error, but the render looks like nothing !\r\n\r\nThanks for your help :)\r\n\r\n  [1]: https://i.stack.imgur.com/5UNV6.jpg",
            "link": "https://stackoverflow.com/questions/50010269/select2-doesnt-render-nice-style-is-broken",
            "title": "Select2 doesn&#39;t render nice, style is broken",
            "body": "<p>I tried to install <strong>select2</strong> on my project bt it doesn't render nice.\nIt's exactly the same issue than this link : <a href=\"https://stackoverflow.com/questions/40773647/select2-doesnt-render-properly\">Select2 doesn&#39;t render properly</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5UNV6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5UNV6.jpg\" alt=\"select2\"></a></p>\n\n<p>But i don't use cdn, i work on symfony4 project (with webpack encore and yarn). I import <strong>jquery</strong> and <strong>select2</strong> like that :</p>\n\n<p><em>app.js</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import $ from 'jquery';\nimport 'select2/dist/js/select2.full';\nimport 'select2/dist/css/select2.css';\n\n$(document).ready(function () {\n    $('.select2').select2();\n})\n</code></pre>\n\n<p>I also try this one :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import $ from 'jquery';\nimport select2 from 'select2';\n</code></pre>\n\n<p><em>mypage.html</em></p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select class=\"select2 form-control\" style=\"width:200px;\" name=\"states[]\" multiple=\"multiple\"&gt;\n    &lt;option value=\"\"&gt;&lt;option&gt;\n    &lt;option value=\"1\"&gt;Mustard&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Ketchup&lt;/option&gt;\n    &lt;option value=\"3\"&gt;Relish&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>I have no error, but the render looks like nothing !</p>\n\n<p>Thanks for your help :)</p>\n"
        },
        {
            "tags": [
                "python",
                "pandas",
                "dataframe",
                "vectorization"
            ],
            "owner": {
                "reputation": 5,
                "user_id": 9145773,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/1c370c83e08284f1cc1994bc3e703ede?s=128&d=identicon&r=PG&f=1",
                "display_name": "Technologic",
                "link": "https://stackoverflow.com/users/9145773/technologic"
            },
            "is_answered": true,
            "view_count": 43,
            "accepted_answer_id": 50010190,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524601701,
            "creation_date": 1524598578,
            "question_id": 50009587,
            "body_markdown": "I have a Pandas Dataframe with data about calls. Each call has a unique ID and each customer has an ID (but can have multiple Calls). A third column gives a day. For each customer I want to calculate the maximum number of calls made in a period of 7 days.\r\n\r\nI have been using the following code to count the number of calls within 7 days of the call on each row:\r\n\r\n    df[&#39;ContactsIN7Days&#39;] = df.apply(lambda row: len(df[(df[&#39;PersonID&#39;]==row[&#39;PersonID&#39;]) &amp; (abs(df[&#39;Day&#39;] - row[&#39;Day&#39;]) &lt;=7)]), axis=1)\r\n\r\nOutput:\r\n\r\n    CallID\tDay\tPersonID\tContactsIN7Days\r\n    6\t    2\t3\t        2\r\n    3\t    14\t2\t        2\r\n    1 \t    8\t1\t        1\r\n    5\t    1\t3\t        2\r\n    2\t    12\t2\t        2\r\n    7\t    100\t3\t        1\r\nThis works, however this is going to be applied on a big data set. Would there be a way to make this more efficient. Through vectorization?",
            "link": "https://stackoverflow.com/questions/50009587/is-it-possible-to-use-vectorization-for-a-conditionnal-count-of-rows-in-a-pandas",
            "title": "Is it possible to use vectorization for a conditionnal count of rows in a Pandas Dataframe?",
            "body": "<p>I have a Pandas Dataframe with data about calls. Each call has a unique ID and each customer has an ID (but can have multiple Calls). A third column gives a day. For each customer I want to calculate the maximum number of calls made in a period of 7 days.</p>\n\n<p>I have been using the following code to count the number of calls within 7 days of the call on each row:</p>\n\n<pre><code>df['ContactsIN7Days'] = df.apply(lambda row: len(df[(df['PersonID']==row['PersonID']) &amp; (abs(df['Day'] - row['Day']) &lt;=7)]), axis=1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>CallID  Day PersonID    ContactsIN7Days\n6       2   3           2\n3       14  2           2\n1       8   1           1\n5       1   3           2\n2       12  2           2\n7       100 3           1\n</code></pre>\n\n<p>This works, however this is going to be applied on a big data set. Would there be a way to make this more efficient. Through vectorization?</p>\n"
        },
        {
            "tags": [
                "ios",
                "uiviewcontroller",
                "autolayout",
                "ios11"
            ],
            "owner": {
                "reputation": 8609,
                "user_id": 999530,
                "user_type": "registered",
                "accept_rate": 86,
                "profile_image": "https://www.gravatar.com/avatar/8e2aa7fd262b7c4b6f53a89a52f527f9?s=128&d=identicon&r=PG",
                "display_name": "Travis Griggs",
                "link": "https://stackoverflow.com/users/999530/travis-griggs"
            },
            "is_answered": false,
            "view_count": 16,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524601695,
            "creation_date": 1524589172,
            "last_edit_date": 1524601695,
            "question_id": 50007216,
            "body_markdown": "I have the following configuration for an iOS app:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nA container view is constrained against it&#39;s parent UIViewController&#39;s view:\r\n\r\n* center horizontally\r\n* equal widths\r\n* equal bottoms\r\n\r\nThe embedded sub view controller has a single full view that is constrained with the following:\r\n\r\n* center horizontally\r\n* center vertically\r\n* equal widths\r\n* equal height\r\n* constant height = 200\r\n\r\nAt this point the subview controller should create a view that wants to be 200 high and as wide as the screen. But the container view is flagged as needing a height or y position.\r\n\r\nIs there a way to get the the constrains of the embedded view to couple into the embedding set?\r\n\r\n###UPDATE\r\n\r\nI can use the `viewDidLayoutSubview()` hook in the main UIViewController to get things sized correctly, kind of. The following works:\r\n\r\n    override func viewDidLayoutSubviews() {\r\n        super.viewDidLayoutSubviews()\r\n        let subSize = self.subController.view.systemLayoutSizeFitting(UIScreen.main.bounds.size)\r\n        self.containerView.heightAnchor.constraint(equalToConstant: subSize).isActive = true\r\n    }\r\n\r\nBut if it can do that, I would think that the following should work too:\r\n\r\n    override func viewDidLayoutSubviews() {\r\n        super.viewDidLayoutSubviews()\r\n        self.containerView.heightAnchor.constraint(equalTo: self.subController.view.heightAnchor).isActive = true\r\n    }\r\n\r\nBut this second just ends up with zero height. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qgmlR.png",
            "link": "https://stackoverflow.com/questions/50007216/can-embedded-uicontroller-height-constraints-transcend-embedding",
            "title": "Can embedded UIController height constraints transcend embedding?",
            "body": "<p>I have the following configuration for an iOS app:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qgmlR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qgmlR.png\" alt=\"enter image description here\"></a></p>\n\n<p>A container view is constrained against it's parent UIViewController's view:</p>\n\n<ul>\n<li>center horizontally</li>\n<li>equal widths</li>\n<li>equal bottoms</li>\n</ul>\n\n<p>The embedded sub view controller has a single full view that is constrained with the following:</p>\n\n<ul>\n<li>center horizontally</li>\n<li>center vertically</li>\n<li>equal widths</li>\n<li>equal height</li>\n<li>constant height = 200</li>\n</ul>\n\n<p>At this point the subview controller should create a view that wants to be 200 high and as wide as the screen. But the container view is flagged as needing a height or y position.</p>\n\n<p>Is there a way to get the the constrains of the embedded view to couple into the embedding set?</p>\n\n<h3>UPDATE</h3>\n\n<p>I can use the <code>viewDidLayoutSubview()</code> hook in the main UIViewController to get things sized correctly, kind of. The following works:</p>\n\n<pre><code>override func viewDidLayoutSubviews() {\n    super.viewDidLayoutSubviews()\n    let subSize = self.subController.view.systemLayoutSizeFitting(UIScreen.main.bounds.size)\n    self.containerView.heightAnchor.constraint(equalToConstant: subSize).isActive = true\n}\n</code></pre>\n\n<p>But if it can do that, I would think that the following should work too:</p>\n\n<pre><code>override func viewDidLayoutSubviews() {\n    super.viewDidLayoutSubviews()\n    self.containerView.heightAnchor.constraint(equalTo: self.subController.view.heightAnchor).isActive = true\n}\n</code></pre>\n\n<p>But this second just ends up with zero height. </p>\n"
        },
        {
            "tags": [
                "python",
                "python-3.x",
                "python-2.7",
                "python-import"
            ],
            "owner": {
                "reputation": 1894,
                "user_id": 982786,
                "user_type": "registered",
                "accept_rate": 89,
                "profile_image": "https://i.stack.imgur.com/xARbd.jpg?s=128&g=1",
                "display_name": "Nefariis",
                "link": "https://stackoverflow.com/users/982786/nefariis"
            },
            "is_answered": false,
            "view_count": 38,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1524601684,
            "creation_date": 1524601684,
            "question_id": 50010268,
            "body_markdown": "This is one of the weirder issues I&#39;ve come across and I can&#39;t figure out what is causing it. \r\n\r\nI have a `from x import x` statement and it only works in certain file directories.\r\n\r\nfor example, from my `userroot` directory \r\n\r\n    C:\\Users\\admin&gt;where python\r\n    C:\\scoop\\shims\\python.exe\r\n\r\n    C:\\Users\\admin&gt;python\r\n    Python 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit \r\n    (AM D64)] on win32\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n    &gt;&gt;&gt; from influxdb import InfluxDBClient\r\n    &gt;&gt;&gt; ^Z\r\n\r\nI can import the package just fine - however when I go to the desktop (which is still apart of my user directory) \r\n\r\n    C:\\Users\\admin&gt;cd Desktop\r\n\r\n    C:\\Users\\admin\\Desktop&gt;where python\r\n    C:\\scoop\\shims\\python.exe\r\n\r\n    C:\\Users\\admin\\Desktop&gt;python\r\n    Python 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit (AM D64)] on win32\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n    &gt;&gt;&gt; from influxdb import InfluxDBClient\r\n    Traceback (most recent call last):\r\n      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n      File &quot;C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\influxdb\\__init__.py&quot;,\r\n    line 9, in &lt;module&gt;\r\n        from .client import InfluxDBClient\r\n      File &quot;C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\influxdb\\client.py&quot;, li\r\n    ne 14, in &lt;module&gt;\r\n        import requests\r\n      File &quot;C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\requests\\__init__.py&quot;,\r\n    line 43, in &lt;module&gt;\r\n        import urllib3\r\n      File &quot;C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\urllib3\\__init__.py&quot;, l\r\n    ine 8, in &lt;module&gt;\r\n        from .connectionpool import (\r\n      File &quot;C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\urllib3\\connectionpool.\r\n    py&quot;, line 3, in &lt;module&gt;\r\n        import logging\r\n      File &quot;logging.py&quot;, line 4, in &lt;module&gt;\r\n        from influxdb import InfluxDBClient\r\n    ImportError: cannot import name InfluxDBClient\r\n    &gt;&gt;&gt; ^Z\r\n\r\nSo going into my desktop directory, though still using the same python.exe, will not allow my to import the same package.\r\n\r\nWhat makes this more bizarre, if I look at the `sys.path` \r\n\r\n    C:\\Users\\admin\\Desktop&gt;python\r\n    Python 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit (AM\r\n    D64)] on win32\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n    &gt;&gt;&gt; import sys\r\n    &gt;&gt;&gt; sys.path\r\n    [&#39;&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\python27.zip&#39;, &#39;C:\\\\scoop\\\\apps\\\\pytho\r\n    n27\\\\current\\\\DLLs&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib&#39;, &#39;C:\\\\scoop\\\\apps\r\n    \\\\python27\\\\current\\\\lib\\\\plat-win&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib\\\\l\r\n    ib-tk&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\curren\r\n    t\\\\lib\\\\site-packages&#39;]\r\n    &gt;&gt;&gt; ^Z\r\n    \r\nAnd for the root directory -\r\n\r\n    C:\\Users\\admin\\Desktop&gt;cd..\r\n    \r\n    C:\\Users\\admin&gt;python\r\n    Python 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit (AM\r\n    D64)] on win32\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n    &gt;&gt;&gt; import sys\r\n    &gt;&gt;&gt; sys.path\r\n    [&#39;&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\python27.zip&#39;, &#39;C:\\\\scoop\\\\apps\\\\pytho\r\n    n27\\\\current\\\\DLLs&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib&#39;, &#39;C:\\\\scoop\\\\apps\r\n    \\\\python27\\\\current\\\\lib\\\\plat-win&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib\\\\l\r\n    ib-tk&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\current&#39;, &#39;C:\\\\scoop\\\\apps\\\\python27\\\\curren\r\n    t\\\\lib\\\\site-packages&#39;]\r\n    &gt;&gt;&gt; ^Z\r\n\r\nYou can see they are exactly the same. I figured it might be an Environmental variable issue, but why would it work in the `userroot` and not on the `useroot/Desktop`? And this doesnt seem to be just a `influxdb` error, `BeautifulSoup` does the same thing. \r\n                                                                         \r\nThis is being ran from an elevated cmd prompt on an admin account. I&#39;ve tried uninstalling and reinstalling python. I&#39;ve tried both python2 and python3. I&#39;ve tried setting `PYTHONPATH`.\r\n\r\nAny thoughts?",
            "link": "https://stackoverflow.com/questions/50010268/python-import-statement-only-recognizes-packages-from-certain-directories",
            "title": "Python import statement only recognizes packages from certain directories?",
            "body": "<p>This is one of the weirder issues I've come across and I can't figure out what is causing it. </p>\n\n<p>I have a <code>from x import x</code> statement and it only works in certain file directories.</p>\n\n<p>for example, from my <code>userroot</code> directory </p>\n\n<pre><code>C:\\Users\\admin&gt;where python\nC:\\scoop\\shims\\python.exe\n\nC:\\Users\\admin&gt;python\nPython 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit \n(AM D64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from influxdb import InfluxDBClient\n&gt;&gt;&gt; ^Z\n</code></pre>\n\n<p>I can import the package just fine - however when I go to the desktop (which is still apart of my user directory) </p>\n\n<pre><code>C:\\Users\\admin&gt;cd Desktop\n\nC:\\Users\\admin\\Desktop&gt;where python\nC:\\scoop\\shims\\python.exe\n\nC:\\Users\\admin\\Desktop&gt;python\nPython 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit (AM D64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from influxdb import InfluxDBClient\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\influxdb\\__init__.py\",\nline 9, in &lt;module&gt;\n    from .client import InfluxDBClient\n  File \"C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\influxdb\\client.py\", li\nne 14, in &lt;module&gt;\n    import requests\n  File \"C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\requests\\__init__.py\",\nline 43, in &lt;module&gt;\n    import urllib3\n  File \"C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\urllib3\\__init__.py\", l\nine 8, in &lt;module&gt;\n    from .connectionpool import (\n  File \"C:\\scoop\\apps\\python27\\current\\lib\\site-packages\\urllib3\\connectionpool.\npy\", line 3, in &lt;module&gt;\n    import logging\n  File \"logging.py\", line 4, in &lt;module&gt;\n    from influxdb import InfluxDBClient\nImportError: cannot import name InfluxDBClient\n&gt;&gt;&gt; ^Z\n</code></pre>\n\n<p>So going into my desktop directory, though still using the same python.exe, will not allow my to import the same package.</p>\n\n<p>What makes this more bizarre, if I look at the <code>sys.path</code> </p>\n\n<pre><code>C:\\Users\\admin\\Desktop&gt;python\nPython 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit (AM\nD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.path\n['', 'C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\python27.zip', 'C:\\\\scoop\\\\apps\\\\pytho\nn27\\\\current\\\\DLLs', 'C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib', 'C:\\\\scoop\\\\apps\n\\\\python27\\\\current\\\\lib\\\\plat-win', 'C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib\\\\l\nib-tk', 'C:\\\\scoop\\\\apps\\\\python27\\\\current', 'C:\\\\scoop\\\\apps\\\\python27\\\\curren\nt\\\\lib\\\\site-packages']\n&gt;&gt;&gt; ^Z\n</code></pre>\n\n<p>And for the root directory -</p>\n\n<pre><code>C:\\Users\\admin\\Desktop&gt;cd..\n\nC:\\Users\\admin&gt;python\nPython 2.7.14 (v2.7.14:84471935ed, Sep 16 2017, 20:25:58) [MSC v.1500 64 bit (AM\nD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.path\n['', 'C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\python27.zip', 'C:\\\\scoop\\\\apps\\\\pytho\nn27\\\\current\\\\DLLs', 'C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib', 'C:\\\\scoop\\\\apps\n\\\\python27\\\\current\\\\lib\\\\plat-win', 'C:\\\\scoop\\\\apps\\\\python27\\\\current\\\\lib\\\\l\nib-tk', 'C:\\\\scoop\\\\apps\\\\python27\\\\current', 'C:\\\\scoop\\\\apps\\\\python27\\\\curren\nt\\\\lib\\\\site-packages']\n&gt;&gt;&gt; ^Z\n</code></pre>\n\n<p>You can see they are exactly the same. I figured it might be an Environmental variable issue, but why would it work in the <code>userroot</code> and not on the <code>useroot/Desktop</code>? And this doesnt seem to be just a <code>influxdb</code> error, <code>BeautifulSoup</code> does the same thing. </p>\n\n<p>This is being ran from an elevated cmd prompt on an admin account. I've tried uninstalling and reinstalling python. I've tried both python2 and python3. I've tried setting <code>PYTHONPATH</code>.</p>\n\n<p>Any thoughts?</p>\n"
        },
        {
            "tags": [
                "keras"
            ],
            "owner": {
                "reputation": 265,
                "user_id": 1692060,
                "user_type": "registered",
                "accept_rate": 81,
                "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1",
                "display_name": "Slowpoke",
                "link": "https://stackoverflow.com/users/1692060/slowpoke"
            },
            "is_answered": true,
            "view_count": 53,
            "accepted_answer_id": 50004505,
            "answer_count": 2,
            "score": 0,
            "last_activity_date": 1524601675,
            "creation_date": 1524228079,
            "last_edit_date": 1524597726,
            "question_id": 49941903,
            "body_markdown": "EDIT2: my code https://github.com/hcl14/my_simple_LSTM\r\n\r\nI have the model of the following structure: Two LSTMs (question and answer) and additional attention layer which can be considered on top of answer. Here is the version which uses sum and softmax to compare two outputs:\r\n\r\n[![LSTM][1]][1]\r\n\r\n    #question\r\n    qenc = Sequential()\r\n    qenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\r\n                       input_length=seq_maxlen,\r\n                       weights=[embedding_weights]))\r\n    qenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True), \r\n                           merge_mode=&quot;sum&quot;))\r\n    qenc.add(Dropout(0.3))\r\n    qenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=&quot;valid&quot;))\r\n    qenc.add(MaxPooling1D(pool_length=2, border_mode=&quot;valid&quot;))\r\n    qenc.add(Dropout(0.3))\r\n    \r\n    # answer\r\n    aenc = Sequential()\r\n    aenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\r\n                       input_length=seq_maxlen,\r\n                       weights=[embedding_weights]))\r\n    aenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True),\r\n                           merge_mode=&quot;sum&quot;))\r\n    aenc.add(Dropout(0.3))\r\n    aenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=&quot;valid&quot;))\r\n    aenc.add(MaxPooling1D(pool_length=2, border_mode=&quot;valid&quot;))\r\n    aenc.add(Dropout(0.3))\r\n    \r\n    # attention model\r\n    attn = Sequential()\r\n    attn.add(Merge([qenc, aenc], mode=&quot;dot&quot;, dot_axes=[1, 1]))\r\n    attn.add(Flatten())\r\n    #attn.add(Dense((seq_maxlen * QA_EMBED_SIZE)))\r\n    #attn.add(Reshape((seq_maxlen, QA_EMBED_SIZE)))\r\n    attn.add(Dense((qenc.output_shape[1]*(QA_EMBED_SIZE // 2))))\r\n    attn.add(Reshape((qenc.output_shape[1], QA_EMBED_SIZE // 2)))\r\n    \r\n    # Plain sum - not working properly!\r\n    model = Sequential()\r\n    model.add(Merge([qenc, attn], mode=&quot;sum&quot;))\r\n    model.add(Flatten())\r\n    model.add(Dense(1, activation=&quot;softmax&quot;))\r\n\r\n\r\nThe network here is working, but the plain sum + softmax is a wrong choice and does not give results desired. What I want is to use cosine similarity between `qenc` and `attn`, but their shapes are `(None, 48, 32)` (these numbers vary depending on data used). What I&#39;m thinking about is to flatten both and use cosine similarity, comparing with 0-1 labels. \r\n\r\nThe problem is how to use cosine there? I can&#39;t flatten `qenc` as it is used in Merge when `attn` is calculated and shape matters there. I tried:\r\n\r\n\r\nLambda - doesn&#39;t work. I does not accept sequential model, just layers output, which is not layer, but tensor, so can&#39;t be added.\r\n\r\n    def cosine_distance(vests):\r\n        x, y = vests\r\n        x = K.batch_flatten(x)\r\n        y = K.batch_flatten(y)\r\n        x = K.l2_normalize(x, axis=-1)\r\n        y = K.l2_normalize(y, axis=-1)\r\n        return -K.mean(x * y, axis=-1)\r\n    \r\n    model = Sequential()\r\n    model.add(Lambda(cosine_distance)([qenc.layers[-1].output,attn.layers[-1].output]))\r\n\r\n\r\nIntermediate flattening models - results in errors like &quot;Merge object does not have batch_size attribute&quot; or something like that:\r\n\r\n    flattened_attn = Sequential()    \r\n    flattened_attn.add(attn)    \r\n    flattened_attn.add(Flatten())\r\n    \r\n    flattened_qenc = ...\r\n    \r\n    model = Sequential()\r\n    model.add(Merge([flattened_attn, flattned_qenc], mode=&quot;cos&quot;, dot_axes=1))\r\n\r\nAt last, I achieved to pass flattened data with shape `(None, 1536)`:\r\n\r\n\r\n    qenc = Sequential()\r\n    qenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\r\n                       input_length=seq_maxlen,\r\n                       weights=[embedding_weights]))\r\n    qenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True), \r\n                           merge_mode=&quot;sum&quot;))\r\n    qenc.add(Dropout(0.3))\r\n    qenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=&quot;valid&quot;))\r\n    qenc.add(MaxPooling1D(pool_length=2, border_mode=&quot;valid&quot;))\r\n    qenc.add(Dropout(0.3))\r\n    qenc.add(Flatten())\r\n    \r\n    aenc = Sequential()\r\n    aenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\r\n                       input_length=seq_maxlen,\r\n                       weights=[embedding_weights]))\r\n    aenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True),\r\n                           merge_mode=&quot;sum&quot;))\r\n    aenc.add(Dropout(0.3))\r\n    aenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=&quot;valid&quot;))\r\n    aenc.add(MaxPooling1D(pool_length=2, border_mode=&quot;valid&quot;))\r\n    aenc.add(Dropout(0.3))\r\n    \r\n    \r\n    unflattened_qenc = Sequential()\r\n    unflattened_qenc.add(qenc)\r\n    unflattened_qenc.add(Reshape((aenc.output_shape[1],aenc.output_shape[2])))\r\n    \r\n    # attention model\r\n    attn = Sequential()\r\n    attn.add(Merge([unflattened_qenc, aenc], mode=&quot;dot&quot;, dot_axes=[1, 1]))\r\n    attn.add(Flatten())\r\n    #attn.add(Dense((seq_maxlen * QA_EMBED_SIZE)))\r\n    #attn.add(Reshape((seq_maxlen, QA_EMBED_SIZE)))\r\n    attn.add(Dense((aenc.output_shape[1]*(QA_EMBED_SIZE // 2))))\r\n    attn.add(Reshape((aenc.output_shape[1], QA_EMBED_SIZE // 2)))\r\n    attn.add(Flatten())\r\n    \r\n    \r\n    model = Sequential()\r\n    attn.add(Merge([qenc, attn], mode=&quot;cos&quot;, dot_axes=1))\r\n\r\nAnd got the error: \r\n\r\n      attn.add(Merge([qenc, attn], mode=&quot;cos&quot;, dot_axes=1))\r\n    Traceback (most recent call last):\r\n      File &quot;qa-lstm-attn.py&quot;, line 175, in &lt;module&gt;\r\n        attn.add(Merge([qenc, attn], mode=&quot;cos&quot;, dot_axes=1))\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/models.py&quot;, line 492, in add\r\n        output_tensor = layer(self.outputs[0])\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/engine/topology.py&quot;, line 617, in __call__\r\n        output = self.call(inputs, **kwargs)\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/legacy/layers.py&quot;, line 202, in call\r\n        &#39;(at least 2). Got: &#39; + str(inputs))\r\n    TypeError: Merge must be called on a list of tensors (at least 2). Got: Tensor(&quot;flatten_3/Reshape:0&quot;, shape=(?, ?), dtype=float32)\r\n    &gt;&gt;&gt; qenc.output_shape\r\n    (None, 1536)\r\n    &gt;&gt;&gt; aenc.output_shape\r\n    (None, 48, 32)\r\n    &gt;&gt;&gt; attn.output_shape\r\n    (None, 1536)\r\n\r\nHow to do cosine then? \r\n\r\nKeras v. 2.1.4\r\n\r\n\r\n\r\nUPD: After fixing `model.add()` copypaste error I have:\r\n\r\n    model = Sequential()\r\n    model.add(Merge([qenc, attn], mode=&quot;cos&quot;, dot_axes=1))\r\n\r\nError message:\r\n\r\n      File &quot;qa-lstm-attn.py&quot;, line 195, in &lt;module&gt;\r\n        callbacks=[checkpoint])\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/models.py&quot;, line 963, in fit\r\n        validation_steps=validation_steps)\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/engine/training.py&quot;, line 1637, in fit\r\n        batch_size=batch_size)\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/engine/training.py&quot;, line 1483, in _standardize_user_data\r\n        exception_prefix=&#39;input&#39;)\r\n      File &quot;/home/hcl/.local/lib/python3.5/site-packages/keras/engine/training.py&quot;, line 86, in _standardize_input_data\r\n        str(len(data)) + &#39; arrays: &#39; + str(data)[:200] + &#39;...&#39;)\r\n    ValueError: Error when checking model input: the list of Numpy arrays that you are passing to your model is not the size the model expected. Expected to see 3 array(s), but instead got the following list of 2 arrays: [array([[ 1676,    19,   328, ...,  1612,    29,  4220],\r\n           [    0,     0,     0, ...,     4,    27,  4807],\r\n           [ 2928,     9,  1652, ...,   125,     9,   181],\r\n           ...,\r\n           [ 5970,   14...\r\n\r\n\r\nHow the callback is called:\r\n\r\n    model.compile(optimizer=&quot;adam&quot;, loss=&quot;mean_squared_error&quot;,\r\n                  metrics=[&quot;accuracy&quot;])\r\n    \r\n    print(&quot;Training...&quot;)\r\n    checkpoint = ModelCheckpoint(\r\n        filepath=os.path.join(MODEL_DIR, &quot;qa-lstm-attn-best.hdf5&quot;),\r\n        verbose=1, save_best_only=True)\r\n    model.fit([Xqtrain, Xatrain], Ytrain, batch_size=BATCH_SIZE,\r\n              nb_epoch=NBR_EPOCHS, validation_split=0.1,\r\n              callbacks=[checkpoint])\r\n\r\n\r\nI think Keras does not understand that one of the models was reused and expects additional input.\r\n\r\nMy model is actually a modified version of this code, which does not work properly, because model just learns to answer False always (the author warns about it):\r\n\r\nhttps://github.com/sujitpal/dl-models-for-qa\r\n\r\n\r\nhttps://github.com/sujitpal/dl-models-for-qa/blob/master/src/qa-blstm-attn.py\r\n\r\n\r\n\r\n------\r\n\r\n#EDIT\r\n\r\nExplanations for @daniel-m&#246;ller:  I want to implement the model from the article https://arxiv.org/abs/1511.04108 . As long, as the model computes cosine between question and answer, my labels are 0 and 1 (answer matches question and not). The dataset consists of a question and 4 variants of the answer, where one is correct. Here is how I prepare it (`kaggle.py`) by creating 4 data pairs, with one having True:\r\n\r\n\r\n\r\n    def get_question_answer_pairs(question_file, is_test=False):\r\n        qapairs = []\r\n        fqa = open(question_file, &quot;r&quot;)\r\n        \r\n        data = json.load(fqa)\r\n        for l, line in enumerate(data):\r\n            \r\n            if l%100==0:\r\n                print(l)\r\n            \r\n            question = line[&quot;question&quot;]+&quot; &quot;+line[&quot;support&quot;]\r\n            \r\n            qwords = tokenizer(question)\r\n            \r\n            #qwords = nltk.word_tokenize(question)\r\n            \r\n            if len(qwords)&gt;100:\r\n                qwords=qwords[:100]\r\n            \r\n            if not is_test:\r\n                correct_ans = line[&quot;correct_answer&quot;],\r\n                answers = [line[&quot;distractor1&quot;],line[&quot;distractor2&quot;],line[&quot;distractor3&quot;],correct_ans[0]]\r\n                \r\n                new_order = [0,1,2,3]\r\n                random.shuffle(new_order)\r\n                \r\n                answers = [ answers[i] for i in new_order]\r\n                \r\n                correct_ans_idx = new_order[-1]\r\n                \r\n                # training file parsing\r\n                #correct_ans_idx = ord(correct_ans) - ord(&#39;A&#39;)\r\n                for idx, answer in enumerate(answers):\r\n                    #awords = nltk.word_tokenize(answer)\r\n                    #print(answer)\r\n                    awords = tokenizer(answer)\r\n                    qapairs.append((qwords, awords, idx == correct_ans_idx))\r\n            else:\r\n                # test file parsing (no correct answer)\r\n                answers = cols[2:]\r\n                for answer in answers:\r\n                    awords = nltk.word_tokenize(answer)\r\n                    qapairs.append((qwords, awords, None))\r\n        fqa.close()\r\n        return qapairs\r\n        \r\nYou don&#39;t need to recompute qapairs, they are already saved and loaded via line in the main program:\r\n\r\n    with open(&quot;processed_input.pickle&quot;, &#39;rb&#39;) as f:\r\n        qapairs = pickle.load(f)\r\n\r\nHere is the example (please scroll to the right to see answers and true-false labels):\r\n\r\n    &gt;&gt;&gt; qapairs[0]\r\n    ([&#39;what&#39;, &#39;type&#39;, &#39;of&#39;, &#39;organism&#39;, &#39;is&#39;, &#39;commonly&#39;, &#39;used&#39;, &#39;in&#39;, &#39;preparation&#39;, &#39;of&#39;, &#39;foods&#39;, &#39;such&#39;, &#39;as&#39;, &#39;cheese&#39;, &#39;and&#39;, &#39;yogurt&#39;, &#39;&#39;, &#39;mesophiles&#39;, &#39;grow&#39;, &#39;best&#39;, &#39;in&#39;, &#39;moderate&#39;, &#39;temperature&#39;, &#39;typically&#39;, &#39;between&#39;, &#39;25&#176;c&#39;, &#39;and&#39;, &#39;40&#176;c&#39;, &#39;(77&#176;f&#39;, &#39;and&#39;, &#39;104&#176;f)&#39;, &#39;mesophiles&#39;, &#39;are&#39;, &#39;often&#39;, &#39;found&#39;, &#39;living&#39;, &#39;in&#39;, &#39;or&#39;, &#39;on&#39;, &#39;the&#39;, &#39;bodies&#39;, &#39;of&#39;, &#39;humans&#39;, &#39;or&#39;, &#39;other&#39;, &#39;animals&#39;, &#39;the&#39;, &#39;optimal&#39;, &#39;growth&#39;, &#39;temperature&#39;, &#39;of&#39;, &#39;many&#39;, &#39;pathogenic&#39;, &#39;mesophiles&#39;, &#39;is&#39;, &#39;37&#176;c&#39;, &#39;(98&#176;f)&#39;, &#39;the&#39;, &#39;normal_human&#39;, &#39;body&#39;, &#39;temperature&#39;, &#39;mesophilic&#39;, &#39;organisms&#39;, &#39;have&#39;, &#39;important&#39;, &#39;uses&#39;, &#39;in&#39;, &#39;food&#39;, &#39;preparation&#39;, &#39;including&#39;, &#39;cheese&#39;, &#39;yogurt&#39;, &#39;beer&#39;, &#39;and&#39;, &#39;wine&#39;], [&#39;viruses&#39;], False)\r\n    &gt;&gt;&gt; qapairs[1]\r\n    ([&#39;what&#39;, &#39;type&#39;, &#39;of&#39;, &#39;organism&#39;, &#39;is&#39;, &#39;commonly&#39;, &#39;used&#39;, &#39;in&#39;, &#39;preparation&#39;, &#39;of&#39;, &#39;foods&#39;, &#39;such&#39;, &#39;as&#39;, &#39;cheese&#39;, &#39;and&#39;, &#39;yogurt&#39;, &#39;&#39;, &#39;mesophiles&#39;, &#39;grow&#39;, &#39;best&#39;, &#39;in&#39;, &#39;moderate&#39;, &#39;temperature&#39;, &#39;typically&#39;, &#39;between&#39;, &#39;25&#176;c&#39;, &#39;and&#39;, &#39;40&#176;c&#39;, &#39;(77&#176;f&#39;, &#39;and&#39;, &#39;104&#176;f)&#39;, &#39;mesophiles&#39;, &#39;are&#39;, &#39;often&#39;, &#39;found&#39;, &#39;living&#39;, &#39;in&#39;, &#39;or&#39;, &#39;on&#39;, &#39;the&#39;, &#39;bodies&#39;, &#39;of&#39;, &#39;humans&#39;, &#39;or&#39;, &#39;other&#39;, &#39;animals&#39;, &#39;the&#39;, &#39;optimal&#39;, &#39;growth&#39;, &#39;temperature&#39;, &#39;of&#39;, &#39;many&#39;, &#39;pathogenic&#39;, &#39;mesophiles&#39;, &#39;is&#39;, &#39;37&#176;c&#39;, &#39;(98&#176;f)&#39;, &#39;the&#39;, &#39;normal_human&#39;, &#39;body&#39;, &#39;temperature&#39;, &#39;mesophilic&#39;, &#39;organisms&#39;, &#39;have&#39;, &#39;important&#39;, &#39;uses&#39;, &#39;in&#39;, &#39;food&#39;, &#39;preparation&#39;, &#39;including&#39;, &#39;cheese&#39;, &#39;yogurt&#39;, &#39;beer&#39;, &#39;and&#39;, &#39;wine&#39;], [&#39;mesophilic&#39;, &#39;organisms&#39;], True)\r\n    &gt;&gt;&gt; qapairs[2]\r\n    ([&#39;what&#39;, &#39;type&#39;, &#39;of&#39;, &#39;organism&#39;, &#39;is&#39;, &#39;commonly&#39;, &#39;used&#39;, &#39;in&#39;, &#39;preparation&#39;, &#39;of&#39;, &#39;foods&#39;, &#39;such&#39;, &#39;as&#39;, &#39;cheese&#39;, &#39;and&#39;, &#39;yogurt&#39;, &#39;&#39;, &#39;mesophiles&#39;, &#39;grow&#39;, &#39;best&#39;, &#39;in&#39;, &#39;moderate&#39;, &#39;temperature&#39;, &#39;typically&#39;, &#39;between&#39;, &#39;25&#176;c&#39;, &#39;and&#39;, &#39;40&#176;c&#39;, &#39;(77&#176;f&#39;, &#39;and&#39;, &#39;104&#176;f)&#39;, &#39;mesophiles&#39;, &#39;are&#39;, &#39;often&#39;, &#39;found&#39;, &#39;living&#39;, &#39;in&#39;, &#39;or&#39;, &#39;on&#39;, &#39;the&#39;, &#39;bodies&#39;, &#39;of&#39;, &#39;humans&#39;, &#39;or&#39;, &#39;other&#39;, &#39;animals&#39;, &#39;the&#39;, &#39;optimal&#39;, &#39;growth&#39;, &#39;temperature&#39;, &#39;of&#39;, &#39;many&#39;, &#39;pathogenic&#39;, &#39;mesophiles&#39;, &#39;is&#39;, &#39;37&#176;c&#39;, &#39;(98&#176;f)&#39;, &#39;the&#39;, &#39;normal_human&#39;, &#39;body&#39;, &#39;temperature&#39;, &#39;mesophilic&#39;, &#39;organisms&#39;, &#39;have&#39;, &#39;important&#39;, &#39;uses&#39;, &#39;in&#39;, &#39;food&#39;, &#39;preparation&#39;, &#39;including&#39;, &#39;cheese&#39;, &#39;yogurt&#39;, &#39;beer&#39;, &#39;and&#39;, &#39;wine&#39;], [&#39;protozoa&#39;], False)\r\n    &gt;&gt;&gt; qapairs[3]\r\n    ([&#39;what&#39;, &#39;type&#39;, &#39;of&#39;, &#39;organism&#39;, &#39;is&#39;, &#39;commonly&#39;, &#39;used&#39;, &#39;in&#39;, &#39;preparation&#39;, &#39;of&#39;, &#39;foods&#39;, &#39;such&#39;, &#39;as&#39;, &#39;cheese&#39;, &#39;and&#39;, &#39;yogurt&#39;, &#39;&#39;, &#39;mesophiles&#39;, &#39;grow&#39;, &#39;best&#39;, &#39;in&#39;, &#39;moderate&#39;, &#39;temperature&#39;, &#39;typically&#39;, &#39;between&#39;, &#39;25&#176;c&#39;, &#39;and&#39;, &#39;40&#176;c&#39;, &#39;(77&#176;f&#39;, &#39;and&#39;, &#39;104&#176;f)&#39;, &#39;mesophiles&#39;, &#39;are&#39;, &#39;often&#39;, &#39;found&#39;, &#39;living&#39;, &#39;in&#39;, &#39;or&#39;, &#39;on&#39;, &#39;the&#39;, &#39;bodies&#39;, &#39;of&#39;, &#39;humans&#39;, &#39;or&#39;, &#39;other&#39;, &#39;animals&#39;, &#39;the&#39;, &#39;optimal&#39;, &#39;growth&#39;, &#39;temperature&#39;, &#39;of&#39;, &#39;many&#39;, &#39;pathogenic&#39;, &#39;mesophiles&#39;, &#39;is&#39;, &#39;37&#176;c&#39;, &#39;(98&#176;f)&#39;, &#39;the&#39;, &#39;normal_human&#39;, &#39;body&#39;, &#39;temperature&#39;, &#39;mesophilic&#39;, &#39;organisms&#39;, &#39;have&#39;, &#39;important&#39;, &#39;uses&#39;, &#39;in&#39;, &#39;food&#39;, &#39;preparation&#39;, &#39;including&#39;, &#39;cheese&#39;, &#39;yogurt&#39;, &#39;beer&#39;, &#39;and&#39;, &#39;wine&#39;], [&#39;gymnosperms&#39;], False)\r\n\r\nThe next step is done by the function `vectorize_qapairs()` in `kaggle.py`/ On github it uses cosine distance, I have changed it to cosine similarity (1 - most similar (zero angle), 0 - not similar(orthogonal)) according to your comment:\r\n\r\n    def vectorize_qapairs(qapairs, word2idx, seq_maxlen):\r\n        Xq, Xa, Y = [], [], []\r\n        for qapair in qapairs:\r\n            Xq.append([word2idx[qword] for qword in qapair[0]])\r\n            Xa.append([word2idx[aword] for aword in qapair[1]])\r\n            #Y.append(np.array([1, 0]) if qapair[2] else np.array([0, 1]))\r\n            # cosine similarity: 1 for 0 degree angle\r\n            Y.append(np.array([1]) if qapair[2] else np.array([0]))\r\n        return (pad_sequences(Xq, maxlen=seq_maxlen), \r\n                pad_sequences(Xa, maxlen=seq_maxlen),\r\n                np.array(Y))\r\n\r\nAs you can see, it places 1 if there is &quot;True&quot; label and zero otherwise.\r\n\r\nNow I want the model to compute cosine, just as on the picture, and then compare it with 0-1 label. I believe what you did is correct and model is working now, but I want it to start learning instead of outputting numbers around accuracy=0.75 which corresponds to outputting always False. I have even simplified the code now for debugging purposes, throwing out convolutions:\r\n\r\n    #question\r\n    qenc = Sequential()\r\n    qenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\r\n                       input_length=seq_maxlen))\r\n    qenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True), \r\n                           merge_mode=&quot;sum&quot;))\r\n    \r\n    aenc = Sequential()\r\n    aenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\r\n                       input_length=seq_maxlen))\r\n    aenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True),\r\n                           merge_mode=&quot;sum&quot;))\r\n    \r\n    # attention model\r\n    \r\n    #notice that I&#39;m taking &quot;tensors&quot; qenc.output and aenc.output\r\n    #I&#39;m not passing &quot;models&quot; to a layer, I&#39;m passing tensors \r\n    #that was the problem with your lambda\r\n    \r\n    attOut = Dot(axes=1)([qenc.output, aenc.output]) \r\n        #shape = (samples,QA_EMBED_SIZE//2, QA_EMBED_SIZE//2)\r\n        #I really don&#39;t understand this output shape.... \r\n        #I&#39;d swear it should be (samples, 1, QA_EMBED_SIZE//2)\r\n    attOut = Flatten()(attOut) #shape is now only (samples,)\r\n    #attOut = Dense((qenc.output_shape[1]*(QA_EMBED_SIZE // 2)))(attOut)\r\n    #attOut = Reshape((qenc.output_shape[1], QA_EMBED_SIZE // 2))(attOut) \r\n    attOut = Dense((qenc.output_shape[1]*(QA_EMBED_SIZE)))(attOut)\r\n    attOut = Reshape((qenc.output_shape[1], QA_EMBED_SIZE))(attOut) \r\n    \r\n    \r\n    \r\n    flatAttOut = Flatten()(attOut)\r\n    flatQencOut = Flatten()(qenc.output)\r\n    similarity = Dot(axes=1,normalize=True)([flatQencOut,flatAttOut])\r\n    \r\n    model = Model([qenc.input,aenc.input],similarity)\r\n    \r\n    # I tried MSE and binary crossentropy\r\n    model.compile(optimizer=&quot;adam&quot;, loss=&quot;binary_crossentropy&quot;,\r\n                  metrics=[&quot;accuracy&quot;])\r\n    \r\n    print(&quot;Training...&quot;)\r\n    checkpoint = ModelCheckpoint(\r\n        filepath=os.path.join(MODEL_DIR, &quot;qa-lstm-attn-best.hdf5&quot;),\r\n        verbose=1, save_best_only=True)\r\n    model.fit([Xqtrain, Xatrain], Ytrain, batch_size=BATCH_SIZE,\r\n              nb_epoch=NBR_EPOCHS, validation_split=0.1,\r\n              callbacks=[checkpoint])\r\n\r\n\r\nThe code is not entirely mine of course, I used the implementation from https://github.com/sujitpal/dl-models-for-qa  which computes `Dense(2)` layer and suffers from the same problem of learning to output only false.\r\n\r\nI wonder if I am making some mistake I cannot understand. Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XMhsU.png\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
            "link": "https://stackoverflow.com/questions/49941903/keras-compute-cosine-distance-between-two-flattened-outputs",
            "title": "Keras: compute cosine distance between two flattened outputs",
            "body": "<p>EDIT2: my code <a href=\"https://github.com/hcl14/my_simple_LSTM\" rel=\"nofollow noreferrer\">https://github.com/hcl14/my_simple_LSTM</a></p>\n\n<p>I have the model of the following structure: Two LSTMs (question and answer) and additional attention layer which can be considered on top of answer. Here is the version which uses sum and softmax to compare two outputs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XMhsU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMhsU.png\" alt=\"LSTM\"></a></p>\n\n<pre><code>#question\nqenc = Sequential()\nqenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\n                   input_length=seq_maxlen,\n                   weights=[embedding_weights]))\nqenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True), \n                       merge_mode=\"sum\"))\nqenc.add(Dropout(0.3))\nqenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=\"valid\"))\nqenc.add(MaxPooling1D(pool_length=2, border_mode=\"valid\"))\nqenc.add(Dropout(0.3))\n\n# answer\naenc = Sequential()\naenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\n                   input_length=seq_maxlen,\n                   weights=[embedding_weights]))\naenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True),\n                       merge_mode=\"sum\"))\naenc.add(Dropout(0.3))\naenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=\"valid\"))\naenc.add(MaxPooling1D(pool_length=2, border_mode=\"valid\"))\naenc.add(Dropout(0.3))\n\n# attention model\nattn = Sequential()\nattn.add(Merge([qenc, aenc], mode=\"dot\", dot_axes=[1, 1]))\nattn.add(Flatten())\n#attn.add(Dense((seq_maxlen * QA_EMBED_SIZE)))\n#attn.add(Reshape((seq_maxlen, QA_EMBED_SIZE)))\nattn.add(Dense((qenc.output_shape[1]*(QA_EMBED_SIZE // 2))))\nattn.add(Reshape((qenc.output_shape[1], QA_EMBED_SIZE // 2)))\n\n# Plain sum - not working properly!\nmodel = Sequential()\nmodel.add(Merge([qenc, attn], mode=\"sum\"))\nmodel.add(Flatten())\nmodel.add(Dense(1, activation=\"softmax\"))\n</code></pre>\n\n<p>The network here is working, but the plain sum + softmax is a wrong choice and does not give results desired. What I want is to use cosine similarity between <code>qenc</code> and <code>attn</code>, but their shapes are <code>(None, 48, 32)</code> (these numbers vary depending on data used). What I'm thinking about is to flatten both and use cosine similarity, comparing with 0-1 labels. </p>\n\n<p>The problem is how to use cosine there? I can't flatten <code>qenc</code> as it is used in Merge when <code>attn</code> is calculated and shape matters there. I tried:</p>\n\n<p>Lambda - doesn't work. I does not accept sequential model, just layers output, which is not layer, but tensor, so can't be added.</p>\n\n<pre><code>def cosine_distance(vests):\n    x, y = vests\n    x = K.batch_flatten(x)\n    y = K.batch_flatten(y)\n    x = K.l2_normalize(x, axis=-1)\n    y = K.l2_normalize(y, axis=-1)\n    return -K.mean(x * y, axis=-1)\n\nmodel = Sequential()\nmodel.add(Lambda(cosine_distance)([qenc.layers[-1].output,attn.layers[-1].output]))\n</code></pre>\n\n<p>Intermediate flattening models - results in errors like \"Merge object does not have batch_size attribute\" or something like that:</p>\n\n<pre><code>flattened_attn = Sequential()    \nflattened_attn.add(attn)    \nflattened_attn.add(Flatten())\n\nflattened_qenc = ...\n\nmodel = Sequential()\nmodel.add(Merge([flattened_attn, flattned_qenc], mode=\"cos\", dot_axes=1))\n</code></pre>\n\n<p>At last, I achieved to pass flattened data with shape <code>(None, 1536)</code>:</p>\n\n<pre><code>qenc = Sequential()\nqenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\n                   input_length=seq_maxlen,\n                   weights=[embedding_weights]))\nqenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True), \n                       merge_mode=\"sum\"))\nqenc.add(Dropout(0.3))\nqenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=\"valid\"))\nqenc.add(MaxPooling1D(pool_length=2, border_mode=\"valid\"))\nqenc.add(Dropout(0.3))\nqenc.add(Flatten())\n\naenc = Sequential()\naenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\n                   input_length=seq_maxlen,\n                   weights=[embedding_weights]))\naenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True),\n                       merge_mode=\"sum\"))\naenc.add(Dropout(0.3))\naenc.add(Convolution1D(QA_EMBED_SIZE // 2, 5, border_mode=\"valid\"))\naenc.add(MaxPooling1D(pool_length=2, border_mode=\"valid\"))\naenc.add(Dropout(0.3))\n\n\nunflattened_qenc = Sequential()\nunflattened_qenc.add(qenc)\nunflattened_qenc.add(Reshape((aenc.output_shape[1],aenc.output_shape[2])))\n\n# attention model\nattn = Sequential()\nattn.add(Merge([unflattened_qenc, aenc], mode=\"dot\", dot_axes=[1, 1]))\nattn.add(Flatten())\n#attn.add(Dense((seq_maxlen * QA_EMBED_SIZE)))\n#attn.add(Reshape((seq_maxlen, QA_EMBED_SIZE)))\nattn.add(Dense((aenc.output_shape[1]*(QA_EMBED_SIZE // 2))))\nattn.add(Reshape((aenc.output_shape[1], QA_EMBED_SIZE // 2)))\nattn.add(Flatten())\n\n\nmodel = Sequential()\nattn.add(Merge([qenc, attn], mode=\"cos\", dot_axes=1))\n</code></pre>\n\n<p>And got the error: </p>\n\n<pre><code>  attn.add(Merge([qenc, attn], mode=\"cos\", dot_axes=1))\nTraceback (most recent call last):\n  File \"qa-lstm-attn.py\", line 175, in &lt;module&gt;\n    attn.add(Merge([qenc, attn], mode=\"cos\", dot_axes=1))\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/models.py\", line 492, in add\n    output_tensor = layer(self.outputs[0])\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/engine/topology.py\", line 617, in __call__\n    output = self.call(inputs, **kwargs)\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/legacy/layers.py\", line 202, in call\n    '(at least 2). Got: ' + str(inputs))\nTypeError: Merge must be called on a list of tensors (at least 2). Got: Tensor(\"flatten_3/Reshape:0\", shape=(?, ?), dtype=float32)\n&gt;&gt;&gt; qenc.output_shape\n(None, 1536)\n&gt;&gt;&gt; aenc.output_shape\n(None, 48, 32)\n&gt;&gt;&gt; attn.output_shape\n(None, 1536)\n</code></pre>\n\n<p>How to do cosine then? </p>\n\n<p>Keras v. 2.1.4</p>\n\n<p>UPD: After fixing <code>model.add()</code> copypaste error I have:</p>\n\n<pre><code>model = Sequential()\nmodel.add(Merge([qenc, attn], mode=\"cos\", dot_axes=1))\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>  File \"qa-lstm-attn.py\", line 195, in &lt;module&gt;\n    callbacks=[checkpoint])\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/models.py\", line 963, in fit\n    validation_steps=validation_steps)\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/engine/training.py\", line 1637, in fit\n    batch_size=batch_size)\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/engine/training.py\", line 1483, in _standardize_user_data\n    exception_prefix='input')\n  File \"/home/hcl/.local/lib/python3.5/site-packages/keras/engine/training.py\", line 86, in _standardize_input_data\n    str(len(data)) + ' arrays: ' + str(data)[:200] + '...')\nValueError: Error when checking model input: the list of Numpy arrays that you are passing to your model is not the size the model expected. Expected to see 3 array(s), but instead got the following list of 2 arrays: [array([[ 1676,    19,   328, ...,  1612,    29,  4220],\n       [    0,     0,     0, ...,     4,    27,  4807],\n       [ 2928,     9,  1652, ...,   125,     9,   181],\n       ...,\n       [ 5970,   14...\n</code></pre>\n\n<p>How the callback is called:</p>\n\n<pre><code>model.compile(optimizer=\"adam\", loss=\"mean_squared_error\",\n              metrics=[\"accuracy\"])\n\nprint(\"Training...\")\ncheckpoint = ModelCheckpoint(\n    filepath=os.path.join(MODEL_DIR, \"qa-lstm-attn-best.hdf5\"),\n    verbose=1, save_best_only=True)\nmodel.fit([Xqtrain, Xatrain], Ytrain, batch_size=BATCH_SIZE,\n          nb_epoch=NBR_EPOCHS, validation_split=0.1,\n          callbacks=[checkpoint])\n</code></pre>\n\n<p>I think Keras does not understand that one of the models was reused and expects additional input.</p>\n\n<p>My model is actually a modified version of this code, which does not work properly, because model just learns to answer False always (the author warns about it):</p>\n\n<p><a href=\"https://github.com/sujitpal/dl-models-for-qa\" rel=\"nofollow noreferrer\">https://github.com/sujitpal/dl-models-for-qa</a></p>\n\n<p><a href=\"https://github.com/sujitpal/dl-models-for-qa/blob/master/src/qa-blstm-attn.py\" rel=\"nofollow noreferrer\">https://github.com/sujitpal/dl-models-for-qa/blob/master/src/qa-blstm-attn.py</a></p>\n\n<hr>\n\n<h1>EDIT</h1>\n\n<p>Explanations for @daniel-möller:  I want to implement the model from the article <a href=\"https://arxiv.org/abs/1511.04108\" rel=\"nofollow noreferrer\">https://arxiv.org/abs/1511.04108</a> . As long, as the model computes cosine between question and answer, my labels are 0 and 1 (answer matches question and not). The dataset consists of a question and 4 variants of the answer, where one is correct. Here is how I prepare it (<code>kaggle.py</code>) by creating 4 data pairs, with one having True:</p>\n\n<pre><code>def get_question_answer_pairs(question_file, is_test=False):\n    qapairs = []\n    fqa = open(question_file, \"r\")\n\n    data = json.load(fqa)\n    for l, line in enumerate(data):\n\n        if l%100==0:\n            print(l)\n\n        question = line[\"question\"]+\" \"+line[\"support\"]\n\n        qwords = tokenizer(question)\n\n        #qwords = nltk.word_tokenize(question)\n\n        if len(qwords)&gt;100:\n            qwords=qwords[:100]\n\n        if not is_test:\n            correct_ans = line[\"correct_answer\"],\n            answers = [line[\"distractor1\"],line[\"distractor2\"],line[\"distractor3\"],correct_ans[0]]\n\n            new_order = [0,1,2,3]\n            random.shuffle(new_order)\n\n            answers = [ answers[i] for i in new_order]\n\n            correct_ans_idx = new_order[-1]\n\n            # training file parsing\n            #correct_ans_idx = ord(correct_ans) - ord('A')\n            for idx, answer in enumerate(answers):\n                #awords = nltk.word_tokenize(answer)\n                #print(answer)\n                awords = tokenizer(answer)\n                qapairs.append((qwords, awords, idx == correct_ans_idx))\n        else:\n            # test file parsing (no correct answer)\n            answers = cols[2:]\n            for answer in answers:\n                awords = nltk.word_tokenize(answer)\n                qapairs.append((qwords, awords, None))\n    fqa.close()\n    return qapairs\n</code></pre>\n\n<p>You don't need to recompute qapairs, they are already saved and loaded via line in the main program:</p>\n\n<pre><code>with open(\"processed_input.pickle\", 'rb') as f:\n    qapairs = pickle.load(f)\n</code></pre>\n\n<p>Here is the example (please scroll to the right to see answers and true-false labels):</p>\n\n<pre><code>&gt;&gt;&gt; qapairs[0]\n(['what', 'type', 'of', 'organism', 'is', 'commonly', 'used', 'in', 'preparation', 'of', 'foods', 'such', 'as', 'cheese', 'and', 'yogurt', '', 'mesophiles', 'grow', 'best', 'in', 'moderate', 'temperature', 'typically', 'between', '25°c', 'and', '40°c', '(77°f', 'and', '104°f)', 'mesophiles', 'are', 'often', 'found', 'living', 'in', 'or', 'on', 'the', 'bodies', 'of', 'humans', 'or', 'other', 'animals', 'the', 'optimal', 'growth', 'temperature', 'of', 'many', 'pathogenic', 'mesophiles', 'is', '37°c', '(98°f)', 'the', 'normal_human', 'body', 'temperature', 'mesophilic', 'organisms', 'have', 'important', 'uses', 'in', 'food', 'preparation', 'including', 'cheese', 'yogurt', 'beer', 'and', 'wine'], ['viruses'], False)\n&gt;&gt;&gt; qapairs[1]\n(['what', 'type', 'of', 'organism', 'is', 'commonly', 'used', 'in', 'preparation', 'of', 'foods', 'such', 'as', 'cheese', 'and', 'yogurt', '', 'mesophiles', 'grow', 'best', 'in', 'moderate', 'temperature', 'typically', 'between', '25°c', 'and', '40°c', '(77°f', 'and', '104°f)', 'mesophiles', 'are', 'often', 'found', 'living', 'in', 'or', 'on', 'the', 'bodies', 'of', 'humans', 'or', 'other', 'animals', 'the', 'optimal', 'growth', 'temperature', 'of', 'many', 'pathogenic', 'mesophiles', 'is', '37°c', '(98°f)', 'the', 'normal_human', 'body', 'temperature', 'mesophilic', 'organisms', 'have', 'important', 'uses', 'in', 'food', 'preparation', 'including', 'cheese', 'yogurt', 'beer', 'and', 'wine'], ['mesophilic', 'organisms'], True)\n&gt;&gt;&gt; qapairs[2]\n(['what', 'type', 'of', 'organism', 'is', 'commonly', 'used', 'in', 'preparation', 'of', 'foods', 'such', 'as', 'cheese', 'and', 'yogurt', '', 'mesophiles', 'grow', 'best', 'in', 'moderate', 'temperature', 'typically', 'between', '25°c', 'and', '40°c', '(77°f', 'and', '104°f)', 'mesophiles', 'are', 'often', 'found', 'living', 'in', 'or', 'on', 'the', 'bodies', 'of', 'humans', 'or', 'other', 'animals', 'the', 'optimal', 'growth', 'temperature', 'of', 'many', 'pathogenic', 'mesophiles', 'is', '37°c', '(98°f)', 'the', 'normal_human', 'body', 'temperature', 'mesophilic', 'organisms', 'have', 'important', 'uses', 'in', 'food', 'preparation', 'including', 'cheese', 'yogurt', 'beer', 'and', 'wine'], ['protozoa'], False)\n&gt;&gt;&gt; qapairs[3]\n(['what', 'type', 'of', 'organism', 'is', 'commonly', 'used', 'in', 'preparation', 'of', 'foods', 'such', 'as', 'cheese', 'and', 'yogurt', '', 'mesophiles', 'grow', 'best', 'in', 'moderate', 'temperature', 'typically', 'between', '25°c', 'and', '40°c', '(77°f', 'and', '104°f)', 'mesophiles', 'are', 'often', 'found', 'living', 'in', 'or', 'on', 'the', 'bodies', 'of', 'humans', 'or', 'other', 'animals', 'the', 'optimal', 'growth', 'temperature', 'of', 'many', 'pathogenic', 'mesophiles', 'is', '37°c', '(98°f)', 'the', 'normal_human', 'body', 'temperature', 'mesophilic', 'organisms', 'have', 'important', 'uses', 'in', 'food', 'preparation', 'including', 'cheese', 'yogurt', 'beer', 'and', 'wine'], ['gymnosperms'], False)\n</code></pre>\n\n<p>The next step is done by the function <code>vectorize_qapairs()</code> in <code>kaggle.py</code>/ On github it uses cosine distance, I have changed it to cosine similarity (1 - most similar (zero angle), 0 - not similar(orthogonal)) according to your comment:</p>\n\n<pre><code>def vectorize_qapairs(qapairs, word2idx, seq_maxlen):\n    Xq, Xa, Y = [], [], []\n    for qapair in qapairs:\n        Xq.append([word2idx[qword] for qword in qapair[0]])\n        Xa.append([word2idx[aword] for aword in qapair[1]])\n        #Y.append(np.array([1, 0]) if qapair[2] else np.array([0, 1]))\n        # cosine similarity: 1 for 0 degree angle\n        Y.append(np.array([1]) if qapair[2] else np.array([0]))\n    return (pad_sequences(Xq, maxlen=seq_maxlen), \n            pad_sequences(Xa, maxlen=seq_maxlen),\n            np.array(Y))\n</code></pre>\n\n<p>As you can see, it places 1 if there is \"True\" label and zero otherwise.</p>\n\n<p>Now I want the model to compute cosine, just as on the picture, and then compare it with 0-1 label. I believe what you did is correct and model is working now, but I want it to start learning instead of outputting numbers around accuracy=0.75 which corresponds to outputting always False. I have even simplified the code now for debugging purposes, throwing out convolutions:</p>\n\n<pre><code>#question\nqenc = Sequential()\nqenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\n                   input_length=seq_maxlen))\nqenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True), \n                       merge_mode=\"sum\"))\n\naenc = Sequential()\naenc.add(Embedding(output_dim=WORD2VEC_EMBED_SIZE, input_dim=vocab_size,\n                   input_length=seq_maxlen))\naenc.add(Bidirectional(LSTM(QA_EMBED_SIZE, return_sequences=True),\n                       merge_mode=\"sum\"))\n\n# attention model\n\n#notice that I'm taking \"tensors\" qenc.output and aenc.output\n#I'm not passing \"models\" to a layer, I'm passing tensors \n#that was the problem with your lambda\n\nattOut = Dot(axes=1)([qenc.output, aenc.output]) \n    #shape = (samples,QA_EMBED_SIZE//2, QA_EMBED_SIZE//2)\n    #I really don't understand this output shape.... \n    #I'd swear it should be (samples, 1, QA_EMBED_SIZE//2)\nattOut = Flatten()(attOut) #shape is now only (samples,)\n#attOut = Dense((qenc.output_shape[1]*(QA_EMBED_SIZE // 2)))(attOut)\n#attOut = Reshape((qenc.output_shape[1], QA_EMBED_SIZE // 2))(attOut) \nattOut = Dense((qenc.output_shape[1]*(QA_EMBED_SIZE)))(attOut)\nattOut = Reshape((qenc.output_shape[1], QA_EMBED_SIZE))(attOut) \n\n\n\nflatAttOut = Flatten()(attOut)\nflatQencOut = Flatten()(qenc.output)\nsimilarity = Dot(axes=1,normalize=True)([flatQencOut,flatAttOut])\n\nmodel = Model([qenc.input,aenc.input],similarity)\n\n# I tried MSE and binary crossentropy\nmodel.compile(optimizer=\"adam\", loss=\"binary_crossentropy\",\n              metrics=[\"accuracy\"])\n\nprint(\"Training...\")\ncheckpoint = ModelCheckpoint(\n    filepath=os.path.join(MODEL_DIR, \"qa-lstm-attn-best.hdf5\"),\n    verbose=1, save_best_only=True)\nmodel.fit([Xqtrain, Xatrain], Ytrain, batch_size=BATCH_SIZE,\n          nb_epoch=NBR_EPOCHS, validation_split=0.1,\n          callbacks=[checkpoint])\n</code></pre>\n\n<p>The code is not entirely mine of course, I used the implementation from <a href=\"https://github.com/sujitpal/dl-models-for-qa\" rel=\"nofollow noreferrer\">https://github.com/sujitpal/dl-models-for-qa</a>  which computes <code>Dense(2)</code> layer and suffers from the same problem of learning to output only false.</p>\n\n<p>I wonder if I am making some mistake I cannot understand. Thanks!</p>\n"
        },
        {
            "tags": [
                "xml",
                "xslt",
                "xslt-1.0"
            ],
            "owner": {
                "reputation": 1,
                "user_id": 9676733,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/5df9b713d0371df6da0ac14f834334d2?s=128&d=identicon&r=PG&f=1",
                "display_name": "Hengeste",
                "link": "https://stackoverflow.com/users/9676733/hengeste"
            },
            "is_answered": true,
            "view_count": 26,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524601673,
            "creation_date": 1524258054,
            "last_edit_date": 1524259554,
            "question_id": 49949659,
            "body_markdown": "I have very limited experience using XML and XSLT. I’m working with a large amount (about 4,000) highly standardized XML files. I’m very hesitant to edit the XML files, instead I would just like to code an XSLT file to display the tags nicely. The problem I have is that the root element has several namespaces declared on it.\r\n\r\nWhen there is only one namespace, everything works fine.\r\n\r\nXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;ex10.xsl&quot;?&gt;\r\n    &lt;record xmlns=&quot;http://www.loc.gov/MARC21/slim&quot;&gt;\r\n        &lt;LCCN&gt;05040166&lt;/LCCN&gt;\r\n        &lt;call&gt;GN800.B62&lt;/call&gt;\r\n        &lt;author&gt;Edward Thomas Stevens&lt;/author&gt;\r\n        &lt;title&gt;Flint chips&lt;/title&gt;\r\n        &lt;publisher&gt;London: Bell and Daldy, 1870.&lt;/publisher&gt;\r\n        &lt;subject&gt;Archaeology--Stone age.&lt;/subject&gt;\r\n    &lt;/record&gt;\r\n\r\nXSLT:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:a=&quot;http://www.loc.gov/MARC21/slim&quot; exclude-result-prefixes=&quot;a&quot; version=&quot;1.0&quot;&gt;\r\n        &lt;xsl:output method=&quot;html&quot;/&gt;\r\n        &lt;xsl:template match=&quot;/&quot;&gt;\r\n            &lt;html&gt;\r\n                &lt;body&gt;\r\n                    &lt;p&gt;\r\n                        &lt;xsl:value-of select=&quot;a:record/a:title&quot;/&gt;\r\n                        by &lt;xsl:value-of select=&quot;a:record/a:author&quot;/&gt;\r\n                        , located &lt;xsl:value-of select=&quot;a:record/a:call&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                &lt;/body&gt;\r\n            &lt;/html&gt;\r\n        &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nBut when there is one more namespace declared on the root element, I don’t know what to do.\r\n\r\nXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;ex10.xsl&quot;?&gt;\r\n    &lt;record xmlns=&quot;http://www.loc.gov/MARC21/slim&quot; xmlns:cinclude=&quot;http://apache.org/cocoon/include/1.0&quot;&gt;\r\n        &lt;LCCN&gt;05040166&lt;/LCCN&gt;\r\n        &lt;call&gt;GN800.B62&lt;/call&gt;\r\n        &lt;author&gt;Edward Thomas Stevens&lt;/author&gt;\r\n        &lt;title&gt;Flint chips&lt;/title&gt;\r\n        &lt;publisher&gt;London: Bell and Daldy, 1870.&lt;/publisher&gt;\r\n        &lt;subject&gt;Archaeology--Stone age.&lt;/subject&gt;\r\n    &lt;/record&gt;\r\n\r\nThe result I am trying to get is an plain text statement of TITLE by AUTHOR, located at CALL NUMBER. But when I attach the second XML file to the previous XSLT file, it no longer displays properly. I&#39;m assuming this is because of the second namespace declaration, as that is the only thing changed. I would like to get the original result even with the second namespace defalcation.\r\n\r\nI don&#39;t want to delete the extra namespaces because they are part of a standard (MARCXML standard by the Library of Congress). I would like to keep the original XML files as un-edited as possible.\r\n",
            "link": "https://stackoverflow.com/questions/49949659/apply-xslt-to-root-elements-with-more-than-one-namespace",
            "title": "Apply XSLT to root elements with more than one namespace?",
            "body": "<p>I have very limited experience using XML and XSLT. I’m working with a large amount (about 4,000) highly standardized XML files. I’m very hesitant to edit the XML files, instead I would just like to code an XSLT file to display the tags nicely. The problem I have is that the root element has several namespaces declared on it.</p>\n\n<p>When there is only one namespace, everything works fine.</p>\n\n<p>XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"ex10.xsl\"?&gt;\n&lt;record xmlns=\"http://www.loc.gov/MARC21/slim\"&gt;\n    &lt;LCCN&gt;05040166&lt;/LCCN&gt;\n    &lt;call&gt;GN800.B62&lt;/call&gt;\n    &lt;author&gt;Edward Thomas Stevens&lt;/author&gt;\n    &lt;title&gt;Flint chips&lt;/title&gt;\n    &lt;publisher&gt;London: Bell and Daldy, 1870.&lt;/publisher&gt;\n    &lt;subject&gt;Archaeology--Stone age.&lt;/subject&gt;\n&lt;/record&gt;\n</code></pre>\n\n<p>XSLT:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:a=\"http://www.loc.gov/MARC21/slim\" exclude-result-prefixes=\"a\" version=\"1.0\"&gt;\n    &lt;xsl:output method=\"html\"/&gt;\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;html&gt;\n            &lt;body&gt;\n                &lt;p&gt;\n                    &lt;xsl:value-of select=\"a:record/a:title\"/&gt;\n                    by &lt;xsl:value-of select=\"a:record/a:author\"/&gt;\n                    , located &lt;xsl:value-of select=\"a:record/a:call\"/&gt;\n                &lt;/p&gt;\n            &lt;/body&gt;\n        &lt;/html&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>But when there is one more namespace declared on the root element, I don’t know what to do.</p>\n\n<p>XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"ex10.xsl\"?&gt;\n&lt;record xmlns=\"http://www.loc.gov/MARC21/slim\" xmlns:cinclude=\"http://apache.org/cocoon/include/1.0\"&gt;\n    &lt;LCCN&gt;05040166&lt;/LCCN&gt;\n    &lt;call&gt;GN800.B62&lt;/call&gt;\n    &lt;author&gt;Edward Thomas Stevens&lt;/author&gt;\n    &lt;title&gt;Flint chips&lt;/title&gt;\n    &lt;publisher&gt;London: Bell and Daldy, 1870.&lt;/publisher&gt;\n    &lt;subject&gt;Archaeology--Stone age.&lt;/subject&gt;\n&lt;/record&gt;\n</code></pre>\n\n<p>The result I am trying to get is an plain text statement of TITLE by AUTHOR, located at CALL NUMBER. But when I attach the second XML file to the previous XSLT file, it no longer displays properly. I'm assuming this is because of the second namespace declaration, as that is the only thing changed. I would like to get the original result even with the second namespace defalcation.</p>\n\n<p>I don't want to delete the extra namespaces because they are part of a standard (MARCXML standard by the Library of Congress). I would like to keep the original XML files as un-edited as possible.</p>\n"
        },
        {
            "tags": [
                "php",
                "loops",
                "foreach"
            ],
            "owner": {
                "reputation": 34,
                "user_id": 5974628,
                "user_type": "registered",
                "accept_rate": 71,
                "profile_image": "https://www.gravatar.com/avatar/fe4177fcd17b9c281e73922bde2843a1?s=128&d=identicon&r=PG&f=1",
                "display_name": "theJohn",
                "link": "https://stackoverflow.com/users/5974628/thejohn"
            },
            "is_answered": true,
            "view_count": 28,
            "accepted_answer_id": 50010260,
            "answer_count": 1,
            "score": -1,
            "last_activity_date": 1524601668,
            "creation_date": 1524600875,
            "question_id": 50010090,
            "body_markdown": "Is it possible to have stacks without repeating foreach loop from the code below. \r\n\r\n    &lt;?php\r\n    $stack1 = array(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;); \r\n    $lp1 = 0;\r\n    $id1 = 0;\r\n    foreach($stack1 AS $v){         \r\n        $lp1++;\r\n        if($lp1==3){\r\n          break;\r\n        }else{\r\n          $id1++;\r\n          echo &#39;Stack-1 =&gt; &#39;.$v.&#39;&lt;br&gt;&#39;;      \r\n        }    \r\n    }\r\n    $stack2 = array_slice($stack1, $id1);\r\n    $lp2 = 0;\r\n    $id2 = 0;\r\n    foreach ($stack2 as $v2){\r\n        $lp2++;\r\n        if($lp2==3){\r\n          break;\r\n        }else{\r\n          $id2++;\r\n          echo &#39;Stack-2 =&gt; &#39;.$v2.&#39;&lt;br&gt;&#39;;\r\n        }\r\n    }\r\n    $stack3 = array_slice($stack2, $id2);\r\n    $lp3 = 0;\r\n    $id3 = 0;\r\n    foreach ($stack3 as $v3){\r\n        $lp3++;\r\n        if($lp3==3){\r\n          break;\r\n        }else{\r\n          $id3++;\r\n          echo &#39;Stack-3 =&gt; &#39;.$v3.&#39;&lt;br&gt;&#39;;      \r\n        }\r\n    }\r\n    ?&gt;\r\n\r\nThe size of the first stack stack1 is dynamic and could vary from time to time. I have no idea to make it work without repeating the foreach loop here. Please help.\r\n",
            "link": "https://stackoverflow.com/questions/50010090/unlimited-stack-in-php-foreach-loop",
            "title": "Unlimited stack in php foreach loop",
            "body": "<p>Is it possible to have stacks without repeating foreach loop from the code below. </p>\n\n<pre><code>&lt;?php\n$stack1 = array('a', 'b', 'c', 'd', 'e','f','g','h','i','j'); \n$lp1 = 0;\n$id1 = 0;\nforeach($stack1 AS $v){         \n    $lp1++;\n    if($lp1==3){\n      break;\n    }else{\n      $id1++;\n      echo 'Stack-1 =&gt; '.$v.'&lt;br&gt;';      \n    }    \n}\n$stack2 = array_slice($stack1, $id1);\n$lp2 = 0;\n$id2 = 0;\nforeach ($stack2 as $v2){\n    $lp2++;\n    if($lp2==3){\n      break;\n    }else{\n      $id2++;\n      echo 'Stack-2 =&gt; '.$v2.'&lt;br&gt;';\n    }\n}\n$stack3 = array_slice($stack2, $id2);\n$lp3 = 0;\n$id3 = 0;\nforeach ($stack3 as $v3){\n    $lp3++;\n    if($lp3==3){\n      break;\n    }else{\n      $id3++;\n      echo 'Stack-3 =&gt; '.$v3.'&lt;br&gt;';      \n    }\n}\n?&gt;\n</code></pre>\n\n<p>The size of the first stack stack1 is dynamic and could vary from time to time. I have no idea to make it work without repeating the foreach loop here. Please help.</p>\n"
        },
        {
            "tags": [
                "openedge",
                "cross-apply"
            ],
            "owner": {
                "reputation": 15,
                "user_id": 4447330,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/1173474528/picture?type=large",
                "display_name": "Ricardo Castro",
                "link": "https://stackoverflow.com/users/4447330/ricardo-castro"
            },
            "is_answered": false,
            "view_count": 33,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524601659,
            "creation_date": 1523550633,
            "last_edit_date": 1524601659,
            "question_id": 49801710,
            "body_markdown": "I am just starting to work with openedge and I need to join information from two tables but I just need the first row from the second one.\r\n\r\nBasically I need to do a typical SQL Cross Apply but in progress. I look in the documentation and the Statement `FETCH FIRST 10 ROWS ONLY` only in OpenEdge 11.\r\n\r\nMy query is:\r\n\r\n    SELECT * FROM la_of PUB.la_ofart ON la_of.empr_cod = la_ofart.empr_cod \r\n      AND la_of.Cod_Ordf = la_ofart.Cod_Ordf \r\n      AND la_of.Num_ordex = la_ofart.Num_ordex AND la_of.Num_partida = la_ofart.Num_partida\r\n      CROSS APPLY (\r\n        SELECT TOP 1 ofart.Cod_Ordf AS Cod_Ordf_ofart , \r\n                  ofart.Num_ordex AS Num_ordex_ofart\r\n        FROM la_ofart AS ofart\r\n        WHERE ofart.empr_cod = la_ofart.empr_cod \r\n            AND ofart.Num_partida = la_ofart.Num_partida \r\n            AND la_ofart.doc1_num = ofart.doc1_num \r\n            AND la_ofart.doc2_linha = ofart.doc2_linha\r\n        ORDER BY ofart.Cod_Ordf DESC) ofart \r\n\r\nI am using SSMS to extract data from OE10 using an ODBC connector and querying to OE using OpenQuery.\r\n\r\nThanks for all help.",
            "link": "https://stackoverflow.com/questions/49801710/select-top-1-from-a-table-for-each-row-in-another-table",
            "title": "Select Top 1 From a Table For Each row in another Table",
            "body": "<p>I am just starting to work with openedge and I need to join information from two tables but I just need the first row from the second one.</p>\n\n<p>Basically I need to do a typical SQL Cross Apply but in progress. I look in the documentation and the Statement <code>FETCH FIRST 10 ROWS ONLY</code> only in OpenEdge 11.</p>\n\n<p>My query is:</p>\n\n<pre><code>SELECT * FROM la_of PUB.la_ofart ON la_of.empr_cod = la_ofart.empr_cod \n  AND la_of.Cod_Ordf = la_ofart.Cod_Ordf \n  AND la_of.Num_ordex = la_ofart.Num_ordex AND la_of.Num_partida = la_ofart.Num_partida\n  CROSS APPLY (\n    SELECT TOP 1 ofart.Cod_Ordf AS Cod_Ordf_ofart , \n              ofart.Num_ordex AS Num_ordex_ofart\n    FROM la_ofart AS ofart\n    WHERE ofart.empr_cod = la_ofart.empr_cod \n        AND ofart.Num_partida = la_ofart.Num_partida \n        AND la_ofart.doc1_num = ofart.doc1_num \n        AND la_ofart.doc2_linha = ofart.doc2_linha\n    ORDER BY ofart.Cod_Ordf DESC) ofart \n</code></pre>\n\n<p>I am using SSMS to extract data from OE10 using an ODBC connector and querying to OE using OpenQuery.</p>\n\n<p>Thanks for all help.</p>\n"
        },
        {
            "tags": [
                "php",
                "curl"
            ],
            "owner": {
                "reputation": 1863,
                "user_id": 822465,
                "user_type": "registered",
                "accept_rate": 49,
                "profile_image": "https://i.stack.imgur.com/UO5QO.jpg?s=128&g=1",
                "display_name": "PinoyStackOverflower",
                "link": "https://stackoverflow.com/users/822465/pinoystackoverflower"
            },
            "is_answered": false,
            "view_count": 2339,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1524601645,
            "creation_date": 1495459470,
            "question_id": 44114090,
            "body_markdown": "I am getting this error in my PHP Curl\r\n\r\n    * Hostname in DNS cache was stale, zapped\r\n    *   Trying xxx.xx.x.xx...\r\n    * connect to xxx.xx.x.xx port 4005 failed: Connection refused\r\n    * Failed to connect to sample.website.net.au port 4005: Connection refused\r\n    * Closing connection 0\r\n\r\nI have this code:\r\n\r\n    $ch = curl_init();\r\n    \t$headers = array(\r\n    \t\t&#39;Content-type: text/xml&#39;,\r\n    \t\t&#39;charset: utf-8&#39;,\r\n    \t\t&#39;SOAPAction: urn:ServiceQualification#AddresSsearch&#39;,\r\n    \t);\r\n    \tcurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\t\r\n    \tcurl_setopt($ch, CURLOPT_URL, $url);\r\n    \tcurl_setopt($ch, CURLOPT_POST, 1); \r\n    \tcurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); \r\n    \tcurl_setopt($ch, CURLOPT_VERBOSE, true);\r\n    \t$verbose = fopen(&#39;php://temp&#39;, &#39;w+&#39;);\r\n    \tcurl_setopt($ch, CURLOPT_STDERR, $verbose);\r\n    \t\r\n    \tcurl_setopt($ch, CURLOPT_POSTFIELDS, $xml);\r\n    \tcurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);\r\n    \tcurl_setopt($ch, CURLOPT_SSL_VERIFYPEER,false); // This should always be set to &#39;TRUE&#39; when in production to ensure the SSL is enabled.\r\n    \t$response = curl_exec ($ch);    \r\n    \r\n    \tif ($result === FALSE) {\r\n    \t\tprintf(&quot;cUrl error (#%d): %s&lt;br&gt;\\n&quot;, curl_errno($ch),\r\n    \t\t\t   htmlspecialchars(curl_error($ch)));\r\n    \t}\r\n    \r\n    \trewind($verbose);\r\n    \t$verboseLog = stream_get_contents($verbose);\r\n    \r\n    \techo &quot;Verbose information:\\n&lt;pre&gt;&quot;, htmlspecialchars($verboseLog), &quot;&lt;/pre&gt;\\n&quot;;\r\n    \t\r\n    \tcurl_close ($ch);\r\n    \t\r\n    \treturn $response;\r\n\r\nI don&#39;t know why I am having this error. I tried this one in my localhost, and it works perfectly, but when I uploaded it in my server, I am getting the said php curl error.\r\n\r\nWhat seems to be the problem here? Do I need to contact the url that I am trying to connect?\r\n\r\nI am banging my head now, your help will be greatly appreciated.\r\n\r\nThanks!",
            "link": "https://stackoverflow.com/questions/44114090/php-curlconnection-refused",
            "title": "PHP Curl+connection refused",
            "body": "<p>I am getting this error in my PHP Curl</p>\n\n<pre><code>* Hostname in DNS cache was stale, zapped\n*   Trying xxx.xx.x.xx...\n* connect to xxx.xx.x.xx port 4005 failed: Connection refused\n* Failed to connect to sample.website.net.au port 4005: Connection refused\n* Closing connection 0\n</code></pre>\n\n<p>I have this code:</p>\n\n<pre><code>$ch = curl_init();\n    $headers = array(\n        'Content-type: text/xml',\n        'charset: utf-8',\n        'SOAPAction: urn:ServiceQualification#AddresSsearch',\n    );\n    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); \n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_POST, 1); \n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); \n    curl_setopt($ch, CURLOPT_VERBOSE, true);\n    $verbose = fopen('php://temp', 'w+');\n    curl_setopt($ch, CURLOPT_STDERR, $verbose);\n\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $xml);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER,false); // This should always be set to 'TRUE' when in production to ensure the SSL is enabled.\n    $response = curl_exec ($ch);    \n\n    if ($result === FALSE) {\n        printf(\"cUrl error (#%d): %s&lt;br&gt;\\n\", curl_errno($ch),\n               htmlspecialchars(curl_error($ch)));\n    }\n\n    rewind($verbose);\n    $verboseLog = stream_get_contents($verbose);\n\n    echo \"Verbose information:\\n&lt;pre&gt;\", htmlspecialchars($verboseLog), \"&lt;/pre&gt;\\n\";\n\n    curl_close ($ch);\n\n    return $response;\n</code></pre>\n\n<p>I don't know why I am having this error. I tried this one in my localhost, and it works perfectly, but when I uploaded it in my server, I am getting the said php curl error.</p>\n\n<p>What seems to be the problem here? Do I need to contact the url that I am trying to connect?</p>\n\n<p>I am banging my head now, your help will be greatly appreciated.</p>\n\n<p>Thanks!</p>\n"
        }
    ],
    "has_more": true,
    "quota_max": 300,
    "quota_remaining": 299
}